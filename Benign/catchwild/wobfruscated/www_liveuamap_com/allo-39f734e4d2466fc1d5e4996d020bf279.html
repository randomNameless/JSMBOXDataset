<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>allo-39f734e4d2466fc1d5e4996d020bf279.html</title>
</head>
<body>
<script>/*
 jQuery DateTimePicker plugin v2.2.5
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
 @fileOverview TouchSwipe - jQuery Plugin
 @version 1.6.18

 @author Matt Bryson http://www.github.com/mattbryson
 @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 @see http://labs.rampinteractive.co.uk/touchSwipe/
 @see http://plugins.jquery.com/project/touchSwipe
 @license
 Copyright (c) 2010-2015 Matt Bryson
 Dual licensed under the MIT or GPL Version 2 licenses.

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[c]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,c,f,a){if(c){f=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var e=b[a];e in f||(f[e]={});f=f[e]}b=b[b.length-1];a=f[b];c=c(a);c!=a&&null!=c&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var a=this;a instanceof String&&(a=String(a));for(var e=a.length,c=f||0;c<e;c++)if(a[c]==b||Object.is(a[c],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,c,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6-impl","es3");
$jscomp.polyfill("Math.trunc",function(b){return b?b:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}},"es6-impl","es3");$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,f){for(var a=1;a<arguments.length;a++){var e=arguments[a];if(e)for(var c in e)$jscomp.owns(e,c)&&(b[c]=e[c])}return b}},"es6-impl","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var c=0;return $jscomp.iteratorPrototype(function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.polyfill("Array.from",function(b){return b?b:function(b,f,a){$jscomp.initSymbolIterator();f=null!=f?f:function(a){return a};var e=[],c=b[Symbol.iterator];if("function"==typeof c)for(b=c.call(b);!(c=b.next()).done;)e.push(f.call(a,c.value));else for(var c=b.length,l=0;l<c;l++)e.push(f.call(a,b[l]));return e}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6-impl","es5");$jscomp.iteratorFromArray=function(b,c){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,a={next:function(){if(f<b.length){var e=f++;return{value:c(e,b[e]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Reflect.apply",function(b){if(b)return b;var c=Function.prototype.apply;return function(b,a,e){return c.call(b,a,e)}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(b){return b?b:function(b,f,a){void 0===a&&(a=b);a=Object.create(a.prototype||Object.prototype);return Reflect.apply(b,a,f)||a}},"es6","es5");
$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var c=b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function c(){this.batch_=null}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var f=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){f(a,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var e=a[b];delete a[b];try{e()}catch(q){this.asyncThrow_(q)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var a=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(p){b.reject(p)}};a.prototype.createResolveAndReject_=function(){function a(a){return function(c){e||(e=!0,a.call(b,c))}}var b=this,e=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.settleSameAsPromise_(b);else{var e;a:switch(typeof b){case "object":e=null!=b;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};a.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(p){this.reject_(p);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};a.prototype.reject_=function(a){this.settle_(2,a)};a.prototype.fulfill_=function(a){this.settle_(1,a)};a.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),
a[b]=null;this.onSettledCallbacks_=null}};var e=new c;a.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};a.prototype.settleSameAsThenable_=function(a,b){var e=this.createResolveAndReject_();try{a.call(b,e.resolve,e.reject)}catch(q){e.reject(q)}};a.prototype.then=function(b,e){function c(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(Y){k(Y)}}:b}var f,k,l=new a(function(a,b){f=a;k=b});this.callWhenSettled_(c(b,f),
c(e,k));return l};a.prototype["catch"]=function(a){return this.then(void 0,a)};a.prototype.callWhenSettled_=function(a,b){function c(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?e.asyncExecute(c):this.onSettledCallbacks_.push(function(){e.asyncExecute(c)})};a.resolve=function(b){return b instanceof a?b:new a(function(a,e){a(b)})};a.reject=function(b){return new a(function(a,e){e(b)})};
a.race=function(b){return new a(function(e,c){for(var f=$jscomp.makeIterator(b),k=f.next();!k.done;k=f.next())a.resolve(k.value).callWhenSettled_(e,c)})};a.all=function(b){var e=$jscomp.makeIterator(b),c=e.next();return c.done?a.resolve([]):new a(function(b,f){function k(a){return function(e){l[a]=e;p--;0==p&&b(l)}}var l=[],p=0;do l.push(void 0),p++,a.resolve(c.value).callWhenSettled_(k(l.length-1),f),c=e.next();while(!c.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(a.$jscomp$new$AsyncExecutor=function(){return new c});
return a},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(b){return b?b:"object"!=typeof"".__proto__?null:function(b,f){b.__proto__=f;if(b.__proto__!==f)throw new TypeError(b+" is not extensible");return b}},"es6","es5");
$jscomp.polyfill("Reflect.defineProperty",function(b){return b?b:function(b,f,a){try{Object.defineProperty(b,f,a);var e=Object.getOwnPropertyDescriptor(b,f);return e?e.configurable===(a.configurable||!1)&&e.enumerable===(a.enumerable||!1)&&("value"in e?e.value===a.value&&e.writable===(a.writable||!1):e.get===a.get&&e.set===a.set):!1}catch(k){return!1}}},"es6","es5");
$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,f,a){var e=this.length||0;0>f&&(f=Math.max(0,e+f));if(null==a||a>e)a=e;a=Number(a);0>a&&(a=Math.max(0,e+a));for(f=Number(f||0);f<a;f++)this[f]=b;return this}},"es6-impl","es3");$jscomp.findInternal=function(b,c,f){b instanceof String&&(b=String(b));for(var a=b.length,e=0;e<a;e++){var k=b[e];if(c.call(f,k,e,b))return{i:e,v:k}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,f){return $jscomp.findInternal(this,b,f).v}},"es6-impl","es3");
var ready=function(){function b(){if(!e.isReady){try{document.documentElement.doScroll("left")}catch(k){setTimeout(b,1);return}e.ready()}}var c,f,a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},e={isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a&&!--e.readyWait||!0!==a&&!e.isReady){if(!document.body)return setTimeout(e.ready,
1);e.isReady=!0;!0!==a&&0<--e.readyWait||c.resolveWith(document,[e])}},bindReady:function(){if(!c){c=e._Deferred();if("complete"===document.readyState)return setTimeout(e.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",e.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",f);window.attachEvent("onload",e.ready);var a=!1;try{a=null==window.frameElement}catch(l){}document.documentElement.doScroll&&
a&&b()}}},_Deferred:function(){var a=[],b,c,f,t={done:function(){if(!f){var c=arguments,k,l,p,q,V;b&&(V=b,b=0);k=0;for(l=c.length;k<l;k++)p=c[k],q=e.type(p),"array"===q?t.done.apply(t,p):"function"===q&&a.push(p);V&&t.resolveWith(V[0],V[1])}return this},resolveWith:function(e,k){if(!f&&!b&&!c){k=k||[];c=1;try{for(;a[0];)a.shift().apply(e,k)}finally{b=[e,k],c=0}}return this},resolve:function(){t.resolveWith(this,arguments);return this},isResolved:function(){return!(!c&&!b)},cancel:function(){f=1;a=
[];return this}};return t},type:function(b){return null==b?String(b):a[Object.prototype.toString.call(b)]||"object"}};document.addEventListener?f=function(){document.removeEventListener("DOMContentLoaded",f,!1);e.ready()}:document.attachEvent&&(f=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",f),e.ready())});return function(a){e.bindReady();e.type(a);c.done(a)}}();
!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports):"function"==typeof define&&define.amd?define(["exports"],c):c((b="undefined"!=typeof globalThis?globalThis:b||self).leaflet={})}(this,function(b){function c(h){for(var a,b,e=1,c=arguments.length;e<c;e++)for(a in b=arguments[e])h[a]=b[a];return h}function f(){}function a(h,a){var b,r=Array.prototype.slice;return h.bind?h.bind.apply(h,r.call(arguments,1)):(b=r.call(arguments,2),function(){return h.apply(a,b.length?b.concat(r.call(arguments)):
arguments)})}function e(h){return"_leaflet_id"in h||(h._leaflet_id=++Tc),h._leaflet_id}function k(h,a,b){var r,e,c=function(){r=!1;e&&(n.apply(b,e),e=!1)},n=function(){r?e=arguments:(h.apply(b,arguments),setTimeout(c,a),r=!0)};return n}function l(h,a,b){var r=a[1];a=a[0];var e=r-a;return h===r&&b?h:((h-a)%e+e)%e+a}function p(){return!1}function q(h,a){return!1===a?h:(a=Math.pow(10,void 0===a?6:a),Math.round(h*a)/a)}function t(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function u(h){return t(h).split(/\s+/)}
function w(h,a){for(var b in Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?yb(h.options):{}),a)h.options[b]=a[b];return h.options}function M(h,a,b){var r,e=[];for(r in h)e.push(encodeURIComponent(b?r.toUpperCase():r)+"="+encodeURIComponent(h[r]));return(a&&-1!==a.indexOf("?")?"&":"?")+e.join("&")}function Q(h,a){return h.replace(bc,function(h,b){b=a[b];if(void 0===b)throw Error("No value provided for variable "+h);return"function"==typeof b?b(a):b})}function Y(h,a){for(var b=
0;b<h.length;b++)if(h[b]===a)return b;return-1}function V(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}function ja(h){var a=+new Date,b=Math.max(0,16-(a-Bc));return Bc=a+b,window.setTimeout(h,b)}function I(h,b,e){if(!e||Cc!==ja)return Cc.call(window,a(h,b));h.call(b)}function J(h){h&&Dc.call(window,h)}function aa(){}function H(h,a,b){this.x=b?Math.round(h):h;this.y=b?Math.round(a):a}function K(h,a,b){return h instanceof H?h:Wa(h)?new H(h[0],h[1]):null==h?h:"object"==typeof h&&"x"in
h&&"y"in h?new H(h.x,h.y):new H(h,a,b)}function D(h,a){if(h)for(var b=a?[h,a]:h,r=0,e=b.length;r<e;r++)this.extend(b[r])}function P(h,a){return!h||h instanceof D?h:new D(h,a)}function E(h,a){if(h)for(var b=a?[h,a]:h,r=0,e=b.length;r<e;r++)this.extend(b[r])}function Z(h,a){return h instanceof E?h:new E(h,a)}function R(h,a,b){if(isNaN(h)||isNaN(a))throw Error("Invalid LatLng object: ("+h+", "+a+")");this.lat=+h;this.lng=+a;void 0!==b&&(this.alt=+b)}function N(h,a,b){return h instanceof R?h:Wa(h)&&"object"!=
typeof h[0]?3===h.length?new R(h[0],h[1],h[2]):2===h.length?new R(h[0],h[1]):null:null==h?h:"object"==typeof h&&"lat"in h?new R(h.lat,"lng"in h?h.lng:h.lon,h.alt):void 0===a?null:new R(h,a,b)}function ka(h,a,b,e){Wa(h)?(this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3]):(this._a=h,this._b=a,this._c=b,this._d=e)}function v(h,a,b,e){return new ka(h,a,b,e)}function la(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Ma(h,a){for(var b,r,e,c,n="",f=0,k=h.length;f<k;f++){b=
0;for(r=(e=h[f]).length;b<r;b++)n+=(b?"L":"M")+(c=e[b]).x+" "+c.y;n+=a?S.svg?"z":"x":""}return n||"M0 0"}function ra(h){return 0<=navigator.userAgent.toLowerCase().indexOf(h)}function G(h,a,b){return"touchstart"!==a||Uc||(document.addEventListener(Ec,ea,!0),document.addEventListener(Vc,ya,!0),document.addEventListener(Wc,Ea,!0),document.addEventListener(cc,Ea,!0),Uc=!0),oc[a]?(b=oc[a].bind(this,b),h.addEventListener(vc[a],b,!1),b):(console.warn("wrong event specified:",a),p)}function ea(h){dc[h.pointerId]=
h}function ya(h){dc[h.pointerId]&&(dc[h.pointerId]=h)}function Ea(h){delete dc[h.pointerId]}function sa(h,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){for(var b in a.touches=[],dc)a.touches.push(dc[b]);a.changedTouches=[a];h(a)}}function Ia(h,a){function b(h){var b;1!==h.detail?r=h.detail:"mouse"===h.pointerType||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents||(b=T(h)).some(function(h){return h instanceof HTMLLabelElement&&h.attributes["for"]})&&!b.some(function(h){return h instanceof
HTMLInputElement||h instanceof HTMLSelectElement})||(200>=(b=Date.now())-e?2===++r&&a(function(h){var a,b,r={};for(b in h)a=h[b],r[b]=a&&a.bind?a.bind(h):a;return(h=r).type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}(h)):r=1,e=b)}h.addEventListener("dblclick",a);var r,e=0;return h.addEventListener("click",b),{dblclick:a,simDblclick:b}}function Aa(h){return"string"==typeof h?document.getElementById(h):h}function Ja(h,a){var b=h.style[a]||h.currentStyle&&h.currentStyle[a];return"auto"===
(b=b&&"auto"!==b||!document.defaultView?b:(h=document.defaultView.getComputedStyle(h,null))?h[a]:null)?null:b}function da(h,a,b){h=document.createElement(h);return h.className=a||"",b&&b.appendChild(h),h}function oa(h){var a=h.parentNode;a&&a.removeChild(h)}function nb(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function cb(h){var a=h.parentNode;a&&a.lastChild!==h&&a.appendChild(h)}function Ka(h){var a=h.parentNode;a&&a.firstChild!==h&&a.insertBefore(h,a.firstChild)}function Xa(h,a){return void 0!==
h.classList?h.classList.contains(a):0<(h=Eb(h)).length&&(new RegExp("(^|\\s)"+a+"(\\s|$)")).test(h)}function W(h,a){var b;if(void 0!==h.classList){b=u(a);for(var r=0,e=b.length;r<e;r++)h.classList.add(b[r])}else Xa(h,a)||Na(h,((b=Eb(h))?b+" ":"")+a)}function pa(h,a){void 0!==h.classList?h.classList.remove(a):Na(h,t((" "+Eb(h)+" ").replace(" "+a+" "," ")))}function Na(h,a){void 0===h.className.baseVal?h.className=a:h.className.baseVal=a}function Eb(h){return void 0===(h=h.correspondingElement?h.correspondingElement:
h).className.baseVal?h.className:h.className.baseVal}function Pa(h,a){if("opacity"in h.style)h.style.opacity=a;else if("filter"in h.style){var b=!1;try{b=h.filters.item("DXImageTransform.Microsoft.Alpha")}catch(qd){if(1===a)return}a=Math.round(100*a);b?(b.Enabled=100!==a,b.Opacity=a):h.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"}}function ob(h){for(var a=document.documentElement.style,b=0;b<h.length;b++)if(h[b]in a)return h[b];return!1}function fb(h,a,b){a=a||new H(0,0);
h.style[Fc]=(S.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(b?" scale("+b+")":"")}function za(h,a){h._leaflet_pos=a;S.any3d?fb(h,a):(h.style.left=a.x+"px",h.style.top=a.y+"px")}function Qa(h){return h._leaflet_pos||new H(0,0)}function pb(){O(window,"dragstart",ta)}function Ua(){U(window,"dragstart",ta)}function Fb(h){for(;-1===h.tabIndex;)h=h.parentNode;h.style&&(Ra(),Gc=(Nb=h).style.outlineStyle,h.style.outlineStyle="none",O(window,"keydown",Ra))}function Ra(){Nb&&
(Nb.style.outlineStyle=Gc,Gc=Nb=void 0,U(window,"keydown",Ra))}function qb(h){for(;!((h=h.parentNode).offsetWidth&&h.offsetHeight||h===document.body););return h}function Gb(h){var a=h.getBoundingClientRect();return{x:a.width/h.offsetWidth||1,y:a.height/h.offsetHeight||1,boundingClientRect:a}}function O(h,a,b,e){if(a&&"object"==typeof a)for(var r in a)ua(h,r,a[r],b);else{r=0;for(var c=(a=u(a)).length;r<c;r++)ua(h,a[r],b,e)}return this}function U(h,a,b,e){if(1===arguments.length)Fa(h),delete h[gb];
else if(a&&"object"==typeof a)for(var r in a)hb(h,r,a[r],b);else if(a=u(a),2===arguments.length)Fa(h,function(h){return-1!==Y(a,h)});else{r=0;for(var c=a.length;r<c;r++)hb(h,a[r],b,e)}return this}function Fa(h,a){for(var b in h[gb]){var r=b.split(/\d/)[0];a&&!a(r)||hb(h,r,null,null,b)}}function ua(h,a,b,c){var r,n,X=a+e(b)+(c?"_"+e(c):"");h[gb]&&h[gb][X]||(n=r=function(a){return b.call(c||h,a||window.event)},!S.touchNative&&S.pointer&&0===a.indexOf("touch")?r=G(h,a,r):S.touch&&"dblclick"===a?r=Ia(h,
r):"addEventListener"in h?"touchstart"===a||"touchmove"===a||"wheel"===a||"mousewheel"===a?h.addEventListener(Hc[a]||a,r,!!S.passiveEvents&&{passive:!1}):"mouseenter"===a||"mouseleave"===a?h.addEventListener(Hc[a],r=function(a){a=a||window.event;ma(h,a)&&n(a)},!1):h.addEventListener(a,n,!1):h.attachEvent("on"+a,r),h[gb]=h[gb]||{},h[gb][X]=r)}function hb(h,a,b,c,n){n=n||a+e(b)+(c?"_"+e(c):"");var r;(b=h[gb]&&h[gb][n])&&(!S.touchNative&&S.pointer&&0===a.indexOf("touch")?(c=h,r=b,vc[a]?c.removeEventListener(vc[a],
r,!1):console.warn("wrong event specified:",a)):S.touch&&"dblclick"===a?(c=b,(r=h).removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)):"removeEventListener"in h?h.removeEventListener(Hc[a]||a,b,!1):h.detachEvent("on"+a,b),h[gb][n]=null)}function Sa(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function fa(h){return ua(h,"wheel",Sa),this}function Ta(h){return O(h,"mousedown touchstart dblclick contextmenu",
Sa),h._leaflet_disable_click=!0,this}function ta(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Va(h){return ta(h),Sa(h),this}function T(h){if(h.composedPath)return h.composedPath();var a=[];for(h=h.target;h;)a.push(h),h=h.parentNode;return a}function qa(h,a){var b,r;return a?(r=(b=Gb(a)).boundingClientRect,new H((h.clientX-r.left)/b.x-a.clientLeft,(h.clientY-r.top)/b.y-a.clientTop)):new H(h.clientX,h.clientY)}function na(h){return S.edge?h.wheelDeltaY/2:h.deltaY&&0===
h.deltaMode?-h.deltaY/ed:h.deltaY&&1===h.deltaMode?20*-h.deltaY:h.deltaY&&2===h.deltaMode?60*-h.deltaY:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&32765>Math.abs(h.detail)?20*-h.detail:h.detail?h.detail/-32765*60:0}function ma(h,a){var b=a.relatedTarget;if(!b)return!0;try{for(;b&&b!==h;)b=b.parentNode}catch(qd){return!1}return b!==h}function rb(h){return new sb(h)}function La(h,a,b){for(var r,e,c,n,X,f,k=[1,4,2,8],C=0,xa=h.length;C<xa;C++)h[C]._code=Ob(h[C],a);for(c=
0;4>c;c++){X=k[c];r=[];C=0;for(e=(xa=h.length)-1;C<xa;e=C++)n=h[C],e=h[e],n._code&X?e._code&X||((f=ia(e,n,X,a,b))._code=Ob(f,a),r.push(f)):(e._code&X&&((f=ia(e,n,X,a,b))._code=Ob(f,a),r.push(f)),r.push(n));h=r}return h}function Ya(h,a){var b,r,e,c,n,f;if(!h||0===h.length)throw Error("latlngs not passed");Oa(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);for(var C=N([0,0]),k=Z(h),k=(1700>k.getNorthWest().distanceTo(k.getSouthWest())*k.getNorthEast().distanceTo(k.getNorthWest())&&
(C=Hb(h)),h.length),xa=[],l=0;l<k;l++)r=N(h[l]),xa.push(a.project(N([r.lat-C.lat,r.lng-C.lng])));l=c=n=f=0;for(b=k-1;l<k;b=l++)r=xa[l],b=xa[b],e=r.y*b.x-b.y*r.x,n+=(r.x+b.x)*e,f+=(r.y+b.y)*e,c+=3*e;k=0===c?xa[0]:[n/c,f/c];k=a.unproject(K(k));return N([k.lat+C.lat,k.lng+C.lng])}function Hb(h){for(var a=0,b=0,e=0,c=0;c<h.length;c++){var n=N(h[c]),a=a+n.lat,b=b+n.lng;e++}return N([a/e,b/e])}function tb(h,a){if(a&&h.length){var b=h=function(h,a){for(var b=[h[0]],r=1,e=0,c=h.length;r<c;r++){var n=h[r],
X=h[e],f=X.x-n.x,X=X.y-n.y;f*f+X*X>a&&(b.push(h[r]),e=r)}e<c-1&&b.push(h[c-1]);return b}(h,a*=a),r=b.length,e=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(r);e[0]=e[r-1]=1;(function jd(h,a,b,r,e){var c,n,X,f=0;for(n=r+1;n<=e-1;n++)X=ec(h[n],h[r],h[e],!0),f<X&&(c=n,f=X);b<f&&(a[c]=1,jd(h,a,b,r,c),jd(h,a,b,c,e))})(b,e,a,0,r-1);var c,n=[];for(c=0;c<r;c++)e[c]&&n.push(b[c]);return n}return h.slice()}function Ib(h,a,b){return Math.sqrt(ec(h,a,b,!0))}function Pb(h,a,b,e,c){var r,n,X=e?zb:Ob(h,
b),f=Ob(a,b);for(zb=f;;){if(!(X|f))return[h,a];if(X&f)return!1;n=Ob(r=ia(h,a,e=X||f,b,c),b);e===X?(h=r,X=n):(a=r,f=n)}}function ia(h,a,b,e,c){var r,n,X=a.x-h.x;a=a.y-h.y;var f=e.min;e=e.max;return 8&b?(r=h.x+X*(e.y-h.y)/a,n=e.y):4&b?(r=h.x+X*(f.y-h.y)/a,n=f.y):2&b?(r=e.x,n=h.y+a*(e.x-h.x)/X):1&b&&(r=f.x,n=h.y+a*(f.x-h.x)/X),new H(r,n,c)}function Ob(h,a){var b=0;return h.x<a.min.x?b|=1:h.x>a.max.x&&(b|=2),h.y<a.min.y?b|=4:h.y>a.max.y&&(b|=8),b}function ec(h,a,b,e){var r=a.x;a=a.y;var c=b.x-r,n=b.y-
a,X=c*c+n*n;return 0<X&&(1<(X=((h.x-r)*c+(h.y-a)*n)/X)?(r=b.x,a=b.y):0<X&&(r+=c*X,a+=n*X)),c=h.x-r,n=h.y-a,e?c*c+n*n:new H(r,a)}function Oa(h){return!Wa(h[0])||"object"!=typeof h[0][0]&&void 0!==h[0][0]}function Ic(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Oa(h)}function Jc(h,a){var b,r,e,c,n,f;if(!h||0===h.length)throw Error("latlngs not passed");Oa(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);for(var k=N([0,0]),
C=Z(h),C=(1700>C.getNorthWest().distanceTo(C.getSouthWest())*C.getNorthEast().distanceTo(C.getNorthWest())&&(k=Hb(h)),h.length),xa=[],l=0;l<C;l++)b=N(h[l]),xa.push(a.project(N([b.lat-k.lat,b.lng-k.lng])));for(b=l=0;l<C-1;l++)b+=xa[l].distanceTo(xa[l+1])/2;if(0===b)f=xa[0];else for(r=l=0;l<C-1;l++)if(e=xa[l],c=xa[l+1],b<(r+=n=e.distanceTo(c))){f=[c.x-(n=(r-b)/n)*(c.x-e.x),c.y-n*(c.y-e.y)];break}C=a.unproject(K(f));return N([C.lat+k.lat,C.lng+k.lng])}function fc(h,a){var b,r,e,c=(b="Feature"===h.type?
h.geometry:h)?b.coordinates:null,n=[],f=a&&a.pointToLayer,C=a&&a.coordsToLatLng||gc;if(!c&&!b)return null;switch(b.type){case "Point":return wc(f,h,C(c),a);case "MultiPoint":r=0;for(e=c.length;r<e;r++)b=C(c[r]),n.push(wc(f,h,b,a));return new ba(n);case "LineString":case "MultiLineString":return r=pc(c,"LineString"===b.type?0:1,C),new Wb(r,a);case "Polygon":case "MultiPolygon":return r=pc(c,"Polygon"===b.type?1:2,C),new xc(r,a);case "GeometryCollection":r=0;for(e=b.geometries.length;r<e;r++)(c=fc({geometry:b.geometries[r],
type:"Feature",properties:h.properties},a))&&n.push(c);return new ba(n);case "FeatureCollection":r=0;for(e=b.features.length;r<e;r++)(c=fc(b.features[r],a))&&n.push(c);return new ba(n);default:throw Error("Invalid GeoJSON object.");}}function wc(h,a,b,e){return h?h(a,b):new hc(b,e&&e.markersInheritOptions&&e)}function gc(h){return new R(h[1],h[0],h[2])}function pc(h,a,b){for(var r,e=[],c=0,n=h.length;c<n;c++)r=a?pc(h[c],a-1,b):(b||gc)(h[c]),e.push(r);return e}function Kc(h,a){return void 0!==(h=N(h)).alt?
[q(h.lng,a),q(h.lat,a),q(h.alt,a)]:[q(h.lng,a),q(h.lat,a)]}function qc(h,a,b,e){for(var r=[],c=0,n=h.length;c<n;c++)r.push(a?qc(h[c],Oa(h[c])?0:a-1,b,e):Kc(h[c],e));return!a&&b&&0<r.length&&r.push(r[0].slice()),r}function Jb(h,a){return h.feature?c({},h.feature,{geometry:a}):rc(a)}function rc(h){return"Feature"===h.type||"FeatureCollection"===h.type?h:{type:"Feature",properties:{},geometry:h}}function yc(h,a){return new Xb(h,a)}function Lc(h,a){return new zc(h,a)}function Mc(h){return S.canvas?new kd(h):
null}function Ab(h){return S.svg||S.vml?new Nc(h):null}var yb=Object.create||function(h){return f.prototype=h,new f},Tc=0,bc=/\{ *([\w_ -]+) *\}/g,Wa=Array.isArray||function(h){return"[object Array]"===Object.prototype.toString.call(h)},Bc=0,Cc=window.requestAnimationFrame||V("RequestAnimationFrame")||ja,Dc=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)},Oc={__proto__:null,extend:c,create:yb,bind:a,get lastId(){return Tc},
stamp:e,throttle:k,wrapNum:l,falseFn:p,formatNum:q,trim:t,splitWords:u,setOptions:w,getParamString:M,template:Q,isArray:Wa,indexOf:Y,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:Cc,cancelFn:Dc,requestAnimFrame:I,cancelAnimFrame:J};aa.extend=function(h){function a(){w(this);this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()}var b,e=a.__super__=this.prototype,n=yb(e);for(b in(n.constructor=a).prototype=n,this)Object.prototype.hasOwnProperty.call(this,
b)&&"prototype"!==b&&"__super__"!==b&&(a[b]=this[b]);if(h.statics&&c(a,h.statics),h.includes){b=h.includes;if("undefined"!=typeof L&&L&&L.Mixin){b=Wa(b)?b:[b];for(var f=0;f<b.length;f++)b[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",Error().stack)}c.apply(null,[n].concat(h.includes))}return c(n,h),delete n.statics,delete n.includes,n.options&&(n.options=e.options?yb(e.options):{},
c(n.options,h.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this);this._initHooksCalled=!0;for(var h=0,a=n._initHooks.length;h<a;h++)n._initHooks[h].call(this)}},a};aa.include=function(h){var a=this.prototype.options;return c(this.prototype,h),h.options&&(this.prototype.options=a,this.mergeOptions(h.options)),this};aa.mergeOptions=function(h){return c(this.prototype.options,h),this};aa.addInitHook=function(h){var a=Array.prototype.slice.call(arguments,
1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof h?h:function(){this[h].apply(this,a)}),this};var Za={on:function(h,a,b){if("object"==typeof h)for(var r in h)this._on(r,h[r],a);else{r=0;for(var e=(h=u(h)).length;r<e;r++)this._on(h[r],a,b)}return this},off:function(h,a,b){if(arguments.length)if("object"==typeof h)for(var r in h)this._off(r,h[r],a);else{h=u(h);r=1===arguments.length;for(var e=0,c=h.length;e<c;e++)r?this._off(h[e]):this._off(h[e],
a,b)}else delete this._events;return this},_on:function(h,a,b,e){"function"!=typeof a?console.warn("wrong listener type: "+typeof a):!1===this._listens(h,a,b)&&(a={fn:a,ctx:b===this?void 0:b},e&&(a.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(a))},_off:function(h,a,b){var r,e,c;if(this._events&&(r=this._events[h]))if(1===arguments.length){if(this._firingCount)for(e=0,c=r.length;e<c;e++)r[e].fn=p;delete this._events[h]}else"function"!=typeof a?console.warn("wrong listener type: "+
typeof a):!1!==(a=this._listens(h,a,b))&&(b=r[a],this._firingCount&&(b.fn=p,this._events[h]=r=r.slice()),r.splice(a,1))},fire:function(h,a,b){if(this.listens(h,b)){a=c({},a,{type:h,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var r=this._events[h];if(r){this._firingCount=this._firingCount+1||1;for(var e=0,n=r.length;e<n;e++){var f=r[e],X=f.fn;f.once&&this.off(h,X,f.ctx);X.call(f.ctx||this,a)}this._firingCount--}}b&&this._propagateEvent(a)}return this},listens:function(h,a,b,
e){"string"!=typeof h&&console.warn('"string" type argument expected');var r=a,c=("function"!=typeof a&&(e=!!a,b=r=void 0),this._events&&this._events[h]);if(c&&c.length&&!1!==this._listens(h,r,b))return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(h,a,b,e))return!0;return!1},_listens:function(h,a,b){if(this._events){h=this._events[h]||[];if(!a)return!!h.length;b===this&&(b=void 0);for(var r=0,e=h.length;r<e;r++)if(h[r].fn===a&&h[r].ctx===b)return r}return!1},once:function(h,
a,b){if("object"==typeof h)for(var r in h)this._on(r,h[r],a,!0);else{r=0;for(var e=(h=u(h)).length;r<e;r++)this._on(h[r],a,b,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[e(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[e(h)],this},_propagateEvent:function(h){for(var a in this._eventParents)this._eventParents[a].fire(h.type,c({layer:h.target,propagatedFrom:h.target},h),!0)}},sc=(Za.addEventListener=
Za.on,Za.removeEventListener=Za.clearAllEventListeners=Za.off,Za.addOneTimeEventListener=Za.once,Za.fireEvent=Za.fire,Za.hasEventListeners=Za.listens,aa.extend(Za)),Ac=Math.trunc||function(h){return 0<h?Math.floor(h):Math.ceil(h)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(h){return this.clone()._add(K(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(K(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,
this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new H(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new H(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},
_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ac(this.x),this.y=Ac(this.y),this},distanceTo:function(h){var a=(h=K(h)).x-this.x;h=h.y-this.y;return Math.sqrt(a*a+h*h)},equals:function(h){return(h=K(h)).x===this.x&&h.y===this.y},contains:function(h){return h=K(h),
Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}};D.prototype={extend:function(h){var a,b;if(h){if(h instanceof H||"number"==typeof h[0]||"x"in h)a=b=K(h);else if(a=(h=P(h)).min,b=h.max,!a||!b)return this;this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)):(this.min=a.clone(),this.max=b.clone())}return this},
getCenter:function(h){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var a,b;return(h=("number"==typeof h[0]||h instanceof H?K:P)(h))instanceof D?(a=h.min,b=h.max):a=b=h,a.x>=this.min.x&&b.x<=this.max.x&&a.y>=this.min.y&&
b.y<=this.max.y},intersects:function(h){h=P(h);var a=this.min,b=this.max,e=h.min;h=h.max;var c=h.x>=a.x&&e.x<=b.x;h=h.y>=a.y&&e.y<=b.y;return c&&h},overlaps:function(h){h=P(h);var a=this.min,b=this.max,e=h.min;h=h.max;var c=h.x>a.x&&e.x<b.x;h=h.y>a.y&&e.y<b.y;return c&&h},isValid:function(){return!(!this.min||!this.max)},pad:function(h){var a=this.min,b=this.max,e=Math.abs(a.x-b.x)*h;h*=Math.abs(a.y-b.y);return P(K(a.x-e,a.y-h),K(b.x+e,b.y+h))},equals:function(h){return!!h&&(h=P(h),this.min.equals(h.getTopLeft())&&
this.max.equals(h.getBottomRight()))}};E.prototype={extend:function(h){var a,b,e=this._southWest,c=this._northEast;if(h instanceof R)b=a=h;else{if(!(h instanceof E))return h?this.extend(N(h)||Z(h)):this;if(a=h._southWest,b=h._northEast,!a||!b)return this}return e||c?(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),c.lat=Math.max(b.lat,c.lat),c.lng=Math.max(b.lng,c.lng)):(this._southWest=new R(a.lat,a.lng),this._northEast=new R(b.lat,b.lng)),this},pad:function(h){var a=this._southWest,b=this._northEast,
e=Math.abs(a.lat-b.lat)*h;h*=Math.abs(a.lng-b.lng);return new E(new R(a.lat-e,a.lng-h),new R(b.lat+e,b.lng+h))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},
getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){h=("number"==typeof h[0]||h instanceof R||"lat"in h?N:Z)(h);var a,b,e=this._southWest,c=this._northEast;return h instanceof E?(a=h.getSouthWest(),b=h.getNorthEast()):a=b=h,a.lat>=e.lat&&b.lat<=c.lat&&a.lng>=e.lng&&b.lng<=c.lng},intersects:function(h){h=Z(h);var a=this._southWest,b=this._northEast,e=h.getSouthWest();h=h.getNorthEast();var c=
h.lat>=a.lat&&e.lat<=b.lat;h=h.lng>=a.lng&&e.lng<=b.lng;return c&&h},overlaps:function(h){h=Z(h);var a=this._southWest,b=this._northEast,e=h.getSouthWest();h=h.getNorthEast();var c=h.lat>a.lat&&e.lat<b.lat;h=h.lng>a.lng&&e.lng<b.lng;return c&&h},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(h,a){return!!h&&(h=Z(h),this._southWest.equals(h.getSouthWest(),a)&&this._northEast.equals(h.getNorthEast(),a))},isValid:function(){return!(!this._southWest||
!this._northEast)}};var ib={latLngToPoint:function(h,a){h=this.projection.project(h);a=this.scale(a);return this.transformation._transform(h,a)},pointToLatLng:function(h,a){a=this.scale(a);h=this.transformation.untransform(h,a);return this.projection.unproject(h)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){var a;
return this.infinite?null:(a=this.projection.bounds,h=this.scale(h),new D(this.transformation.transform(a.min,h),this.transformation.transform(a.max,h)))},infinite:!(R.prototype={equals:function(h,a){return!!h&&(h=N(h),Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng))<=(void 0===a?1E-9:a))},toString:function(h){return"LatLng("+q(this.lat,h)+", "+q(this.lng,h)+")"},distanceTo:function(h){return Bb.distance(this,N(h))},wrap:function(){return Bb.wrapLatLng(this)},toBounds:function(h){h=180*
h/40075017;var a=h/Math.cos(Math.PI/180*this.lat);return Z([this.lat-h,this.lng-a],[this.lat+h,this.lng+a])},clone:function(){return new R(this.lat,this.lng,this.alt)}}),wrapLatLng:function(h){var a=this.wrapLng?l(h.lng,this.wrapLng,!0):h.lng;return new R(this.wrapLat?l(h.lat,this.wrapLat,!0):h.lat,a,h.alt)},wrapLatLngBounds:function(h){var a=h.getCenter(),b=this.wrapLatLng(a),e=a.lat-b.lat,a=a.lng-b.lng;return 0==e&&0==a?h:(b=h.getSouthWest(),h=h.getNorthEast(),new E(new R(b.lat-e,b.lng-a),new R(h.lat-
e,h.lng-a)))}},Bb=c({},ib,{wrapLng:[-180,180],R:6371E3,distance:function(h,a){var b=Math.PI/180,e=h.lat*b,r=a.lat*b,c=Math.sin((a.lat-h.lat)*b/2);a=Math.sin((a.lng-h.lng)*b/2);h=c*c+Math.cos(e)*Math.cos(r)*a*a;b=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return this.R*b}}),$a=6378137,$a={R:$a,MAX_LATITUDE:85.0511287798,project:function(h){var a=Math.PI/180,b=this.MAX_LATITUDE,b=Math.max(Math.min(b,h.lat),-b),b=Math.sin(b*a);return new H(this.R*h.lng*a,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(h){var a=
180/Math.PI;return new R((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*a,h.x*a/this.R)},bounds:new D([-($a*=Math.PI),-$a],[$a,$a])};ka.prototype={transform:function(h,a){return this._transform(h.clone(),a)},_transform:function(h,a){return h.x=(a=a||1)*(this._a*h.x+this._b),h.y=a*(this._c*h.y+this._d),h},untransform:function(h,a){return new H((h.x/(a=a||1)-this._b)/this._a,(h.y/a-this._d)/this._c)}};var ic=c({},Bb,{code:"EPSG:3857",projection:$a,transformation:v(ic=.5/(Math.PI*$a.R),.5,-ic,.5)}),fd=
c({},ic,{code:"EPSG:900913"}),db=document.documentElement.style,Ba="ActiveXObject"in window,jc=Ba&&!document.addEventListener,Ga="msLaunchUri"in navigator&&!("documentMode"in document),jb=ra("webkit"),va=ra("android"),Kb=ra("android 2")||ra("android 3"),kb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kb=va&&ra("Google")&&537>kb&&!("AudioNode"in window),lb=!!window.opera,ub=!Ga&&ra("chrome"),vb=ra("gecko")&&!jb&&!lb&&!Ba,Qb=!ub&&ra("safari"),Yb=ra("phantom"),ab="OTransition"in db,
Rb=0===navigator.platform.indexOf("Win"),mb=Ba&&"transition"in db,F="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kb,db="MozPerspective"in db,ca=!window.L_DISABLE_3D&&(mb||F||db)&&!ab&&!Yb,Cb="undefined"!=typeof orientation||ra("mobile"),kc=Cb&&jb,Ha=Cb&&F,eb=!window.PointerEvent&&window.MSPointerEvent,bb=!(!window.PointerEvent&&!eb),Ca="ontouchstart"in window||!!window.TouchEvent,wb=!window.L_NO_TOUCH&&(Ca||bb),Lb=Cb&&lb,Zb=Cb&&vb,gd=1<(window.devicePixelRatio||window.screen.deviceXDPI/
window.screen.logicalXDPI),hd=function(){var h=!1;try{var a=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,a);window.removeEventListener("testPassiveEventSupport",p,a)}catch(X){}return h}(),Da=!!document.createElement("canvas").getContext,lc=!(!document.createElementNS||!la("svg").createSVGRect),Sb=!!lc&&((Sb=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Sb.firstChild&&Sb.firstChild.namespaceURI)),
S={ie:Ba,ielt9:jc,edge:Ga,webkit:jb,android:va,android23:Kb,androidStock:kb,opera:lb,chrome:ub,gecko:vb,safari:Qb,phantom:Yb,opera12:ab,win:Rb,ie3d:mb,webkit3d:F,gecko3d:db,any3d:ca,mobile:Cb,mobileWebkit:kc,mobileWebkit3d:Ha,msPointer:eb,pointer:bb,touch:wb,touchNative:Ca,mobileOpera:Lb,mobileGecko:Zb,retina:gd,passiveEvents:hd,canvas:Da,svg:lc,vml:!lc&&function(){try{var h=document.createElement("div"),a=(h.innerHTML='<v:shape adj="1"/>',h.firstChild);return a.style.behavior="url(#default#VML)",
a&&"object"==typeof a.adj}catch(X){return!1}}(),inlineSvg:Sb,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ec=S.msPointer?"MSPointerDown":"pointerdown",Vc=S.msPointer?"MSPointerMove":"pointermove",Wc=S.msPointer?"MSPointerUp":"pointerup",cc=S.msPointer?"MSPointerCancel":"pointercancel",vc={touchstart:Ec,touchmove:Vc,touchend:Wc,touchcancel:cc},oc={touchstart:function(h,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ta(a);sa(h,a)},touchmove:sa,
touchend:sa,touchcancel:sa},dc={},Uc=!1,Pc,Db,mc,wa,Nb,Gc,Fc=ob(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tc=ob(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uc="webkitTransition"===tc||"OTransition"===tc?tc+"End":"transitionend";wa="onselectstart"in document?(mc=function(){O(window,"selectstart",ta)},function(){U(window,"selectstart",ta)}):(Db=ob(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),mc=function(){var h;
Db&&(h=document.documentElement.style,Pc=h[Db],h[Db]="none")},function(){Db&&(document.documentElement.style[Db]=Pc,Pc=void 0)});var Ba={__proto__:null,TRANSFORM:Fc,TRANSITION:tc,TRANSITION_END:uc,get:Aa,getStyle:Ja,create:da,remove:oa,empty:nb,toFront:cb,toBack:Ka,hasClass:Xa,addClass:W,removeClass:pa,setClass:Na,getClass:Eb,setOpacity:Pa,testProp:ob,setTransform:fb,setPosition:za,getPosition:Qa,get disableTextSelection(){return mc},get enableTextSelection(){return wa},disableImageDrag:pb,enableImageDrag:Ua,
preventOutline:Fb,restoreOutline:Ra,getSizedParentNode:qb,getScale:Gb},gb="_leaflet_events",Hc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},ed=S.linux&&S.chrome?window.devicePixelRatio:S.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1,jc={__proto__:null,on:O,off:U,stopPropagation:Sa,disableScrollPropagation:fa,disableClickPropagation:Ta,preventDefault:ta,stop:Va,getPropagationPath:T,getMousePosition:qa,getWheelDelta:na,
isExternalTarget:ma,addListener:O,removeListener:U},Xc=sc.extend({run:function(h,a,b,e){this.stop();this._el=h;this._inProgress=!0;this._duration=b||.25;this._easeOutPower=1/Math.max(e||.5,.2);this._startPos=Qa(h);this._offset=a.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this);this._step()},_step:function(h){var a=+new Date-this._startTime,
b=1E3*this._duration;a<b?this._runFrame(this._easeOut(a/b),h):(this._runFrame(1),this._complete())},_runFrame:function(h,a){h=this._startPos.add(this._offset.multiplyBy(h));a&&h._round();za(this._el,h);this.fire("step")},_complete:function(){J(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),ha=sc.extend({options:{crs:ic,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,
zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,b){b=w(this,b);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(h);this._initLayout();this._onResize=a(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);void 0!==b.zoom&&(this._zoom=this._limitZoom(b.zoom));b.center&&void 0!==b.zoom&&this.setView(N(b.center),b.zoom,
{reset:!0});this.callInitHooks();(this._zoomAnimated=tc&&S.any3d&&!S.mobileOpera&&this.options.zoomAnimation)&&(this._createAnimProxy(),O(this._proxy,uc,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(h,a,b){return(a=void 0===a?this._zoom:this._limitZoom(a),h=this._limitCenter(N(h),a,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&!0!==b)&&(void 0!==b.animate&&(b.zoom=c({animate:b.animate},b.zoom),b.pan=c({animate:b.animate,duration:b.duration},
b.pan)),this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,a,b.zoom):this._tryAnimatedPan(h,b.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(h,a,b.pan&&b.pan.noMoveStart),this)},setZoom:function(h,a){return this._loaded?this.setView(this.getCenter(),h,{zoom:a}):(this._zoom=h,this)},zoomIn:function(h,a){return h=h||(S.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,a)},zoomOut:function(h,a){return h=h||(S.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,a)},
setZoomAround:function(h,a,b){var e=this.getZoomScale(a),r=this.getSize().divideBy(2);h=(h instanceof H?h:this.latLngToContainerPoint(h)).subtract(r).multiplyBy(1-1/e);e=this.containerPointToLatLng(r.add(h));return this.setView(e,a,{zoom:b})},_getBoundsCenterZoom:function(h,a){a=a||{};h=h.getBounds?h.getBounds():Z(h);var b=K(a.paddingTopLeft||a.padding||[0,0]),e=K(a.paddingBottomRight||a.padding||[0,0]),r=this.getBoundsZoom(h,!1,b.add(e));return(r="number"==typeof a.maxZoom?Math.min(a.maxZoom,r):
r)===1/0?{center:h.getCenter(),zoom:r}:(a=e.subtract(b).divideBy(2),e=this.project(h.getSouthWest(),r),b=this.project(h.getNorthEast(),r),{center:this.unproject(e.add(b).divideBy(2).add(a),r),zoom:r})},fitBounds:function(h,a){if((h=Z(h)).isValid())return h=this._getBoundsCenterZoom(h,a),this.setView(h.center,h.zoom,a);throw Error("Bounds are not valid.");},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,a){return this.setView(h,this._zoom,{pan:a})},panBy:function(h,
a){var b;return a=a||{},(h=K(h).round()).x||h.y?(!0===a.animate||this.getSize().contains(h)?(this._panAnim||(this._panAnim=new Xc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),!1!==a.animate?(W(this._mapPane,"leaflet-pan-anim"),b=this._getMapPanePos().subtract(h).round(),this._panAnim.run(this._mapPane,b,a.duration||.25,a.easeLinearity)):(this._rawPanBy(h),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(h)),
this.getZoom()),this):this.fire("moveend")},flyTo:function(h,a,b){function e(h){h=(xa*xa-X*X+2.0164*(h?-1:1)*2.0164*l*l)/(4.0328*(h?xa:X)*l);h=Math.sqrt(h*h+1)-h;return 1E-9>h?-18:Math.log(h)}function c(h){return(Math.exp(h)+Math.exp(-h))/2}function r(h){var a=c(p),b=h=p+1.42*h;return X*(a*((Math.exp(b)-Math.exp(-b))/2/c(h))-(Math.exp(p)-Math.exp(-p))/2)/2.0164}if(!1===(b=b||{}).animate||!S.any3d)return this.setView(h,a,b);this._stop();var n=this.project(this.getCenter()),f=this.project(h),C=this.getSize(),
k=this._zoom,X=(h=N(h),a=void 0===a?k:a,Math.max(C.x,C.y)),xa=X*this.getZoomScale(k,a),l=f.distanceTo(n)||1,p=e(0),q=Date.now(),hc=(e(1)-p)/1.42,u=b.duration?1E3*b.duration:800*hc;return this._moveStart(!0,b.noMoveStart),function rd(){var b=(Date.now()-q)/u,e=(1-Math.pow(1-b,1.5))*hc;1>=b?(this._flyToFrame=I(rd,this),this._move(this.unproject(n.add(f.subtract(n).multiplyBy(r(e)/l)),k),this.getScaleZoom(X/(b=e,X*(c(p)/c(p+1.42*b))),k),{flyTo:!0})):this._move(h,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(h,
a){h=this._getBoundsCenterZoom(h,a);return this.flyTo(h.center,h.zoom,a)},setMaxBounds:function(h){return h=Z(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var a=this.options.minZoom;return this.options.minZoom=h,this._loaded&&a!==h&&(this.fire("zoomlevelschange"),this.getZoom()<
this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var a=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&a!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,a){this._enforcingBounds=!0;var b=this.getCenter();h=this._limitCenter(b,this._zoom,Z(h));return b.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(h,a){var b=K((a=a||{}).paddingTopLeft||a.padding||[0,0]),e=K(a.paddingBottomRight||
a.padding||[0,0]),c=this.project(this.getCenter());h=this.project(h);var r=this.getPixelBounds(),b=P([r.min.add(b),r.max.subtract(e)]),r=b.getSize();return b.contains(h)||(this._enforcingBounds=!0,e=h.subtract(b.getCenter()),b=b.extend(h).getSize().subtract(r),c.x+=0>e.x?-b.x:b.x,c.y+=0>e.y?-b.y:b.y,this.panTo(this.unproject(c),a),this._enforcingBounds=!1),this},invalidateSize:function(h){if(!this._loaded)return this;h=c({animate:!1,pan:!0},!0===h?{animate:!0}:h);var b=this.getSize(),e=(this._sizeChanged=
!0,this._lastCenter=null,this.getSize()),n=b.divideBy(2).round(),f=e.divideBy(2).round(),n=n.subtract(f);return n.x||n.y?(h.animate&&h.pan?this.panBy(n):(h.pan&&this._rawPanBy(n),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},
locate:function(h){var b,e;return h=this._locateOptions=c({timeout:1E4,watch:!1},h),"geolocation"in navigator?(b=a(this._handleGeolocationResponse,this),e=a(this._handleGeolocationError,this),h.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,e,h):navigator.geolocation.getCurrentPosition(b,e,h)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),
this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){var a;this._container._leaflet_id&&(a=h.code,h=h.message||(1===a?"permission denied":2===a?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+h+"."}))},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var a,b,e=new R(h.coords.latitude,h.coords.longitude),c=e.toBounds(2*h.coords.accuracy),
n=this._locateOptions,e=(n.setView&&(a=this.getBoundsZoom(c),this.setView(e,n.maxZoom?Math.min(a,n.maxZoom):a)),{latlng:e,bounds:c,timestamp:h.timestamp});for(b in h.coords)"number"==typeof h.coords[b]&&(e[b]=h.coords[b]);this.fire("locationfound",e)}},addHandler:function(h,a){return a&&(a=this[h]=new a(this),this._handlers.push(a),this.options[h]&&a.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");
try{delete this._container._leaflet_id,delete this._containerId}catch(r){this._containerId=this._container._leaflet_id=void 0}for(var h in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),oa(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[h].remove();for(h in this._panes)oa(this._panes[h]);return this._layers=[],this._panes=
[],delete this._mapPane,delete this._renderer,this},createPane:function(h,a){a=da("div","leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),a||this._mapPane);return h&&(this._panes[h]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds();return new E(this.unproject(h.getBottomLeft()),this.unproject(h.getTopRight()))},
getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,a,b){h=Z(h);b=K(b||[0,0]);var e=this.getZoom()||0,c=this.getMinZoom(),n=this.getMaxZoom(),r=h.getNorthWest();h=h.getSouthEast();b=this.getSize().subtract(b);h=P(this.project(h,e),this.project(r,e)).getSize();var r=S.any3d?this.options.zoomSnap:
1,f=b.x/h.x;b=b.y/h.y;h=a?Math.max(f,b):Math.min(f,b);e=this.getScaleZoom(h,e);return r&&(e=r/100*Math.round(e/(r/100)),e=a?Math.ceil(e/r)*r:Math.floor(e/r)*r),Math.max(c,Math.min(n,e))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,a){h=this._getTopLeftPoint(h,a);return new D(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),
this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(void 0===h?this.getZoom():h)},getPane:function(h){return"string"==typeof h?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,a){var b=this.options.crs;return a=void 0===a?this._zoom:a,b.scale(h)/b.scale(a)},getScaleZoom:function(h,a){var b=this.options.crs;h=(a=void 0===a?this._zoom:a,b.zoom(h*b.scale(a)));return isNaN(h)?1/0:
h},project:function(h,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(N(h),a)},unproject:function(h,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(K(h),a)},layerPointToLatLng:function(h){h=K(h).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(h){return this.project(N(h))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(N(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Z(h))},
distance:function(h,a){return this.options.crs.distance(N(h),N(a))},containerPointToLayerPoint:function(h){return K(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return K(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){h=this.containerPointToLayerPoint(K(h));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(h)))},mouseEventToContainerPoint:function(h){return qa(h,this._container)},
mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){h=this._container=Aa(h);if(!h)throw Error("Map container not found.");if(h._leaflet_id)throw Error("Map container is already initialized.");O(h,"scroll",this._onScroll,this);this._containerId=e(h)},_initLayout:function(){var h=this._container,a=(this._fadeAnimated=this.options.fadeAnimation&&
S.any3d,W(h,"leaflet-container"+(S.touch?" leaflet-touch":"")+(S.retina?" leaflet-retina":"")+(S.ielt9?" leaflet-oldie":"")+(S.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),Ja(h,"position"));"absolute"!==a&&"relative"!==a&&"fixed"!==a&&"sticky"!==a&&(h.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);za(this._mapPane,
new H(0,0));this.createPane("tilePane");this.createPane("overlayPane");this.createPane("shadowPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(W(h.markerPane,"leaflet-zoom-hide"),W(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,a,b){za(this._mapPane,new H(0,0));var e=!this._loaded,c=(this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset"),this._zoom!==a);this._moveStart(c,b)._move(h,a)._moveEnd(c);
this.fire("viewreset");e&&this.fire("load")},_moveStart:function(h,a){return h&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(h,a,b,e){void 0===a&&(a=this._zoom);var c=this._zoom!==a;return this._zoom=a,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),e?b&&b.pinch&&this.fire("zoom",b):((c||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),
this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){za(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(h){this._targets={};var a=h?U:O;a((this._targets[e(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",
this._handleDOMEvent,this);this.options.trackResize&&a(window,"resize",this._onResize,this);S.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest);this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&
this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,a){for(var b,c=[],n="mouseout"===a||"mouseover"===a,r=h.target||h.srcElement,f=!1;r;){if((b=this._targets[e(r)])&&("click"===a||"preclick"===a)&&this._draggableMoved(b)){f=!0;break}if(b&&b.listens(a,!0)){if(n&&!ma(r,h))break;if(c.push(b),n)break}if(r===this._container)break;r=r.parentNode}return c.length||f||n||!this.listens(a,!0)?c:[this]},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;
h=h.parentNode}},_handleDOMEvent:function(h){var a,b=h.target||h.srcElement;!this._loaded||b._leaflet_disable_events||"click"===h.type&&this._isClickDisabled(b)||("mousedown"===(a=h.type)&&Fb(b),this._fireDOMEvent(h,a))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,a,b){"click"===h.type&&((r=c({},h)).type="preclick",this._fireDOMEvent(r,r.type,b));var e=this._findEventTargets(h,a);if(b){for(var n=[],r=0;r<b.length;r++)b[r].listens(a,!0)&&n.push(b[r]);
e=n.concat(e)}if(e.length){"contextmenu"===a&&ta(h);var f,r=e[0];b={originalEvent:h};"keypress"!==h.type&&"keydown"!==h.type&&"keyup"!==h.type&&(f=r.getLatLng&&(!r._radius||10>=r._radius),b.containerPoint=f?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(h),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=f?r.getLatLng():this.layerPointToLatLng(b.layerPoint));for(r=0;r<e.length&&!(e[r].fire(a,b,!0),b.originalEvent._stopped||!1===e[r].options.bubblingMouseEvents&&
-1!==Y(this._mouseEvents,a));r++);}},_draggableMoved:function(h){return(h=h.dragging&&h.dragging.enabled()?h:this).dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,a=this._handlers.length;h<a;h++)this._handlers[h].disable()},whenReady:function(h,a){return this._loaded?h.call(a||this,{target:this}):this.on("load",h,a),this},_getMapPanePos:function(){return Qa(this._mapPane)||new H(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,
0])},_getTopLeftPoint:function(h,a){return(h&&void 0!==a?this._getNewPixelOrigin(h,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,a){var b=this.getSize()._divideBy(2);return this.project(h,a)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,a,b){b=this._getNewPixelOrigin(b,a);return this.project(h,a)._subtract(b)},_latLngBoundsToNewLayerBounds:function(h,a,b){b=this._getNewPixelOrigin(b,a);return P([this.project(h.getSouthWest(),
a)._subtract(b),this.project(h.getNorthWest(),a)._subtract(b),this.project(h.getSouthEast(),a)._subtract(b),this.project(h.getNorthEast(),a)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,a,b){var e,c;return!b||(e=this.project(h,a),c=this.getSize().divideBy(2),c=new D(e.subtract(c),e.add(c)),c=this._getBoundsOffset(c,
b,a),1>=Math.abs(c.x)&&1>=Math.abs(c.y))?h:this.unproject(e.add(c),a)},_limitOffset:function(h,a){var b;return a?(b=new D((b=this.getPixelBounds()).min.add(h),b.max.add(h)),h.add(this._getBoundsOffset(b,a))):h},_getBoundsOffset:function(h,a,b){a=P(this.project(a.getNorthEast(),b),this.project(a.getSouthWest(),b));b=a.min.subtract(h.min);a=a.max.subtract(h.max);return new H(this._rebound(b.x,-a.x),this._rebound(b.y,-a.y))},_rebound:function(h,a){return 0<h+a?Math.round(h-a)/2:Math.max(0,Math.ceil(h))-
Math.max(0,Math.floor(a))},_limitZoom:function(h){var a=this.getMinZoom(),b=this.getMaxZoom(),e=S.any3d?this.options.zoomSnap:1;return e&&(h=Math.round(h/e)*e),Math.max(a,Math.min(b,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pa(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(h,a){h=this._getCenterOffset(h)._trunc();return!(!0!==(a&&a.animate)&&!this.getSize().contains(h))&&(this.panBy(h,a),!0)},_createAnimProxy:function(){var h=
this._proxy=da("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h);this.on("zoomanim",function(h){var a=Fc,b=this._proxy.style[a];fb(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1));b===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){oa(this._proxy);this.off("load moveend",this._animMoveEnd,this);
delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),a=this.getZoom();fb(this._proxy,this.project(h,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(h){this._animatingZoom&&0<=h.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,a,b){if(!this._animatingZoom){if(b=b||{},!this._zoomAnimated||!1===b.animate||this._nothingToAnimate()||
Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var e=this.getZoomScale(a),e=this._getCenterOffset(h)._divideBy(1-1/e);if(!0!==b.animate&&!this.getSize().contains(e))return!1;I(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(h,a,!0)},this)}return!0},_animateZoom:function(h,b,e,c){this._mapPane&&(e&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=b,W(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:b,noUpdate:c}),this._tempFireZoomEvent||
(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pa(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}}),sb=aa.extend({options:{position:"topright"},
initialize:function(h){w(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var a=this._map;return a&&a.removeControl(this),this.options.position=h,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove();this._map=h;var a=this._container=this.onAdd(h),b=this.getPosition();h=h._controlCorners[b];return W(a,"leaflet-control"),-1!==b.indexOf("bottom")?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",
this.remove,this),this},remove:function(){return this._map&&(oa(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(h){this._map&&h&&0<h.screenX&&0<h.screenY&&this._map.getContainer().focus()}}),Yc=(ha.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){function h(h,e){a[h+e]=da("div","leaflet-"+h+" leaflet-"+e,b)}var a=this._controlCorners=
{},b=this._controlContainer=da("div","leaflet-control-container",this._container);h("top","left");h("top","right");h("bottom","left");h("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)oa(this._controlCorners[h]);oa(this._controlContainer);delete this._controlCorners;delete this._controlContainer}}),sb.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,a,b,e){return b<e?-1:e<b?1:0}},initialize:function(h,
a,b){for(var e in w(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,h)this._addLayer(h[e],e);for(e in a)this._addLayer(a[e],e,!0)},onAdd:function(h){this._initLayout();this._update();(this._map=h).on("zoomend",this._checkDisabledLayers,this);for(h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return sb.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},
onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,a){return this._addLayer(h,a),this._map?this._update():this},addOverlay:function(h,a){return this._addLayer(h,a,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);h=this._getLayer(e(h));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?
this._update():this},expand:function(){W(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(W(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):pa(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pa(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h=
this._container=da("div","leaflet-control-layers"),a=this.options.collapsed,b=(h.setAttribute("aria-haspopup",!0),Ta(h),fa(h),this._section=da("section","leaflet-control-layers-list")),e=(a&&(this._map.on("click",this.collapse,this),O(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=da("a","leaflet-control-layers-toggle",h));e.href="#";e.title="Layers";e.setAttribute("role","button");O(e,{keydown:function(h){13===h.keyCode&&this._expandSafely()},click:function(h){ta(h);
this._expandSafely()}},this);a||this.expand();this._baseLayersList=da("div","leaflet-control-layers-base",b);this._separator=da("div","leaflet-control-layers-separator",b);this._overlaysList=da("div","leaflet-control-layers-overlays",b);h.appendChild(b)},_getLayer:function(h){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&e(this._layers[a].layer)===h)return this._layers[a]},_addLayer:function(h,b,e){this._map&&h.on("add remove",this._onLayerChange,this);this._layers.push({layer:h,name:b,
overlay:e});this.options.sortLayers&&this._layers.sort(a(function(h,a){return this.options.sortFunction(h.layer,a.layer,h.name,a.name)},this));this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(this._container){nb(this._baseLayersList);nb(this._overlaysList);this._layerControlInputs=[];for(var h,a,b,e=0,c=0;c<this._layers.length;c++)b=this._layers[c],this._addItem(b),a=a||b.overlay,h=h||!b.overlay,e+=b.overlay?
0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(h=h&&1<e)?"":"none");this._separator.style.display=a&&h?"":"none"}return this},_onLayerChange:function(h){this._handlingClick||this._update();var a=this._getLayer(e(h.target));(h=a.overlay?"add"===h.type?"overlayadd":"overlayremove":"add"===h.type?"baselayerchange":null)&&this._map.fire(h,a)},_createRadioElement:function(h,a){h='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(a?' checked="checked"':"")+
"/>";a=document.createElement("div");return a.innerHTML=h,a.firstChild},_addItem:function(h){var a,b=document.createElement("label"),c=this._map.hasLayer(h.layer),c=(h.overlay?((a=document.createElement("input")).type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=c):a=this._createRadioElement("leaflet-base-layers_"+e(this),c),this._layerControlInputs.push(a),a.layerId=e(h.layer),O(a,"click",this._onInputClick,this),document.createElement("span")),n=(c.innerHTML=" "+h.name,
document.createElement("span"));return b.appendChild(n),n.appendChild(a),n.appendChild(c),(h.overlay?this._overlaysList:this._baseLayersList).appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var h,a,b=this._layerControlInputs,e=[],c=[];this._handlingClick=!0;for(var n=b.length-1;0<=n;n--)h=b[n],a=this._getLayer(h.layerId).layer,h.checked?e.push(a):h.checked||c.push(a);for(n=0;n<c.length;n++)this._map.hasLayer(c[n])&&this._map.removeLayer(c[n]);for(n=0;n<
e.length;n++)this._map.hasLayer(e[n])||this._map.addLayer(e[n]);this._handlingClick=!1;this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h,a,b=this._layerControlInputs,e=this._map.getZoom(),c=b.length-1;0<=c;c--)h=b[c],a=this._getLayer(h.layerId).layer,h.disabled=void 0!==a.options.minZoom&&e<a.options.minZoom||void 0!==a.options.maxZoom&&e>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=
this._section,a=(this._preventClick=!0,O(h,"click",ta),this.expand(),this);setTimeout(function(){U(h,"click",ta);a._preventClick=!1})}})),Qc=sb.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var a=da("div","leaflet-control-zoom leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,"leaflet-control-zoom-in",
a,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,"leaflet-control-zoom-out",a,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&
this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,a,b,e,c){b=da("a",b,e);return b.innerHTML=h,b.href="#",b.title=a,b.setAttribute("role","button"),b.setAttribute("aria-label",a),Ta(b),O(b,"click",Va),O(b,"click",c,this),O(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var h=this._map;pa(this._zoomInButton,
"leaflet-disabled");pa(this._zoomOutButton,"leaflet-disabled");this._zoomInButton.setAttribute("aria-disabled","false");this._zoomOutButton.setAttribute("aria-disabled","false");!this._disabled&&h._zoom!==h.getMinZoom()||(W(this._zoomOutButton,"leaflet-disabled"),this._zoomOutButton.setAttribute("aria-disabled","true"));!this._disabled&&h._zoom!==h.getMaxZoom()||(W(this._zoomInButton,"leaflet-disabled"),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Mb=(ha.mergeOptions({zoomControl:!0}),
ha.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qc,this.addControl(this.zoomControl))}),sb.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var a=da("div","leaflet-control-scale"),b=this.options;return this._addScales(b,"leaflet-control-scale-line",a),h.on(b.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),a},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},
_addScales:function(h,a,b){h.metric&&(this._mScale=da("div",a,b));h.imperial&&(this._iScale=da("div",a,b))},_update:function(){var a=this._map,b=a.getSize().y/2,a=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a);this._updateScale(this._mScale,1E3>h?h+" m":
h/1E3+" km",h/a)},_updateImperial:function(a){var h,b;a*=3.2808399;5280<a?(b=this._getRoundNum(h=a/5280),this._updateScale(this._iScale,b+" mi",b/h)):(b=this._getRoundNum(a),this._updateScale(this._iScale,b+" ft",b/a))},_updateScale:function(a,b,e){a.style.width=Math.round(this.options.maxWidth*e)+"px";a.innerHTML=b},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1);a/=h;return h*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}})),xb=sb.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+
(S.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(a){w(this,a);this._attributions={}},onAdd:function(a){for(var h in(a.attributionControl=this)._container=da("div","leaflet-control-attribution"),Ta(this._container),a._layers)a._layers[h].getAttribution&&
this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a&&(this._attributions[a]||
(this._attributions[a]=0),this._attributions[a]++,this._update()),this},removeAttribution:function(a){return a&&this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a,b=[];for(a in this._attributions)this._attributions[a]&&b.push(a);a=[];this.options.prefix&&a.push(this.options.prefix);b.length&&a.push(b.join(", "));this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}}),Ga=(ha.mergeOptions({attributionControl:!0}),ha.addInitHook(function(){this.options.attributionControl&&
(new xb).addTo(this)}),sb.Layers=Yc,sb.Zoom=Qc,sb.Scale=Mb,sb.Attribution=xb,rb.layers=function(a,b,e){return new Yc(a,b,e)},rb.zoom=function(a){return new Qc(a)},rb.scale=function(a){return new Mb(a)},rb.attribution=function(a){return new xb(a)},aa.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})),
jb=(Ga.addTo=function(a,b){return a.addHandler(b,this),this},{Events:Za}),Zc=S.touch?"touchstart mousedown":"mousedown",Tb=sc.extend({options:{clickTolerance:3},initialize:function(a,b,e,c){w(this,c);this._element=a;this._dragStartTarget=b||a;this._preventOutline=e},enable:function(){this._enabled||(O(this._dragStartTarget,Zc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tb._dragging===this&&this.finishDrag(!0),U(this._dragStartTarget,Zc,this._onDown,this),this._enabled=
!1,this._moved=!1)},_onDown:function(a){var h,b;this._enabled&&(this._moved=!1,Xa(this._element,"leaflet-zoom-anim")||(a.touches&&1!==a.touches.length?Tb._dragging===this&&this.finishDrag():Tb._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||((Tb._dragging=this)._preventOutline&&Fb(this._element),pb(),mc(),this._moving||(this.fire("down"),b=a.touches?a.touches[0]:a,h=qb(this._element),this._startPoint=new H(b.clientX,b.clientY),this._startPos=Qa(this._element),this._parentScale=Gb(h),
b="mousedown"===a.type,O(document,b?"mousemove":"touchmove",this._onMove,this),O(document,b?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(a){var h;this._enabled&&(a.touches&&1<a.touches.length?this._moved=!0:!(h=(new H((h=a.touches&&1===a.touches.length?a.touches[0]:a).clientX,h.clientY))._subtract(this._startPoint)).x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ta(a),this._moved||(this.fire("dragstart"),
this._moved=!0,W(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),W(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=a,this._updatePosition()))},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);za(this._element,this._newPos);this.fire("drag",
a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){pa(document.body,"leaflet-dragging");this._lastTarget&&(pa(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);U(document,"mousemove touchmove",this._onMove,this);U(document,"mouseup touchend touchcancel",this._onUp,this);Ua();wa();var h=this._moved&&this._moving;this._moving=!1;Tb._dragging=!1;h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}}),zb,va={__proto__:null,clipPolygon:La,
polygonCenter:Ya,centroid:Hb},Kb={__proto__:null,simplify:tb,pointToSegmentDistance:Ib,closestPointOnSegment:function(a,b,e){return ec(a,b,e)},clipSegment:Pb,_getEdgeIntersection:ia,_getBitCode:Ob,_sqClosestPointOnSegment:ec,isFlat:Oa,_flat:Ic,polylineCenter:Jc},kb={project:function(a){return new H(a.lng,a.lat)},unproject:function(a){return new R(a.y,a.x)},bounds:new D([-180,-90],[180,90])},lb={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,
1.876465623138E7]),project:function(a){var h=Math.PI/180,b=this.R,e=a.lat*h,c=this.R_MINOR/b,c=Math.sqrt(1-c*c),n=c*Math.sin(e),n=Math.tan(Math.PI/4-e/2)/Math.pow((1-n)/(1+n),c/2),e=-b*Math.log(Math.max(n,1E-10));return new H(a.lng*h*b,e)},unproject:function(a){var h,b=180/Math.PI,e=this.R,c=this.R_MINOR/e,c=Math.sqrt(1-c*c),n=Math.exp(-a.y/e),f=Math.PI/2-2*Math.atan(n),C=0;for(h=.1;15>C&&1E-7<Math.abs(h);C++)h=c*Math.sin(f),h=Math.pow((1-h)/(1+h),c/2),f+=h=Math.PI/2-2*Math.atan(n*h)-f;return new R(f*
b,a.x*b/e)}},ub={__proto__:null,LonLat:kb,Mercator:lb,SphericalMercator:$a},Qb=c({},Bb,{code:"EPSG:3395",projection:lb,transformation:v(vb=.5/(Math.PI*lb.R),.5,-vb,.5)}),$b=c({},Bb,{code:"EPSG:4326",projection:kb,transformation:v(1/180,1,-1/180,.5)}),Yb=c({},ib,{projection:kb,transformation:v(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var h=b.lng-a.lng;b=b.lat-a.lat;return Math.sqrt(h*h+b*b)},infinite:!0}),ab=(ib.Earth=Bb,
ib.EPSG3395=Qb,ib.EPSG3857=ic,ib.EPSG900913=fd,ib.EPSG4326=$b,ib.Simple=Yb,sc.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[e(a)]=this},removeInteractiveTarget:function(a){return delete this._map._targets[e(a)],
this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h,b=a.target;b.hasLayer(this)&&(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents&&(h=this.getEvents(),b.on(h,this),this.once("remove",function(){b.off(h,this)},this)),this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this}))}})),Ub=(ha.include({addLayer:function(a){var h;if(a._layerAdd)return h=e(a),this._layers[h]||((this._layers[h]=a)._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,
a)),this;throw Error("The provided object is not a Layer.");},removeLayer:function(a){var h=e(a);return this._layers[h]&&(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null),this},hasLayer:function(a){return e(a)in this._layers},eachLayer:function(a,b){for(var h in this._layers)a.call(b,this._layers[h]);return this},_addLayers:function(a){for(var h=0,b=(a=a?Wa(a)?a:[a]:[]).length;h<b;h++)this.addLayer(a[h])},
_addZoomLimit:function(a){isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[e(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){a=e(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a,b=1/0,e=-1/0,c=this._getZoomSpan();for(a in this._zoomBoundLayers)var n=this._zoomBoundLayers[a].options,b=void 0===n.minZoom?b:Math.min(b,n.minZoom),e=void 0===n.maxZoom?e:Math.max(e,n.maxZoom);this._layersMaxZoom=
e===-1/0?void 0:e;this._layersMinZoom=b===1/0?void 0:b;c!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),ab.extend({initialize:function(a,b){var h,e;if(w(this,b),this._layers={},a)for(h=0,e=a.length;h<e;h++)this.addLayer(a[h])},addLayer:function(a){var h=
this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h,b,e=Array.prototype.slice.call(arguments,1);for(h in this._layers)(b=this._layers[h])[a]&&
b[a].apply(b,e);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var h in this._layers)a.call(b,this._layers[h]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:e})),ba=Ub.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ub.prototype.addLayer.call(this,
a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?((a=a in this._layers?this._layers[a]:a).removeEventParent(this),Ub.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a,b=new E;for(a in this._layers){var e=this._layers[a];b.extend(e.getBounds?
e.getBounds():e.getLatLng())}return b}}),n=aa.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){w(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var h=this._getIconUrl(a);if(h)return h=this._createImg(h,b&&"IMG"===b.tagName?b:null),this._setIconStyles(h,a),!this.options.crossOrigin&&""!==this.options.crossOrigin||(h.crossOrigin=!0===this.options.crossOrigin?
"":this.options.crossOrigin),h;if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(a,b){var h=this.options,e=h[b+"Size"],e=K(e="number"==typeof e?[e,e]:e),c=K("shadow"===b&&h.shadowAnchor||h.iconAnchor||e&&e.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(h.className||"");c&&(a.style.marginLeft=-c.x+"px",a.style.marginTop=-c.y+"px");e&&(a.style.width=e.x+"px",a.style.height=e.y+"px")},_createImg:function(a,b){return(b=b||document.createElement("img")).src=
a,b},_getIconUrl:function(a){return S.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),C=n.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof C.imagePath&&(C.imagePath=this._detectIconPath()),(this.options.imagePath||C.imagePath)+n.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=
/^url\((['"])?(.+)\1\)$/,b;if(b=a=(h=h.exec(a))&&h[2])h=/^(.*)marker-icon\.png$/,b=(h=h.exec(a))&&h[1];return b},_detectIconPath:function(){var a=da("div","leaflet-default-icon-path",document.body),b=Ja(a,"background-image")||Ja(a,"backgroundImage");return document.body.removeChild(a),(b=this._stripUrl(b))?b:(a=document.querySelector('link[href$="leaflet.css"]'))?a.href.substring(0,a.href.length-11-1):""}}),xa=Ga.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;
this._draggable||(this._draggable=new Tb(a,a,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();W(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&pa(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},
_adjustPan:function(a){var h=this._marker,b=h._map,e=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,n=Qa(h._icon),f=b.getPixelBounds(),C=b.getPixelOrigin(),C=P(f.min._subtract(C).add(c),f.max._subtract(C).subtract(c));C.contains(n)||(c=K((Math.max(C.max.x,n.x)-C.max.x)/(f.max.x-C.max.x)-(Math.min(C.min.x,n.x)-C.min.x)/(f.min.x-C.min.x),(Math.max(C.max.y,n.y)-C.max.y)/(f.max.y-C.max.y)-(Math.min(C.min.y,n.y)-C.min.y)/(f.min.y-C.min.y)).multiplyBy(e),b.panBy(c,{animate:!1}),
this._draggable._newPos._add(c),this._draggable._startPos._add(c),za(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=I(this._adjustPan.bind(this,a)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,b=
h._shadow,e=Qa(h._icon),c=h._map.layerPointToLatLng(e);b&&za(b,e);h._latlng=c;a.latlng=c;a.oldLatLng=this._oldLatLng;h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){J(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}}),hc=ab.extend({options:{icon:new C,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,
autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){w(this,b);this._latlng=N(a)},onAdd:function(a){(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)&&a.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,
viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=N(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},
update:function(){var a;return this._icon&&this._map&&(a=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(a)),this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=a.icon.createIcon(this._icon),c=!1,e=(e!==this._icon&&(this._icon&&this._removeIcon(),c=!0,a.title&&(e.title=a.title),"IMG"===e.tagName&&(e.alt=a.alt||"")),W(e,b),a.keyboard&&(e.tabIndex="0",e.setAttribute("role","button")),this._icon=e,a.riseOnHover&&this.on({mouseover:this._bringToFront,
mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&O(e,"focus",this._panOnFocus,this),a.icon.createShadow(this._shadow)),n=!1;e!==this._shadow&&(this._removeShadow(),n=!0);e&&(W(e,b),e.alt="");this._shadow=e;1>a.opacity&&this._updateOpacity();c&&this.getPane().appendChild(this._icon);this._initInteraction();e&&n&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});this.options.autoPanOnFocus&&
U(this._icon,"focus",this._panOnFocus,this);oa(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&oa(this._shadow);this._shadow=null},_setPos:function(a){this._icon&&za(this._icon,a);this._shadow&&za(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();
this._setPos(a)},_initInteraction:function(){var a;this.options.interactive&&(W(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xa&&(a=this.options.draggable,this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xa(this),a&&this.dragging.enable()))},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Pa(this._icon,a);this._shadow&&Pa(this._shadow,
a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a,b,e=this._map;e&&(a=(b=this.options.icon.options).iconSize?K(b.iconSize):K(0,0),b=b.iconAnchor?K(b.iconAnchor):K(0,0),e.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:a.subtract(b)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),nc=
ab.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},
setStyle:function(a){return w(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?
this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$c=nc.extend({options:{fill:!0,radius:10},initialize:function(a,b){w(this,b);this._latlng=N(a);this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=N(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=
a&&a.radius||this._radius;return nc.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,e=this._clickTolerance(),a=[a+e,b+e];this._pxBounds=new D(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&
!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),id=$c.extend({initialize:function(a,b,e){if(w(this,"number"==typeof b?c({},e,{radius:b}):b),this._latlng=N(a),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,
this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:nc.prototype.setStyle,_project:function(){var a,b,e,c,n,f=this._latlng.lng,C=this._latlng.lat,k=this._map,l=k.options.crs;l.distance===Bb.distance?(c=Math.PI/180,n=this._mRadius/Bb.R/c,a=k.project([C+n,f]),b=k.project([C-n,f]),b=a.add(b).divideBy(2),e=k.unproject(b).lat,c=Math.acos((Math.cos(n*c)-Math.sin(C*c)*Math.sin(e*c))/(Math.cos(C*c)*Math.cos(e*
c)))/c,!isNaN(c)&&0!==c||(c=n/Math.cos(Math.PI/180*C)),this._point=b.subtract(k.getPixelOrigin()),this._radius=isNaN(c)?0:b.x-k.project([e,f-c]).x,this._radiusY=b.y-a.y):(n=l.unproject(l.project(this._latlng).subtract([this._mRadius,0])),this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(n).x);this._updateBounds()}}),Wb=nc.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){w(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},
setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,b=null,e=ec,c=0,n=this._parts.length;c<n;c++)for(var f=this._parts[c],C=1,k=f.length;C<k;C++){var l,xa,p=e(a,l=f[C-1],xa=f[C],!0);p<h&&(h=p,b=e(a,l,xa))}return b&&(b.distance=Math.sqrt(h)),b},getCenter:function(){if(this._map)return Jc(this._defaultShape(),this._map.options.crs);throw Error("Must add layer to map before using getCenter()");},
getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=N(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new E;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Oa(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],b=Oa(a),e=0,c=a.length;e<c;e++)b?(h[e]=N(a[e]),this._bounds.extend(h[e])):h[e]=this._convertLatLngs(a[e]);return h},_project:function(){var a=
new D;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),a=new H(a,a);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(a,b,e){var h,c,n=a.length;if(a[0]instanceof R){c=[];for(h=0;h<n;h++)c[h]=this._map.latLngToLayerPoint(a[h]),e.extend(c[h]);b.push(c)}else for(h=0;h<
n;h++)this._projectLatlngs(a[h],b,e)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var b,e,c,n,f=this._parts,C=0,k=0,l=this._rings.length;C<l;C++)for(b=0,e=(n=this._rings[C]).length;b<e-1;b++)(c=Pb(n[b],n[b+1],a,b,!0))&&(f[k]=f[k]||[],f[k].push(c[0]),c[1]===n[b+1]&&b!==e-2||(f[k].push(c[1]),k++))},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,
e=0,c=a.length;e<c;e++)a[e]=tb(a[e],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,b){var h,e,c,n,f,C,r=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(a))for(h=0,n=this._parts.length;h<n;h++)for(e=0,c=(f=(C=this._parts[h]).length)-1;e<f;c=e++)if((b||0!==e)&&Ib(a,C[c],C[e])<=r)return!0;return!1}});Wb._flat=Ic;var xc=Wb.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||
!this._latlngs[0].length},getCenter:function(){if(this._map)return Ya(this._defaultShape(),this._map.options.crs);throw Error("Must add layer to map before using getCenter()");},_convertLatLngs:function(a){a=Wb.prototype._convertLatLngs.call(this,a);var b=a.length;return 2<=b&&a[0]instanceof R&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){Wb.prototype._setLatLngs.call(this,a);Oa(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(Oa(this._latlngs[0])?this._latlngs:
this._latlngs[0])[0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight,b=new H(b,b),a=new D(a.min.subtract(b),a.max.add(b));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var e,b=0,c=this._rings.length;b<c;b++)(e=La(this._rings[b],a,!0)).length&&this._parts.push(e)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b,h,e,c,n,f,C,k=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;
c=0;for(f=this._parts.length;c<f;c++)for(n=0,e=(C=(b=this._parts[c]).length)-1;n<C;e=n++)h=b[n],e=b[e],h.y>a.y!=e.y>a.y&&a.x<(e.x-h.x)*(a.y-h.y)/(e.y-h.y)+h.x&&(k=!k);return k||Wb.prototype._containsPoint.call(this,a,!0)}}),Xb=ba.extend({initialize:function(a,b){w(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,h,e=Wa(a)?a:a.features;if(e){a=0;for(b=e.length;a<b;a++)((h=e[a]).geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}h=this.options;return h.filter&&
!h.filter(a)||!(b=fc(a,h))?this:(b.feature=rc(a),b.defaultOptions=b.options,this.resetStyle(b),h.onEachFeature&&h.onEachFeature(a,b),this.addLayer(b))},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=c({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){a.setStyle&&("function"==typeof b&&(b=b(a.feature)),a.setStyle(b))}}),Rb=
{toGeoJSON:function(a){return Jb(this,{type:"Point",coordinates:Kc(this.getLatLng(),a)})}};hc.include(Rb);id.include(Rb);$c.include(Rb);Wb.include({toGeoJSON:function(a){var b=!Oa(this._latlngs);return Jb(this,{type:(b?"Multi":"")+"LineString",coordinates:qc(this._latlngs,b?1:0,!1,a)})}});xc.include({toGeoJSON:function(a){var b=!Oa(this._latlngs),h=b&&!Oa(this._latlngs[0]);a=qc(this._latlngs,h?2:b?1:0,!0,a);return Jb(this,{type:(h?"Multi":"")+"Polygon",coordinates:b?a:[a]})}});Ub.include({toMultiPoint:function(a){var b=
[];return this.eachLayer(function(h){b.push(h.toGeoJSON(a).geometry.coordinates)}),Jb(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(a){var b,h,e=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===e?this.toMultiPoint(a):(b="GeometryCollection"===e,h=[],this.eachLayer(function(e){e.toGeoJSON&&(e=e.toGeoJSON(a),b?h.push(e.geometry):"FeatureCollection"===(e=rc(e)).type?h.push.apply(h,e.features):h.push(e))}),b?Jb(this,{geometries:h,type:"GeometryCollection"}):
{type:"FeatureCollection",features:h})}});var mb=yc,ad=ab.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,e){this._url=a;this._bounds=Z(b);w(this,e)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(W(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){oa(this._image);
this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&cb(this._image),this},bringToBack:function(){return this._map&&Ka(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Z(a),this._map&&this._reset(),
this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b="IMG"===this._url.tagName,e=this._image=b?this._url:da("img");W(e,"leaflet-image-layer");this._zoomAnimated&&W(e,"leaflet-zoom-animated");this.options.className&&W(e,this.options.className);
e.onselectstart=p;e.onmousemove=p;e.onload=a(this.fire,this,"load");e.onerror=a(this._overlayOnError,this,"error");!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin);this.options.zIndex&&this._updateZIndex();b?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;fb(this._image,
a,b)},_reset:function(){var a=this._image,b=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=b.getSize();za(a,b.min);a.style.width=e.x+"px";a.style.height=e.y+"px"},_updateOpacity:function(){Pa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=
this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),ld=ad.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var b="VIDEO"===this._url.tagName,e=this._image=b?this._url:da("video");if(W(e,"leaflet-image-layer"),this._zoomAnimated&&W(e,"leaflet-zoom-animated"),this.options.className&&W(e,this.options.className),e.onselectstart=p,e.onmousemove=p,e.onloadeddata=a(this.fire,
this,"load"),b){for(var b=e.getElementsByTagName("source"),c=[],n=0;n<b.length;n++)c.push(b[n].src);this._url=0<b.length?c:[e.src]}else for(Wa(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline,b=0;b<this._url.length;b++)c=da("source"),c.src=this._url[b],e.appendChild(c)}}),
md=ad.extend({_initImage:function(){var a=this._image=this._url;W(a,"leaflet-image-layer");this._zoomAnimated&&W(a,"leaflet-zoom-animated");this.options.className&&W(a,this.options.className);a.onselectstart=p;a.onmousemove=p}}),Vb=ab.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,b){a&&(a instanceof R||Wa(a))?(this._latlng=N(a),w(this,b)):(w(this,a),this._source=b);this.options.content&&(this._content=this.options.content)},openOn:function(a){return(a=
arguments.length?a:this._source._map).hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&Pa(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();
a._fadeAnimated&&Pa(this._container,1);this.bringToFront();this.options.interactive&&(W(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(b){b._fadeAnimated?(Pa(this._container,0),this._removeTimeout=setTimeout(a(oa,void 0,this._container),200)):oa(this._container);this.options.interactive&&(pa(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=
N(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};
return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cb(this._container),this},bringToBack:function(){return this._map&&Ka(this._container),this},_prepareOpen:function(a){if(!(h=this._source)._map)return!1;if(h instanceof ba){var b,h=null,e=this._source._layers;for(b in e)if(e[b]._map){h=e[b];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=
h.getLatLng();else{if(!h.getBounds)throw Error("Unable to get source layer LatLng.");a=h.getBounds().getCenter()}return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){var a,b,e;this._map&&
(b=this._map.latLngToLayerPoint(this._latlng),a=K(this.options.offset),e=this._getAnchor(),this._zoomAnimated?za(this._container,b.add(e)):a=a.add(b).add(e),b=this._containerBottom=-a.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+a.x,this._container.style.bottom=b+"px",this._container.style.left=e+"px")},_getAnchor:function(){return[0,0]}}),bd=(ha.include({_initOverlay:function(a,b,e,c){var h=b;return h instanceof a||(h=(new a(c)).setContent(b)),e&&h.setLatLng(e),h}}),ab.include({_initOverlay:function(a,
b,e,c){var h=e;return h instanceof a?(w(h,c),h._source=this):(h=b&&!c?b:new a(c,this)).setContent(e),h}}),Vb.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return!(a=arguments.length?a:this._source._map).hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),
a._popup=this,Vb.prototype.openOn.call(this,a)},onAdd:function(a){Vb.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nc||this._source.on("preclick",Sa))},onRemove:function(a){Vb.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nc||this._source.off("preclick",Sa))},getEvents:function(){var a=Vb.prototype.getEvents.call(this);
return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a=this._container=da("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=da("div","leaflet-popup-content-wrapper",a);this._contentNode=da("div","leaflet-popup-content",b);Ta(a);fa(this._contentNode);O(a,"contextmenu",Sa);this._tipContainer=da("div",
"leaflet-popup-tip-container",a);this._tip=da("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&((b=this._closeButton=da("a","leaflet-popup-close-button",a)).setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',O(b,"click",function(a){ta(a);this.close()},this))},_updateLayout:function(){var a=this._contentNode,b=a.style,e=(b.width="",b.whiteSpace="nowrap",a.offsetWidth),e=Math.min(e,this.options.maxWidth),
e=(e=Math.max(e,this.options.minWidth),b.width=e+1+"px",b.whiteSpace="",b.height="",a.offsetHeight),c=this.options.maxHeight;(c&&c<e?(b.height=c+"px",W):pa)(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var b=this._getAnchor();za(this._container,a.add(b))},_adjustPan:function(){var a,b,e,c,n,f,C,k;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?
this._autopanning=!1:(a=this._map,b=parseInt(Ja(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+b,k=this._containerWidth,(e=new H(this._containerLeft,-b-this._containerBottom))._add(Qa(this._container)),e=a.layerPointToContainerPoint(e),n=K(this.options.autoPanPadding),c=K(this.options.autoPanPaddingTopLeft||n),n=K(this.options.autoPanPaddingBottomRight||n),f=a.getSize(),C=0,e.x+k+n.x>f.x&&(C=e.x+k-f.x+n.x),e.x-C-c.x<(k=0)&&(C=e.x-c.x),e.y+b+n.y>f.y&&(k=e.y+b-f.y+n.y),0>e.y-
k-c.y&&(k=e.y-c.y),(C||k)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([C,k]))))},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),cd=(ha.mergeOptions({closePopupOnClick:!0}),ha.include({openPopup:function(a,b,e){return this._initOverlay(bd,a,b,e).openOn(this),this},closePopup:function(a){return(a=arguments.length?a:this._popup)&&a.close(),this}}),ab.include({bindPopup:function(a,b){return this._popup=
this._initOverlay(bd,this._popup,a,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ba||(this._popup._source=this),this._popup._prepareOpen(a||
this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b;this._popup&&this._map&&(Va(a),b=a.layer||a.target,this._popup._source!==b||b instanceof nc?
(this._popup._source=b,this.openPopup(a.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}}),Vb.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Vb.prototype.onAdd.call(this,a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&
(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Vb.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Vb.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){this._contentNode=this._container=da("div","leaflet-tooltip "+(this.options.className||
"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));this._container.setAttribute("role","tooltip");this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b,h=this._map,e=this._container,c=h.latLngToContainerPoint(h.getCenter()),h=h.layerPointToContainerPoint(a),n=this.options.direction,f=e.offsetWidth,C=e.offsetHeight,k=K(this.options.offset),l=this._getAnchor(),h="top"===n?(b=f/2,C):"bottom"===n?(b=f/
2,0):(b="center"===n?f/2:"right"===n?0:"left"===n?f:h.x<c.x?(n="right",0):(n="left",f+2*(k.x+l.x)),C/2);a=a.subtract(K(b,h,!0)).add(k).add(l);pa(e,"leaflet-tooltip-right");pa(e,"leaflet-tooltip-left");pa(e,"leaflet-tooltip-top");pa(e,"leaflet-tooltip-bottom");W(e,"leaflet-tooltip-"+n);za(e,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&Pa(this._container,a)},_animateZoom:function(a){a=
this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),nd=(ha.include({openTooltip:function(a,b,e){return this._initOverlay(cd,a,b,e).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ab.include({bindTooltip:function(a,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cd,
this._tooltip,a,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){var b,h;!a&&this._tooltipHandlersAdded||(b=a?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,
h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[b](h),this._tooltipHandlersAdded=!a)},openTooltip:function(a){return this._tooltip&&(this instanceof ba||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,
this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},
_addFocusListenersOnLayer:function(a){var b="function"==typeof a.getElement&&a.getElement();b&&(O(b,"focus",function(){this._tooltip._source=a;this.openTooltip()},this),O(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){(a="function"==typeof a.getElement&&a.getElement())&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){var b;this._tooltip&&this._map&&(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag?(this._openOnceFlag=
!0,(b=this)._map.once("moveend",function(){b._openOnceFlag=!1;b._openTooltip(a)})):(this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)))},_moveTooltip:function(a){var b=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(a=this._map.mouseEventToContainerPoint(a.originalEvent),a=this._map.containerPointToLayerPoint(a),b=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(b)}}),n.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},
createIcon:function(a){a=a&&"DIV"===a.tagName?a:document.createElement("div");var b=this.options;return b.html instanceof Element?(nb(a),a.appendChild(b.html)):a.innerHTML=!1!==b.html?b.html:"",b.bgPos&&(b=K(b.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}));n.Default=C;var Rc=ab.extend({options:{tileSize:256,opacity:1,updateWhenIdle:S.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,
maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){w(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();oa(this._container);a._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){return this._map&&(cb(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&
(Ka(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var a;return this._map&&(this._removeAllTiles(),(a=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()),this},getEvents:function(){var a=
{viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof H?a:new H(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&
null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,h=this.getPane().children,e=-a(-1/0,1/0),c=0,n=h.length;c<n;c++)b=h[c].style.zIndex,h[c]!==this._container&&b&&(e=a(e,+b));isFinite(e)&&(this.options.zIndex=e+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!S.ielt9){Pa(this._container,this.options.opacity);var a,b=+new Date,e=!1,c=!1;for(a in this._tiles){var n,f=this._tiles[a];f.current&&f.loaded&&(n=Math.min(1,
(b-f.loaded)/200),Pa(f.el,n),1>n?e=!0:(f.active?c=!0:this._onOpaqueTile(f),f.active=!0))}c&&!this._noPrune&&this._pruneTiles();e&&(J(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=da("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;
if(void 0!==a){for(var e in this._levels)e=Number(e),this._levels[e].el.children.length||e===a?(this._levels[e].el.style.zIndex=b-Math.abs(a-e),this._onUpdateLevel(e)):(oa(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);e=this._levels[a];var c=this._map;return e||((e=this._levels[a]={}).el=da("div","leaflet-tile-container leaflet-zoom-animated",this._container),e.el.style.zIndex=b,e.origin=c.project(c.unproject(c.getPixelOrigin()),a).round(),e.zoom=a,
this._setZoomTransform(e,c.getCenter(),c.getZoom()),this._onCreateLevel(e)),this._level=e}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,b,e,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)(e=this._tiles[a]).retain=e.current;for(a in this._tiles)(e=this._tiles[a]).current&&!e.active&&(b=e.coords,this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2));for(a in this._tiles)this._tiles[a].retain||
this._removeTile(a)}}},_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)oa(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(a,b,e,c){a=Math.floor(a/2);b=Math.floor(b/2);--e;var h=new H(+a,+b),h=(h.z=e,this._tileCoordsToKey(h));
return(h=this._tiles[h])&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),c<e&&this._retainParent(a,b,e,c))},_retainChildren:function(a,b,e,c){for(var h=2*a;h<2*a+2;h++)for(var n=2*b;n<2*b+2;n++){var f=new H(h,n),f=(f.z=e+1,this._tileCoordsToKey(f));(f=this._tiles[f])&&f.active?f.retain=!0:(f&&f.loaded&&(f.retain=!0),e+1<c&&this._retainChildren(h,n,e+1,c))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,
a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:a},_setView:function(a,b,e,c){var h=Math.round(b),h=void 0!==this.options.maxZoom&&h>this.options.maxZoom||void 0!==this.options.minZoom&&h<this.options.minZoom?void 0:this._clampZoom(h),n=this.options.updateWhenZooming&&h!==this._tileZoom;c&&!n||(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),
this._resetGrid(),void 0!==h&&this._update(a),e||this._pruneTiles(),this._noPrune=!!e);this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var h in this._levels)this._setZoomTransform(this._levels[h],a,b)},_setZoomTransform:function(a,b,e){var h=this._map.getZoomScale(e,a.zoom);b=a.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(b,e)).round();S.any3d?fb(a.el,b,h):za(a.el,b)},_resetGrid:function(){var a=this._map,b=a.options.crs,e=this._tileSize=this.getTileSize(),c=this._tileZoom,
n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],c).x/e.x),Math.ceil(a.project([0,b.wrapLng[1]],c).x/e.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],c).y/e.x),Math.ceil(a.project([b.wrapLat[1],0],c).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=
this._map,h=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),h=b.getZoomScale(h,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*h);return new D(a.subtract(b),a.add(b))},_update:function(a){var b=this._map;if(b){var h=this._clampZoom(b.getZoom());if(void 0===a&&(a=b.getCenter()),void 0!==this._tileZoom){var e,b=this._getTiledPixelBounds(a),c=this._pxBoundsToTileRange(b),n=c.getCenter(),f=[],b=this.options.keepBuffer,b=new D(c.getBottomLeft().subtract([b,
-b]),c.getTopRight().add([b,-b]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw Error("Attempted to load an infinite number of tiles");for(e in this._tiles){var C=this._tiles[e].coords;C.z===this._tileZoom&&b.contains(new H(C.x,C.y))||(this._tiles[e].current=!1)}if(1<Math.abs(h-this._tileZoom))this._setView(a,h);else{for(h=c.min.y;h<=c.max.y;h++)for(a=c.min.x;a<=c.max.x;a++){var k;e=new H(a,h);e.z=this._tileZoom;this._isValidTile(e)&&((k=this._tiles[this._tileCoordsToKey(e)])?
k.current=!0:f.push(e))}if(f.sort(function(a,b){return a.distanceTo(n)-b.distanceTo(n)}),0!==f.length){this._loading||(this._loading=!0,this.fire("loading"));c=document.createDocumentFragment();for(a=0;a<f.length;a++)this._addTile(f[a],c);this._level.el.appendChild(c)}}}}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var h=this._globalTileRange;if(!b.wrapLng&&(a.x<h.min.x||a.x>h.max.x)||!b.wrapLat&&(a.y<h.min.y||a.y>h.max.y))return!1}return!this.options.bounds||(b=this._tileCoordsToBounds(a),
Z(this.options.bounds).overlaps(b))},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,h=this.getTileSize(),e=a.scaleBy(h),h=e.add(h);return[b.unproject(e,a.z),b.unproject(h,a.z)]},_tileCoordsToBounds:function(a){a=this._tileCoordsToNwSe(a);a=new E(a[0],a[1]);return this.options.noWrap?a:this._map.wrapLatLngBounds(a)},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");
var b=new H(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(a){var b=this._tiles[a];b&&(oa(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){W(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=b.y+"px";a.onselectstart=p;a.onmousemove=p;S.ielt9&&1>this.options.opacity&&Pa(a,this.options.opacity)},_addTile:function(b,e){var h=this._getTilePos(b),c=this._tileCoordsToKey(b),n=this.createTile(this._wrapCoords(b),
a(this._tileReady,this,b));this._initTile(n);2>this.createTile.length&&I(a(this._tileReady,this,b,null,n));za(n,h);this._tiles[c]={el:n,coords:b,current:!0};e.appendChild(n);this.fire("tileloadstart",{tile:n,coords:b})},_tileReady:function(b,e,c){e&&this.fire("tileerror",{error:e,tile:c,coords:b});var h=this._tileCoordsToKey(b);(c=this._tiles[h])&&(c.loaded=+new Date,this._map._fadeAnimated?(Pa(c.el,0),J(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),
e||(W(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),S.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new H(this._wrapX?l(a.x,this._wrapX):a.x,this._wrapY?l(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();
return new D(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),zc=Rc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,b){this._url=a;(b=w(this,b)).detectRetina&&S.retina&&0<b.maxZoom?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=
Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom);"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){return this._url===a&&void 0===b&&(b=!0),this._url=a,b||this.redraw(),this},createTile:function(b,e){var h=document.createElement("img");return O(h,"load",
a(this._tileOnLoad,this,e,h)),O(h,"error",a(this._tileOnError,this,e,h)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(b),h},getTileUrl:function(a){var b={r:S.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-
a.y,this.options.tms&&(b.y=a),b["-y"]=a),Q(this._url,c(b,this.options))},_tileOnLoad:function(b,e){S.ielt9?setTimeout(a(b,this,null,e),0):b(null,e)},_tileOnError:function(a,b,e){var h=this.options.errorTileUrl;h&&b.getAttribute("src")!==h&&(b.src=h);a(e,b)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom;return(this.options.zoomReverse?b-a:a)+this.options.zoomOffset},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;
return this.options.subdomains[a]},_abortLoading:function(){var a,b,e;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&((e=this._tiles[a].el).onload=p,e.onerror=p,e.complete||(e.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",b=this._tiles[a].coords,oa(e),delete this._tiles[a],this.fire("tileabort",{tile:e,coords:b})))},_removeTile:function(a){var b=this._tiles[a];if(b)return b.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),Rc.prototype._removeTile.call(this,
a)},_tileReady:function(a,b,e){if(this._map&&(!e||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="!==e.getAttribute("src")))return Rc.prototype._tileReady.call(this,a,b,e)}}),od=zc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;var h,e=c({},this.defaultWmsParams);for(h in b)h in this.options||(e[h]=b[h]);a=w(this,b).detectRetina&&S.retina?
2:1;h=this.getTileSize();e.width=h.x*a;e.height=h.y*a;this.wmsParams=e},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;zc.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToNwSe(a),h=this._crs,h=P(h.project(b[0]),h.project(b[1])),b=h.min,h=h.max,b=(1.3<=this._wmsVersion&&this._crs===$b?[b.y,b.x,h.y,h.x]:[b.x,b.y,h.x,h.y]).join(","),h=zc.prototype.getTileUrl.call(this,
a);return h+M(this.wmsParams,h,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(a,b){return c(this.wmsParams,a),b||this.redraw(),this}});zc.WMS=od;Lc.wms=function(a,b){return new od(a,b)};var ac=ab.extend({options:{padding:.1},initialize:function(a){w(this,a);e(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),W(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",
this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var h=this._map.getZoomScale(b,this._zoom),
e=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,b),e=e.multiplyBy(-h).add(c).subtract(this._map._getNewPixelOrigin(a,b));S.any3d?fb(this._container,e,h):za(this._container,e)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},
_update:function(){var a=this.options.padding,b=this._map.getSize(),e=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new D(e,e.add(b.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),kd=ac.extend({options:{tolerance:0},getEvents:function(){var a=ac.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ac.prototype.onAdd.call(this);
this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");O(a,"mousemove",this._onMouseMove,this);O(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this);O(a,"mouseout",this._handleMouseOut,this);a._leaflet_disable_events=!0;this._ctx=a.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest);delete this._ctx;oa(this._container);U(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=
null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){var a,b,e,c;this._map._animatingZoom&&this._bounds||(ac.prototype._update.call(this),a=this._bounds,b=this._container,e=a.getSize(),c=S.retina?2:1,za(b,a.min),b.width=c*e.x,b.height=c*e.y,b.style.width=e.x+"px",b.style.height=e.y+"px",S.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update"))},_reset:function(){ac.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=
!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);a=(this._layers[e(a)]=a)._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,h=b.next,b=b.prev;h?h.prev=b:this._drawLast=b;b?b.next=h:this._drawFirst=h;delete a._order;delete this._layers[e(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);
a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){for(var b,h=a.options.dashArray.split(/[, ]+/),e=[],c=0;c<h.length;c++){if(b=Number(h[c]),isNaN(b))return;e.push(b)}a.options._dashArray=e}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||I(this._redraw,
this))},_extendRedrawBounds:function(a){var b;a._pxBounds&&(b=(a.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(a._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(a._pxBounds.max.add([b,b])))},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a,b=this._redrawBounds;b?(a=b.getSize(),this._ctx.clearRect(b.min.x,
b.min.y,a.x,a.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var a,b=this._redrawBounds;this._ctx.save();b&&(a=b.getSize(),this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,a.x,a.y),this._ctx.clip());this._drawing=!0;for(var e=this._drawFirst;e;e=e.next)a=e.layer,(!b||a._pxBounds&&a._pxBounds.intersects(b))&&a._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,
b){if(this._drawing){var e,h,c,n,f=a._parts,C=f.length,k=this._ctx;if(C){k.beginPath();for(e=0;e<C;e++){h=0;for(c=f[e].length;h<c;h++)n=f[e][h],k[h?"lineTo":"moveTo"](n.x,n.y);b&&k.closePath()}this._fillStroke(k,a)}}},_updateCircle:function(a){var b,e,h,c;this._drawing&&!a._empty()&&(b=a._point,e=this._ctx,h=Math.max(Math.round(a._radius),1),1!=(c=(Math.max(Math.round(a._radiusY),1)||h)/h)&&(e.save(),e.scale(1,c)),e.beginPath(),e.arc(b.x,b.y/c,h,0,2*Math.PI,!1),1!=c&&e.restore(),this._fillStroke(e,
a))},_fillStroke:function(a,b){var e=b.options;e.fill&&(a.globalAlpha=e.fillOpacity,a.fillStyle=e.fillColor||e.color,a.fill(e.fillRule||"evenodd"));e.stroke&&0!==e.weight&&(a.setLineDash&&a.setLineDash(b.options&&b.options._dashArray||[]),a.globalAlpha=e.opacity,a.lineWidth=e.weight,a.strokeStyle=e.color,a.lineCap=e.lineCap,a.lineJoin=e.lineJoin,a.stroke())},_onClick:function(a){for(var b,e,h=this._map.mouseEventToLayerPoint(a),c=this._drawFirst;c;c=c.next)(b=c.layer).options.interactive&&b._containsPoint(h)&&
(("click"===a.type||"preclick"===a.type)&&this._map._draggableMoved(b)||(e=b));this._fireEvent(!!e&&[e],a)},_onMouseMove:function(a){var b;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(b=this._map.mouseEventToLayerPoint(a),this._handleMouseHover(a,b))},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(pa(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(b,e){if(!this._mouseHoverThrottled){for(var h,
c,n=this._drawFirst;n;n=n.next)(h=n.layer).options.interactive&&h._containsPoint(e)&&(c=h);c!==this._hoveredLayer&&(this._handleMouseOut(b),c&&(W(this._container,"leaflet-interactive"),this._fireEvent([c],b,"mouseover"),this._hoveredLayer=c));this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],b);this._mouseHoverThrottled=!0;setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,b,e){this._map._fireDOMEvent(b,e||b.type,a)},_bringToFront:function(a){var b,e,
h=a._order;h&&(b=h.next,e=h.prev,b&&((b.prev=e)?e.next=b:b&&(this._drawFirst=b),h.prev=this._drawLast,(this._drawLast.next=h).next=null,this._drawLast=h,this._requestRedraw(a)))},_bringToBack:function(a){var b,e,h=a._order;h&&(b=h.next,(e=h.prev)&&((e.next=b)?b.prev=e:e&&(this._drawLast=e),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)))}}),Sc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+
a+' class="lvml">')}}catch(h){}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),F={_initContainer:function(){this._container=da("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ac.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=Sc("shape");W(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";a._path=Sc("path");b.appendChild(a._path);this._updateStyle(a);
this._layers[e(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b);a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;oa(b);a.removeInteractiveTarget(b);delete this._layers[e(a)]},_updateStyle:function(a){var b=a._stroke,e=a._fill,h=a.options,c=a._container;c.stroked=!!h.stroke;c.filled=!!h.fill;h.stroke?(b=b||(a._stroke=Sc("stroke")),c.appendChild(b),b.weight=h.weight+"px",b.color=h.color,b.opacity=h.opacity,h.dashArray?b.dashStyle=
Wa(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=h.lineCap.replace("butt","flat"),b.joinstyle=h.lineJoin):b&&(c.removeChild(b),a._stroke=null);h.fill?(e=e||(a._fill=Sc("fill")),c.appendChild(e),e.color=h.fillColor||h.color,e.opacity=h.fillOpacity):e&&(c.removeChild(e),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),e=Math.round(a._radius),h=Math.round(a._radiusY||e);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+e+","+h+" 0,23592600")},
_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){cb(a._container)},_bringToBack:function(a){Ka(a._container)}},dd=S.vml?Sc:la,Nc=ac.extend({_initContainer:function(){this._container=dd("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=dd("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){oa(this._container);U(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_update:function(){var a,b,e;this._map._animatingZoom&&
this._bounds||(ac.prototype._update.call(this),b=(a=this._bounds).getSize(),e=this._container,this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,e.setAttribute("width",b.x),e.setAttribute("height",b.y)),za(e,a.min),e.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" ")),this.fire("update"))},_initPath:function(a){var b=a._path=dd("path");a.options.className&&W(b,a.options.className);a.options.interactive&&W(b,"leaflet-interactive");this._updateStyle(a);this._layers[e(a)]=a},_addPath:function(a){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){oa(a._path);a.removeInteractiveTarget(a._path);delete this._layers[e(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),
a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,Ma(a._parts,b))},_updateCircle:function(a){var b=
a._point,e=Math.max(Math.round(a._radius),1),h="a"+e+","+(Math.max(Math.round(a._radiusY),1)||e)+" 0 1,0 ",b=a._empty()?"M0 0":"M"+(b.x-e)+","+b.y+h+2*e+",0 "+h+2*-e+",0 ";this._setPath(a,b)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){cb(a._path)},_bringToBack:function(a){Ka(a._path)}});S.vml&&Nc.include(F);ha.include({getRenderer:function(a){a=(a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());
return this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){var b;return"overlayPane"!==a&&void 0!==a&&(void 0===(b=this._paneRenderers[a])&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b),b)},_createRenderer:function(a){return this.options.preferCanvas&&Mc(a)||Ab(a)}});var pd=xc.extend({initialize:function(a,b){xc.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=
Z(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});Nc.create=dd;Nc.pointsToPath=Ma;Xb.geometryToLayer=fc;Xb.coordsToLatLng=gc;Xb.coordsToLatLngs=pc;Xb.latLngToCoords=Kc;Xb.latLngsToCoords=qc;Xb.getFeature=Jb;Xb.asFeature=rc;ha.mergeOptions({boxZoom:!0});var db=Ga.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){O(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){oa(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();this._resetState();
mc();pb();this._startPoint=this._map.mouseEventToContainerPoint(a);O(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=da("div","leaflet-zoom-box",this._container),W(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(a);a=new D(this._point,this._startPoint);var b=a.getSize();za(this._box,a.min);this._box.style.width=
b.x+"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(oa(this._box),pa(this._container,"leaflet-crosshair"));wa();Ua();U(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){1!==b.which&&1!==b.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0),b=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})))},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),ca=(ha.addInitHook("addHandler","boxZoom",db),ha.mergeOptions({doubleClickZoom:!0}),Ga.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,e=b.getZoom(),h=b.options.zoomDelta,e=a.originalEvent.shiftKey?
e-h:e+h;"center"===b.options.doubleClickZoom?b.setZoom(e):b.setZoomAround(a.containerPoint,e)}})),Cb=(ha.addInitHook("addHandler","doubleClickZoom",ca),ha.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Ga.extend({addHooks:function(){var a;this._draggable||(a=this._map,this._draggable=new Tb(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),
this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this)));W(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){pa(this._map._container,"leaflet-grab");pa(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&
this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a,b=this._map;b._stop();this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(a=Z(this._map.options.maxBounds),this._offsetLimit=P(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=
null;b.fire("movestart").fire("dragstart");b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){var b,e;this._map.options.inertia&&(b=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(e),this._times.push(b),this._prunePositions(b));this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;1<this._positions.length&&50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=
this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){var a,b;this._viscosity&&this._offsetLimit&&(a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit,a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=
this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a))},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),e=this._initialWorldOffset,c=this._draggable._newPos.x,n=(c-b+e)%a+b-e,c=(c+b+e)%a-b-e,a=Math.abs(n+e)<Math.abs(c+e)?n:c;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=a},_onDragEnd:function(a){var b,e,h,c,n=this._map,f=n.options,C=!f.inertia||a.noInertia||
2>this._times.length;n.fire("dragend",a);!C&&(this._prunePositions(+new Date),a=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1E3,b=f.easeLinearity,C=(a=a.multiplyBy(b/C)).distanceTo([0,0]),e=Math.min(f.inertiaMaxSpeed,C),a=a.multiplyBy(e/C),h=e/(f.inertiaDeceleration*b),(c=a.multiplyBy(-h/2).round()).x||c.y)?(c=n._limitOffset(c,n.options.maxBounds),I(function(){n.panBy(c,{duration:h,easeLinearity:b,noMoveStart:!0,animate:!0})})):n.fire("moveend")}})),kc=(ha.addInitHook("addHandler",
"dragging",Cb),ha.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Ga.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");O(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},
this)},removeHooks:function(){this._removeHooks();U(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var a,b,e;this._focused||(e=document.body,a=document.documentElement,b=e.scrollTop||a.scrollTop,e=e.scrollLeft||a.scrollLeft,this._map._container.focus(),window.scrollTo(e,b))},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=
!1;this._map.fire("blur")},_setPanDelta:function(a){for(var b=this._panKeys={},e=this.keyCodes,h=0,c=e.left.length;h<c;h++)b[e.left[h]]=[-1*a,0];h=0;for(c=e.right.length;h<c;h++)b[e.right[h]]=[a,0];h=0;for(c=e.down.length;h<c;h++)b[e.down[h]]=[0,a];h=0;for(c=e.up.length;h<c;h++)b[e.up[h]]=[0,-1*a]},_setZoomDelta:function(a){for(var b=this._zoomKeys={},e=this.keyCodes,h=0,c=e.zoomIn.length;h<c;h++)b[e.zoomIn[h]]=a;h=0;for(c=e.zoomOut.length;h<c;h++)b[e.zoomOut[h]]=-a},_addHooks:function(){O(document,
"keydown",this._onKeyDown,this)},_removeHooks:function(){U(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b,e,h=a.keyCode,c=this._map;if(h in this._panKeys)c._panAnim&&c._panAnim._inProgress||(e=this._panKeys[h],a.shiftKey&&(e=K(e).multiplyBy(3)),c.options.maxBounds&&(e=c._limitOffset(K(e),c.options.maxBounds)),c.options.worldCopyJump?(b=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(e))),c.panTo(b)):c.panBy(e));else if(h in this._zoomKeys)c.setZoom(c.getZoom()+
(a.shiftKey?3:1)*this._zoomKeys[h]);else{if(27!==h||!c._popup||!c._popup.options.closeOnEscapeKey)return;c.closePopup()}Va(a)}}})),Ha=(ha.addInitHook("addHandler","keyboard",kc),ha.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Ga.extend({addHooks:function(){O(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){U(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(b){var e=na(b),h=this._map.options.wheelDebounceTime,
e=(this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(b),this._startTime||(this._startTime=+new Date),Math.max(h-(+new Date-this._startTime),0));clearTimeout(this._timer);this._timer=setTimeout(a(this._performZoom,this),e);Va(b)},_performZoom:function(){var a=this._map,b=a.getZoom(),e=this._map.options.zoomSnap||0,c=(a._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel)),c=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,e=e?Math.ceil(c/e)*e:c,c=a._limitZoom(b+(0<this._delta?
e:-e))-b;this._delta=0;this._startTime=null;c&&("center"===a.options.scrollWheelZoom?a.setZoom(b+c):a.setZoomAround(this._lastMousePos,b+c))}})),eb=(ha.addInitHook("addHandler","scrollWheelZoom",Ha),ha.mergeOptions({tapHold:S.touchNative&&S.safari&&S.mobile,tapTolerance:15}),Ga.extend({addHooks:function(){O(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){var e;clearTimeout(this._holdTimeout);1===
b.touches.length&&(e=b.touches[0],this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel();this._isTapValid()&&(O(document,"touchend",ta),O(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),O(document,"touchend touchcancel contextmenu",this._cancel,this),O(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function r(){U(document,"touchend",ta);U(document,"touchend touchcancel",
r)},_cancel:function(){clearTimeout(this._holdTimeout);U(document,"touchend touchcancel contextmenu",this._cancel,this);U(document,"touchmove",this._onMove,this)},_onMove:function(a){a=a.touches[0];this._newPos=new H(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,b){a=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});
a._simulated=!0;b.target.dispatchEvent(a)}})),bb=(ha.addInitHook("addHandler","tapHold",eb),ha.mergeOptions({touchZoom:S.touch,bounceAtZoomLimits:!0}),Ga.extend({addHooks:function(){W(this._map._container,"leaflet-touch-zoom");O(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pa(this._map._container,"leaflet-touch-zoom");U(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b,e,c=this._map;!a.touches||2!==a.touches.length||c._animatingZoom||
this._zooming||(b=c.mouseEventToContainerPoint(a.touches[0]),e=c.mouseEventToContainerPoint(a.touches[1]),this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),"center"!==c.options.touchZoom&&(this._pinchStartLatLng=c.containerPointToLatLng(b.add(e)._divideBy(2))),this._startDist=b.distanceTo(e),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),O(document,"touchmove",this._onTouchMove,this),O(document,"touchend touchcancel",this._onTouchEnd,
this),ta(a))},_onTouchMove:function(b){if(b.touches&&2===b.touches.length&&this._zooming){var e=this._map,c=e.mouseEventToContainerPoint(b.touches[0]),n=e.mouseEventToContainerPoint(b.touches[1]),f=c.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(f,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&1>f||this._zoom>e.getMaxZoom()&&1<f)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==f)return}else{c=c._add(n)._divideBy(2)._subtract(this._centerPoint);
if(1==f&&0===c.x&&0===c.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0);J(this._animRequest);n=a(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(n,this,!0);ta(b)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,J(this._animRequest),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?
this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}})),sd=(ha.addInitHook("addHandler","touchZoom",bb),ha.BoxZoom=db,ha.DoubleClickZoom=ca,ha.Drag=Cb,ha.Keyboard=kc,ha.ScrollWheelZoom=Ha,ha.TapHold=eb,ha.TouchZoom=bb,b.Bounds=D,b.Browser=S,b.CRS=ib,b.Canvas=kd,b.Circle=id,b.CircleMarker=$c,b.Class=aa,b.Control=sb,b.DivIcon=nd,b.DivOverlay=Vb,b.DomEvent=jc,b.DomUtil=
Ba,b.Draggable=Tb,b.Evented=sc,b.FeatureGroup=ba,b.GeoJSON=Xb,b.GridLayer=Rc,b.Handler=Ga,b.Icon=n,b.ImageOverlay=ad,b.LatLng=R,b.LatLngBounds=E,b.Layer=ab,b.LayerGroup=Ub,b.LineUtil=Kb,b.Map=ha,b.Marker=hc,b.Mixin=jb,b.Path=nc,b.Point=H,b.PolyUtil=va,b.Polygon=xc,b.Polyline=Wb,b.Popup=bd,b.PosAnimation=Xc,b.Projection=ub,b.Rectangle=pd,b.Renderer=ac,b.SVG=Nc,b.SVGOverlay=md,b.TileLayer=zc,b.Tooltip=cd,b.Transformation=ka,b.Util=Oc,b.VideoOverlay=ld,b.bind=a,b.bounds=P,b.canvas=Mc,b.circle=function(a,
b,e){return new id(a,b,e)},b.circleMarker=function(a,b){return new $c(a,b)},b.control=rb,b.divIcon=function(a){return new nd(a)},b.extend=c,b.featureGroup=function(a,b){return new ba(a,b)},b.geoJSON=yc,b.geoJson=mb,b.gridLayer=function(a){return new Rc(a)},b.icon=function(a){return new n(a)},b.imageOverlay=function(a,b,e){return new ad(a,b,e)},b.latLng=N,b.latLngBounds=Z,b.layerGroup=function(a,b){return new Ub(a,b)},b.map=function(a,b){return new ha(a,b)},b.marker=function(a,b){return new hc(a,b)},
b.point=K,b.polygon=function(a,b){return new xc(a,b)},b.polyline=function(a,b){return new Wb(a,b)},b.popup=function(a,b){return new bd(a,b)},b.rectangle=function(a,b){return new pd(a,b)},b.setOptions=w,b.stamp=e,b.svg=Ab,b.svgOverlay=function(a,b,e){return new md(a,b,e)},b.tileLayer=Lc,b.tooltip=function(a,b){return new cd(a,b)},b.transformation=v,b.version="1.9.4",b.videoOverlay=function(a,b,e){return new ld(a,b,e)},window.L);b.noConflict=function(){return window.L=sd,this};window.L=b});
(function(b){var c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f={array:function(a){var b=["["],c,l,p,q=a.length,t;for(p=0;p<q;p+=1)if(t=a[p],l=f[typeof t])t=l(t),"string"==typeof t&&(c&&(b[b.length]=","),b[b.length]=t,c=!0);b[b.length]="]";return b.join("")},"boolean":function(a){return String(a)},"null":function(a){return"null"},number:function(a){return isFinite(a)?String(a):"null"},object:function(a){if(a){if(a instanceof Array)return f.array(a);var b=["{"],
c,l,p,q;for(p in a)if(q=a[p],l=f[typeof q])q=l(q),"string"==typeof q&&(c&&(b[b.length]=","),b.push(f.string(p),":",q),c=!0);b[b.length]="}";return b.join("")}return"null"},string:function(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/([\x00-\x1f\\"])/g,function(a,b){var e=c[b];if(e)return e;e=b.charCodeAt();return"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16)}));return'"'+a+'"'}};b.toJSON=function(a){var b=isNaN(a)?f[typeof a]:f.number;if(b)return b(a)};b.parseJSON=function(a,e){void 0===
e&&(e=b.parseJSON.safe);if(!e||/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(a))return eval("("+a+")")};b.parseJSON.safe=!1})(jQuery);
!function(b,c,f){L.drawVersion="0.4.10";L.Draw={};L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},share:{title:"Do share",text:"Share"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},marker:{tooltip:{start:"Click map to place marker."}},
polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",
text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"},clearAll:{title:"clear all layers.",text:"Clear All"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}};L.Draw.Event={};L.Draw.Event.CREATED="draw:created";L.Draw.Event.EDITED=
"draw:edited";L.Draw.Event.DELETED="draw:deleted";L.Draw.Event.DRAWSTART="draw:drawstart";L.Draw.Event.DRAWSTOP="draw:drawstop";L.Draw.Event.DRAWVERTEX="draw:drawvertex";L.Draw.Event.EDITSTART="draw:editstart";L.Draw.Event.EDITMOVE="draw:editmove";L.Draw.Event.EDITRESIZE="draw:editresize";L.Draw.Event.EDITVERTEX="draw:editvertex";L.Draw.Event.EDITSTOP="draw:editstop";L.Draw.Event.DELETESTART="draw:deletestart";L.Draw.Event.DELETESTOP="draw:deletestop";L.Draw=L.Draw||{};L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,
initialize:function(a,b){this._map=a;this._container=a._container;this._overlayPane=a._panes.overlayPane;this._popupPane=a._panes.popupPane;b&&b.shapeOptions&&(b.shapeOptions=L.Util.extend({},this.options.shapeOptions,b.shapeOptions));L.setOptions(this,b)},enable:function(){isDrawActived?($(".popup-box-measure").remove(),$("body").prepend('<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Info</h2><div class="popup-head-r"><a class="close_measure" href="#"></a></div></div><div class="popup-text"><span class="info_txt">Before use close other drawing!</span></div></div></div>')):
(isDrawActived=!0,this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type})))},disable:function(){isDrawActived=!1;this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),
L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){this._map.fire("draw:canceled",{layerType:this.type});27===a.keyCode&&this.disable()}});
L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4E3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},
metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2E3},initialize:function(a,b){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error;b&&b.drawError&&(b.drawError=L.Util.extend({},this.options.drawError,b.drawError));this.type=L.Draw.Polyline.TYPE;L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,
this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",
this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._clearHideErrorTimeout();this._cleanUpShape();this._map.removeLayer(this._markerGroup);delete this._markerGroup;delete this._markers;this._map.removeLayer(this._poly);delete this._poly;
this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this);this._map.removeLayer(this._mouseMarker);delete this._mouseMarker;this._clearGuides();this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},doShare:function(){Measure._doShare()},
deleteLastVertex:function(){if(!(1>=this._markers.length)){var a=this._markers.pop(),b=this._poly,c=b.getLatLngs(),f=c.splice(-1,1)[0];this._poly.setLatLngs(c);this._markerGroup.removeLayer(a);2>b.getLatLngs().length&&this._map.removeLayer(b);this._vertexChanged(f,!1)}},addVertex:function(a){if(2<=this._markers.length&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip();this._markers.push(this._createMarker(a));
this._poly.addLatLng(a);2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly);this._vertexChanged(a,!0)},completeShape:function(){1>=this._markers.length||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();
this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent),c=this._map.layerPointToLatLng(b);this._currentLatLng=c;this._updateTooltip(c);this._updateGuide(b);this._mouseMarker.setLatLng(c);L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,b){this._map.fire(L.Draw.Event.DRAWVERTEX,
{layers:this._markerGroup});this._updateFinishHandler();this._updateRunningMeasure(a,b);this._clearGuides();this._updateTooltip()},_onMouseDown:function(a){this._clickHandled||this._touchHandled||this._disableMarkers||(this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers(),a=a.originalEvent,this._startPoint.call(this,a.clientX,a.clientY))},_startPoint:function(a,b){this._mouseDownOrigin=L.point(a,b)},_onMouseUp:function(a){var b=a.originalEvent;this._endPoint.call(this,b.clientX,b.clientY,
a);this._clickHandled=null},_endPoint:function(a,e,c){this._mouseDownOrigin&&(a=L.point(a,e).distanceTo(this._mouseDownOrigin),10>this._calculateFinishDistance(c.latlng)&&L.Browser.touch?this._finishShape():Math.abs(a)<9*(b.devicePixelRatio||1)&&this.addVertex(c.latlng),this._enableNewMarkers());this._mouseDownOrigin=null},_onTouch:function(a){var b,c,f=a.originalEvent;!f.touches||!f.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(b=f.touches[0].clientX,c=f.touches[0].clientY,
this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,b,c),this._endPoint.call(this,b,c,a),this._touchHandled=null);this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var b;if(0<this._markers.length){if(this.type===L.Draw.Polyline.TYPE)b=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;b=this._markers[0]}b=this._map.latLngToContainerPoint(b.getLatLng());
a=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});a=this._map.latLngToContainerPoint(a.getLatLng());b=b.distanceTo(a)}else b=1/0;return b},_updateFinishHandler:function(){var a=this._markers.length;1<a&&this._markers[a-1].on("click",this._finishShape,this);2<a&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){a=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},
_updateGuide:function(a){var b=this._markers?this._markers.length:0;0<b&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[b-1].getLatLng()),a))},_updateTooltip:function(a){var b=this._getTooltipText();a&&this._tooltip.updatePosition(a);this._errorShown||this._tooltip.updateContent(b)},_drawGuide:function(a,b){var e,c,f=Math.floor(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))),q=this.options.guidelineDistance;
e=this.options.maxGuideLineLength;q=f>e?f-e:q;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));q<f;q+=this.options.guidelineDistance)e=q/f,e={x:Math.floor(a.x*(1-e)+e*b.x),y:Math.floor(a.y*(1-e)+e*b.y)},c=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),c.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(c,e)},_updateGuideColor:function(a){if(this._guidesContainer)for(var b=
0,c=this._guidesContainer.childNodes.length;b<c;b++)this._guidesContainer.childNodes[b].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,b,c=this.options.showLength;return L.Browser.touch&&(c=!1),0===this._markers.length?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(b=c?this._getMeasurementString():"",a=1===this._markers.length?
{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:b}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:b}),a},_updateRunningMeasure:function(a,b){var e,c,f=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(e=f-(b?2:1),c=a.distanceTo(this._markers[e].getLatLng()),this._measurementRunningTotal+=c*(b?1:-1))},_getMeasurementString:function(){var a,b=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=c&&b&&b.distanceTo?this._measurementRunningTotal+
b.distanceTo(c):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0;this._tooltip.showAsError().updateContent({text:this.options.drawError.message});this._updateGuideColor(this.options.drawError.color);this._poly.setStyle({color:this.options.drawError.color});this._clearHideErrorTimeout();this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,
this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1;this._clearHideErrorTimeout();this._tooltip.removeError().updateContent(this._getTooltipText());this._updateGuideColor(this.options.shapeOptions.color);this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=
!1}.bind(this),50)},_cleanUpShape:function(){1<this._markers.length&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}});L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,
clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,b){L.Draw.Polyline.prototype.initialize.call(this,a,b);this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;1===a&&this._markers[0].on("click",this._finishShape,this);2<a&&(this._markers[a-1].on("dblclick",this._finishShape,this),3<a&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,b;return 0===this._markers.length?a=L.drawLocal.draw.handlers.polygon.tooltip.start:
3>this._markers.length?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,b=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,b=this._getMeasurementString()),{text:a,subtext:b}},_getMeasurementString:function(){var a=this._area,b="";return a||this.options.showLength?(this.options.showLength&&(b=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(b+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),b):null},_shapeIsValid:function(){return 3<=
this._markers.length},_vertexChanged:function(a,b){var e;!this.options.allowIntersection&&this.options.showArea&&(e=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(e));L.Draw.Polyline.prototype._vertexChanged.call(this,a,b)},_cleanUpShape:function(){var a=this._markers.length;0<a&&(this._markers[0].off("click",this._finishShape,this),2<a&&this._markers[a-1].off("dblclick",this._finishShape,this))}});L.SimpleShape={};L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},
initialize:function(a,b){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end;L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,
this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(c,"mouseup",this._onMouseUp,this),L.DomEvent.off(c,"touchend",this._onMouseUp,
this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape));this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0;this._startLatLng=a.latlng;L.DomEvent.on(c,"mouseup",this._onMouseUp,this).on(c,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){a=a.latlng;this._tooltip.updatePosition(a);this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},
_onMouseUp:function(){this._shape&&this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()}});L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(a,b){this.type=L.Draw.Rectangle.TYPE;this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,
a,b)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,b,c,f=L.Draw.SimpleShape.prototype._getTooltipText.call(this),p=this.options.showArea;
return this._shape&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),b=L.GeometryUtil.geodesicArea(a),c=p?L.GeometryUtil.readableArea(b,this.options.metric):""),{text:f.text,subtext:c}}});L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,b){this.type=L.Draw.Circle.TYPE;
this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(a)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,
a)},_onMouseMove:function(a){var b;b=a.latlng;a=this.options.showRadius;var c=this.options.metric;if(this._tooltip.updatePosition(b),this._isDrawing){this._drawShape(b);b=this._shape.getRadius().toFixed(1);var f="";a&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(b,c,this.options.feet,this.options.nautic));this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}});L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,
repeatMode:!1,zIndexOffset:2E3},initialize:function(a,b){this.type=L.Draw.Marker.TYPE;L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),
this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),
delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){a=a.latlng;this._tooltip.updatePosition(a);this._mouseMarker.setLatLng(a);this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent();this.disable();
this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a);this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}});L.Edit=L.Edit||{};L.Edit.Marker=L.Handler.extend({initialize:function(a,b){this._marker=a;L.setOptions(this,b)},addHooks:function(){var a=this._marker;a.dragging.enable();a.on("dragend",this._onDragEnd,a);this._toggleMarkerHighlight()},removeHooks:function(){var a=
this._marker;a.dragging.disable();a.off("dragend",this._onDragEnd,a);this._toggleMarkerHighlight()},_onDragEnd:function(a){a=a.target;a.edited=!0;this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display=
"")},_offsetMarker:function(a,b){var e=parseInt(a.style.marginTop,10)-b,c=parseInt(a.style.marginLeft,10)-b;a.style.marginTop=e+"px";a.style.marginLeft=c+"px"}});L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Poly=L.Handler.extend({options:{},initialize:function(a,b){this.latlngs=[a._latlngs];a._holes&&(this.latlngs=this.latlngs.concat(a._holes));this._poly=a;L.setOptions(this,b);this._poly.on("revert-edited",
this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var b=0;b<this._verticesHandlers.length;b++)a(this._verticesHandlers[b])},addHooks:function(){this._initHandlers();this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},
_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this.options))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs];a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}});L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,
20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1E3}},initialize:function(a,b,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this._poly=a;c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError));this._latlngs=b;L.setOptions(this,c)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly;
a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1));a.setStyle(a.options.editing);this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly;a.setStyle(a.options.original);a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers();this._initMarkers()},_initMarkers:function(){this._markerGroup||
(this._markerGroup=new L.LayerGroup);this._markers=[];var a,b,c,f=this._defaultShape();a=0;for(c=f.length;a<c;a++)b=this._createMarker(f[a],a),b.on("click",this._onMarkerClick,this),this._markers.push(b);var p,q;a=0;for(b=c-1;a<c;b=a++)(0!==a||L.Polygon&&this._poly instanceof L.Polygon)&&(p=this._markers[b],q=this._markers[a],this._createMiddleMarker(p,q),this._updatePrevNext(p,q))},_createMarker:function(a,b){var e=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return e._origLatLng=
a,e._index=b,e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(e),e},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),b=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),
this._poly.redraw(),b},_removeMarker:function(a){var b=a._index;this._markerGroup.removeLayer(a);this._markers.splice(b,1);this._spliceLatLngs(b,1);this._updateIndexes(b,-1);a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=
!0;this._poly.fire("edit");this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var b=a.target,c=this._poly;if(L.extend(b._origLatLng,b._latlng),b._middleLeft&&b._middleLeft.setLatLng(this._getMiddleLatLng(b._prev,b)),b._middleRight&&b._middleRight.setLatLng(this._getMiddleLatLng(b,b._next)),c.options.poly){var f=c._map._editTooltip;if(!c.options.poly.allowIntersection&&c.intersects()){var p=c.options.color;c.setStyle({color:this.options.drawError.color});
0!==L.version.indexOf("0.7")&&b.dragging._draggable._onUp(a);this._onMarkerClick(a);f&&f.updateContent({text:L.drawLocal.draw.handlers.polyline.error});setTimeout(function(){c.setStyle({color:p});f&&f.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1E3)}}this._poly.redraw();this._poly.fire("editdrag")},_onMarkerClick:function(a){var b=L.Polygon&&this._poly instanceof L.Polygon?4:3;a=a.target;this._defaultShape().length<b||(this._removeMarker(a),
this._updatePrevNext(a._prev,a._next),a._middleLeft&&this._markerGroup.removeLayer(a._middleLeft),a._middleRight&&this._markerGroup.removeLayer(a._middleRight),a._prev&&a._next?this._createMiddleMarker(a._prev,a._next):a._prev?a._next||(a._prev._middleRight=null):a._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),b=this._map.layerPointToLatLng(b);a=a.target;L.extend(a._origLatLng,b);a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,
a));a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next));this._poly.redraw();this.updateMarkers()},_updateIndexes:function(a,b){this._markerGroup.eachLayer(function(e){e._index>a&&(e._index+=b)})},_createMiddleMarker:function(a,b){var e,c,f,q=this._getMiddleLatLng(a,b),t=this._createMarker(q);t.setOpacity(.6);a._middleRight=b._middleLeft=t;c=function(){t.off("touchmove",c,this);var f=b._index;t._index=f;t.off("click",e,this).on("click",this._onMarkerClick,this);q.lat=t.getLatLng().lat;
q.lng=t.getLatLng().lng;this._spliceLatLngs(f,0,q);this._markers.splice(f,0,t);t.setOpacity(1);this._updateIndexes(f,1);b._index++;this._updatePrevNext(a,t);this._updatePrevNext(t,b);this._poly.fire("editstart")};f=function(){t.off("dragstart",c,this);t.off("dragend",f,this);t.off("touchmove",c,this);this._createMiddleMarker(a,t);this._createMiddleMarker(t,b)};e=function(){c.call(this);f.call(this);this._fireEdit()};t.on("click",e,this).on("dragstart",c,this).on("dragend",f,this).on("touchmove",c,
this);this._markerGroup.addLayer(t)},_updatePrevNext:function(a,b){a&&(a._next=b);b&&(b._prev=a)},_getMiddleLatLng:function(a,b){var e=this._poly._map,c=e.project(a.getLatLng()),f=e.project(b.getLatLng());return e.unproject(c._add(f)._divideBy(2))}});L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this,this.options.poly),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),
this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))});L.Edit=L.Edit||{};L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),
touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,b){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon);this._shape=a;L.Util.setOptions(this,b)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),
this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var a=0,b=this._resizeMarkers.length;a<b;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null;this._map.removeLayer(this._markerGroup);delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers();this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup);
this._createMoveMarker();this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,b){var e=new L.Marker.Touch(a,{draggable:!0,icon:b,zIndexOffset:10});return this._bindMarker(e),this._markerGroup.addLayer(e),e},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",
this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0);
this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0;this._shape.fire("edit")},_onMarkerDrag:function(a){a=a.target;var b=a.getLatLng();a===this._moveMarker?this._move(b):this._resize(b);this._shape.redraw();this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1);this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),"function"==typeof this._getCorners){var b=this._getCorners();a=a.target;var c=a._cornerIndex;
a.setOpacity(0);this._oppositeCorner=b[(c+2)%4];this._toggleCornerMarkers(0,c)}this._shape.fire("editstart")},_onTouchMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),b=this._map.layerPointToLatLng(b);return a.target===this._moveMarker?this._move(b):this._resize(b),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1);this.updateMarkers();this._fireEdit()},_move:function(){},_resize:function(){}});L.Edit=L.Edit||{};L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=
this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var b=0,c=a.length;b<c;b++)this._resizeMarkers.push(this._createMarker(a[b],this.options.resizeIcon)),this._resizeMarkers[b]._cornerIndex=b},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var b=this._getCorners();a=a.target._cornerIndex;this._oppositeCorner=b[(a+2)%4];this._toggleCornerMarkers(0,
a)},_onMarkerDragEnd:function(a){var b,c,f=a.target;f===this._moveMarker&&(b=this._shape.getBounds(),c=b.getCenter(),f.setLatLng(c));this._toggleCornerMarkers(1);this._repositionCornerMarkers();L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var b,c=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),f=this._shape.getBounds().getCenter(),p=[],q=0,t=c.length;q<t;q++)b=[c[q].lat-f.lat,c[q].lng-f.lng],p.push([a.lat+b[0],a.lng+b[1]]);this._shape.setLatLngs(p);
this._repositionCornerMarkers();this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner));a=this._shape.getBounds();this._moveMarker.setLatLng(a.getCenter());this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var b=0,c=this._resizeMarkers.length;b<
c;b++)this._resizeMarkers[b].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),b=0,c=this._resizeMarkers.length;b<c;b++)this._resizeMarkers[b].setLatLng(a[b])}});L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},
_createResizeMarker:function(){var a=this._shape.getLatLng(),a=this._getResizeMarkerPoint(a);this._resizeMarkers=[];this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var b=this._shape._radius*Math.cos(Math.PI/4);a=this._map.project(a);return this._map.unproject([a.x+b,a.y-b])},_move:function(a){var b=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(b);this._shape.setLatLng(a);this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},
_resize:function(a){a=this._moveMarker.getLatLng().distanceTo(a);this._shape.setRadius(a);this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}});L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable());this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()});this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})});L.Map.mergeOptions({touchExtend:!0});
L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this);L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this);L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this);this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,
this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart);L.DomEvent.off(this._container,"touchend",this._onTouchEnd);L.DomEvent.off(this._container,"touchmove",this._onTouchMove);
this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(a,b){var e;if(void 0!==a.touches){if(!a.touches.length)return;
e=a.touches[0]}else if("touch"!==a.pointerType||(e=a,!this._filterClick(a)))return;var c=this._map.mouseEventToContainerPoint(e),f=this._map.mouseEventToLayerPoint(e),q=this._map.layerPointToLatLng(f);this._map.fire(b,{latlng:q,layerPoint:f,containerPoint:c,pageX:e.pageX,pageY:e.pageY,originalEvent:a})},_filterClick:function(a){var b=a.timeStamp||a.originalEvent.timeStamp,c=L.DomEvent._lastClick&&b-L.DomEvent._lastClick;return c&&100<c&&500>c||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),
!1):(L.DomEvent._lastClick=b,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var b="touchcancel";this._detectIE()&&(b="pointercancel");this._touchEvent(a,b)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var a=
b.navigator.userAgent,e=a.indexOf("MSIE ");if(0<e)return parseInt(a.substring(e+5,a.indexOf(".",e)),10);if(0<a.indexOf("Trident/"))return e=a.indexOf("rv:"),parseInt(a.substring(e+3,a.indexOf(".",e)),10);e=a.indexOf("Edge/");return 0<e&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)}});L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend);L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},
_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,b="dblclick mousedown mouseover mouseout contextmenu touchstart touchend touchmove".split(" ");this._detectIE?b.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):b.concat(["touchcancel"]);L.DomUtil.addClass(a,"leaflet-clickable");L.DomEvent.on(a,"click",this._onMouseClick,this);L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)L.DomEvent.on(a,b[c],this._fireMouseEvent,this);
L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var a=b.navigator.userAgent,e=a.indexOf("MSIE ");if(0<e)return parseInt(a.substring(e+5,a.indexOf(".",e)),10);if(0<a.indexOf("Trident/"))return e=a.indexOf("rv:"),parseInt(a.substring(e+3,a.indexOf(".",e)),10);e=a.indexOf("Edge/");return 0<e&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)}});L.LatLngUtil={cloneLatLngs:function(a){for(var b=[],c=0,f=a.length;c<
f;c++)Array.isArray(a[c])?b.push(L.LatLngUtil.cloneLatLngs(a[c])):b.push(this.cloneLatLng(a[c]));return b},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}};(function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var b,e,c=a.length,f=0,t=Math.PI/180;if(2<c){for(var u=0;u<c;u++)b=a[u],e=a[(u+1)%c],f+=(e.lng-b.lng)*t*(2+Math.sin(b.lat*t)+Math.sin(e.lat*t));f=40680631590769*f/2}return Math.abs(f)},formattedNumber:function(a,
b){var e=a.toFixed(b),c=L.drawLocal.format&&L.drawLocal.format.numeric,f=c&&c.delimiters,c=f&&f.thousands,f=f&&f.decimal;if(c||f){var k=e.split("."),e=c?k[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c):k[0];1<k.length&&(e=e+(f||".")+k[1])}return e},readableArea:function(b,c,f){var e,k;f=L.Util.extend({},a,f);return c?(k=["ha","m"],type=typeof c,"string"===type?k=[c]:"boolean"!==type&&(k=c),e=1E6<=b&&-1!==k.indexOf("km")?L.GeometryUtil.formattedNumber(1E-6*b,f.km)+" km\u00b2":1E4<=b&&-1!==k.indexOf("ha")?
L.GeometryUtil.formattedNumber(1E-4*b,f.ha)+" ha":L.GeometryUtil.formattedNumber(b,f.m)+" m\u00b2"):(b/=.836127,e=3097600<=b?L.GeometryUtil.formattedNumber(b/3097600,f.mi)+" mi\u00b2":4840<=b?L.GeometryUtil.formattedNumber(b/4840,f.ac)+" acres":L.GeometryUtil.formattedNumber(b,f.yd)+" yd\u00b2"),e},readableDistance:function(b,c,f,p,q){q=L.Util.extend({},a,q);switch(c?"string"==typeof c?c:"metric":f?"feet":p?"nauticalMile":"yards"){case "metric":b=1E3<b?L.GeometryUtil.formattedNumber(b/1E3,q.km)+" km":
L.GeometryUtil.formattedNumber(b,q.m)+" m";break;case "feet":b=L.GeometryUtil.formattedNumber(3.28083*b,q.ft)+" ft";break;case "nauticalMile":b=L.GeometryUtil.formattedNumber(.53996*b/1E3,q.nm)+" nm";break;default:b*=1.09361,b=1760<b?L.GeometryUtil.formattedNumber(b/1760,q.mi)+" miles":L.GeometryUtil.formattedNumber(b,q.yd)+" yd"}return b}})})();L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,b,c,f){return this._checkCounterclockwise(a,c,f)!==this._checkCounterclockwise(b,c,f)&&this._checkCounterclockwise(a,
b,c)!==this._checkCounterclockwise(a,b,f)},_checkCounterclockwise:function(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}});L.Polyline.include({intersects:function(){var a,b,c,f=this._getProjectedPoints();a=f?f.length:0;if(this._tooFewPointsForIntersection())return!1;for(--a;3<=a;a--)if(b=f[a-1],c=f[a],this._lineSegmentsIntersectsRange(b,c,a-2))return!0;return!1},newLatLngIntersects:function(a,b){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),b)},newPointIntersects:function(a,
b){var e=this._getProjectedPoints(),c=e?e.length:0,e=e?e[c-1]:null,c=c-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(e,a,c,b?1:0)},_tooFewPointsForIntersection:function(a){var b=this._getProjectedPoints(),c=b?b.length:0;return c+=a||0,!b||3>=c},_lineSegmentsIntersectsRange:function(a,b,c,f){var e,k,l=this._getProjectedPoints();for(f=f||0;c>f;c--)if(e=l[c-1],k=l[c],L.LineUtil.segmentsIntersect(a,b,e,k))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;
for(var a=[],b=this._defaultShape(),c=0;c<b.length;c++)a.push(this._map.latLngToLayerPoint(b[c]));return a}});L.Polygon.include({intersects:function(){var a,b,c,f,p=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=p.length,b=p[0],c=p[a-1],f=a-2,this._lineSegmentsIntersectsRange(c,b,f,1)))}});L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if("0.7">L.version)throw Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
L.Control.prototype.initialize.call(this,a);var b;this._toolbars={};L.DrawToolbar&&this.options.draw&&(b=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=b,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.EditToolbar&&this.options.edit&&(b=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=b,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.toolbar=this},onAdd:function(a){var b,c=L.DomUtil.create("div",
"leaflet-draw"),f=!1,p;for(p in this._toolbars)this._toolbars.hasOwnProperty(p)&&(b=this._toolbars[p].addToolbar(a))&&(f||(L.DomUtil.hasClass(b,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(b.childNodes[0],"leaflet-draw-toolbar-top"),f=!0),c.appendChild(b));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var b in this._toolbars)this._toolbars[b]instanceof L.DrawToolbar&&this._toolbars[b].setOptions(a)},
_toolbarEnabled:function(a){a=a.target;for(var b in this._toolbars)this._toolbars[b]!==a&&this._toolbars[b].disable()}});L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1});L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))});L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(a){L.setOptions(this,a);this._modes={};this._actionButtons=[];this._activeMode=null},enabled:function(){return null!==this._activeMode},
disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var b=L.DomUtil.create("div","leaflet-draw-section"),c=0,f=this._toolbarClass||"",p=this.getModeHandlers(a);this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar");this._map=a;for(a=0;a<p.length;a++)p[a].enabled&&this._initModeHandler(p[a].handler,this._toolbarContainer,c++,f,p[a].title);if(c)return this._lastButtonIndex=--c,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),
b.appendChild(this._toolbarContainer),b.appendChild(this._actionsContainer),b},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};a=0;for(var b=this._actionButtons.length;a<b;a++)this._disposeButton(this._actionButtons[a].button,
this._actionButtons[a].callback,this);this._actionButtons=[];this._actionsContainer=null},_initModeHandler:function(a,b,c,f,p){var e=a.type;this._modes[e]={};this._modes[e].handler=a;this._modes[e].button=this._createButton({type:e,title:p,className:f+"-"+e,container:b,callback:this._modes[e].handler.enable,context:this._modes[e].handler});this._modes[e].buttonIndex=c;this._modes[e].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(a){var b=
L.DomUtil.create("a",a.className||"",a.container),c=L.DomUtil.create("span","sr-only",a.container);return b.href="#",b.appendChild(c),a.title&&(b.title=a.title,c.innerHTML=a.title),a.text&&(b.innerHTML=a.text,c.innerHTML=a.text),L.DomEvent.on(b,"click",L.DomEvent.stopPropagation).on(b,"mousedown",L.DomEvent.stopPropagation).on(b,"dblclick",L.DomEvent.stopPropagation).on(b,"touchstart",L.DomEvent.stopPropagation).on(b,"click",L.DomEvent.preventDefault).on(b,"click",a.callback,a.context),b},_disposeButton:function(a,
b){L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,"click",b)},_handlerActivated:function(a){this.disable();this._activeMode=this._modes[a.handler];L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._showActionsToolbar();this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar();
L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._activeMode=null;this.fire("disable")},_createActions:function(a){var b,c,f,p,q=this._actionsContainer;a=this.getActions(a);var t=a.length;c=0;for(f=this._actionButtons.length;c<f;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];q.firstChild;)q.removeChild(q.firstChild);for(c=0;c<t;c++)"enabled"in a[c]&&!a[c].enabled||(b=L.DomUtil.create("li","",
q),p=this._createButton({title:a[c].title,text:a[c].text,container:b,callback:a[c].callback,context:a[c].context}),this._actionButtons.push({button:p,callback:a[c].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,b=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler);this._actionsContainer.style.top=c+"px";0===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top"));a===b&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom"));this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none";L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}});L.Draw=L.Draw||{};L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a;this._popupPane=a._panes.popupPane;this._visible=!1;this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null;this._singleLineLabel=!1;this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this);this._container&&
(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",0!==a.subtext.length||this._singleLineLabel?0<a.subtext.length&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(0<a.subtext.length?'<span class="leaflet-draw-tooltip-subtext">'+
a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){a=this._map.latLngToLayerPoint(a);var b=this._container;return this._container&&(this._visible&&(b.style.visibility="inherit"),L.DomUtil.setPosition(b,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),
this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}});L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(a){for(var b in this.options)this.options.hasOwnProperty(b)&&a[b]&&(a[b]=L.extend({},this.options[b],a[b]));this._toolbarClass="leaflet-draw-draw";
L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,
handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,
callback:a.deleteLastVertex,context:a},{enabled:!0,title:L.drawLocal.draw.toolbar.share.title,text:L.drawLocal.draw.toolbar.share.text,callback:a.doShare,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var b in this._modes)this._modes.hasOwnProperty(b)&&a.hasOwnProperty(b)&&this._modes[b].handler.setOptions(a[b])}});L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},
options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(void 0===a.edit.selectedPathOptions&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions));a.remove&&(a.remove=L.extend({},this.options.remove,a.remove));a.poly&&(a.poly=L.extend({},this.options.poly,
a.poly));this._toolbarClass="leaflet-draw-edit";L.Toolbar.prototype.initialize.call(this,a);this._selectedFeatureCount=0},getModeHandlers:function(a){var b=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:b,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:b}),title:L.drawLocal.edit.toolbar.buttons.remove}]},
getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this},{title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}]},addToolbar:function(a){a=L.Toolbar.prototype.addToolbar.call(this,
a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this);L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save();this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers();
this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,b=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,b?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",b?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled));this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,b?L.DomUtil.removeClass(a,"leaflet-disabled"):
L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",b?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}});L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,b),this._featureGroup=b.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps=
{};this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),
this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",
this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},
this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(b){b.edited&&(a.addLayer(b),b.edited=!1)});this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var b=L.Util.stamp(a);this._uneditedLayerProps[b]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[b]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),
radius:a.getRadius()}:a instanceof L.Marker&&(this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var b=L.Util.stamp(a);a.edited=!1;this._uneditedLayerProps.hasOwnProperty(b)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof
L.Rectangle?a.setLatLngs(this._uneditedLayerProps[b].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[b].latlng),a.setRadius(this._uneditedLayerProps[b].radius)):a instanceof L.Marker&&a.setLatLng(this._uneditedLayerProps[b].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var b,c;a=a.layer||a.target||a;this._backupLayer(a);this.options.poly&&(c=L.Util.extend({},this.options.poly),a.options.poly=c);this.options.selectedPathOptions&&(b=L.Util.extend({},this.options.selectedPathOptions),
b.maintainColor&&(b.color=a.options.color,b.fillColor=a.options.fillColor),a.options.original=L.extend({},a.options),a.options.editing=b);a instanceof L.Marker?(a.editing&&a.editing.enable(),a.dragging.enable(),a.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.enable()},_disableLayerEdit:function(a){a=a.layer||a.target||a;a.edited=
!1;a.editing&&a.editing.disable();delete a.options.editing;delete a.options.original;this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions));a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):
a.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){a=a.target;a.edited=!0;this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(a){var b=this._map.mouseEventToLayerPoint(a.originalEvent.changedTouches[0]),b=this._map.layerPointToLatLng(b);a.target.setLatLng(b)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}});L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,
initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,b),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",
this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),
this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a);
a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this);this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){a=a.layer||a.target||a;a.off("click",this._removeLayer,this);this._deletedLayers.removeLayer(a)},_removeLayer:function(a){a=a.layer||
a.target||a;this._deletableLayers.removeLayer(a);this._deletedLayers.addLayer(a);a.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document);
!function(b,c){L.Pattern=L.Class.extend({includes:[L.Mixin.Events],options:{x:0,y:0,width:8,height:8,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse"},_addShapes:L.Util.falseFn,_update:L.Util.falseFn,initialize:function(b){this._shapes={};L.setOptions(this,b)},onAdd:function(b){this._map=b.target?b.target:b;this._map._initDefRoot();this._initDom();for(var a in this._shapes)this._shapes[a].onAdd(this);this._addShapes();this._addDom();this.redraw();this.getEvents&&this._map.on(this.getEvents(),
this);this.fire("add");this._map.fire("patternadd",{pattern:this})},onRemove:function(){this._removeDom()},redraw:function(){if(this._map){this._update();for(var b in this._shapes)this._shapes[b].redraw()}return this},setStyle:function(b){return L.setOptions(this,b),this._map&&(this._updateStyle(),this.redraw()),this},addTo:function(b){return b.addPattern(this),this},remove:function(){return this.removeFrom(this._map)},removeFrom:function(b){return b&&b.removePattern(this),this}});L.Map.addInitHook(function(){this._patterns=
{}});L.Map.include({addPattern:function(b){var a=L.stamp(b);return this._patterns[a]?b:(this._patterns[a]=b,this.whenReady(b.onAdd,b),this)},removePattern:function(b){var a=L.stamp(b);return this._patterns[a]?(this._loaded&&b.onRemove(this),b.getEvents&&this.off(b.getEvents(),b),delete this._patterns[a],this._loaded&&(this.fire("patternremove",{pattern:b}),b.fire("remove")),b._map=null,this):this},hasPattern:function(b){return!!b&&L.stamp(b)in this._patterns}});L.Pattern.SVG_NS="http://www.w3.org/2000/svg";
L.Pattern=L.Pattern.extend({_createElement:function(b){return c.createElementNS(L.Pattern.SVG_NS,b)},_initDom:function(){this._dom=this._createElement("pattern");this.options.className&&L.DomUtil.addClass(this._dom,this.options.className);this._updateStyle()},_addDom:function(){this._map._defRoot.appendChild(this._dom)},_removeDom:function(){L.DomUtil.remove(this._dom)},_updateStyle:function(){var b=this._dom,a=this.options;if(b){if(b.setAttribute("id",L.stamp(this)),b.setAttribute("x",a.x),b.setAttribute("y",
a.y),b.setAttribute("width",a.width),b.setAttribute("height",a.height),b.setAttribute("patternUnits",a.patternUnits),b.setAttribute("patternContentUnits",a.patternContentUnits),a.patternTransform||a.angle){var c=a.patternTransform?a.patternTransform+" ":"",c=c+(a.angle?"rotate("+a.angle+") ":"");b.setAttribute("patternTransform",c)}else b.removeAttribute("patternTransform");for(var k in this._shapes)this._shapes[k]._updateStyle()}}});L.Map.include({_initDefRoot:function(){if(!this._defRoot)if("function"==
typeof this.getRenderer){var b=this.getRenderer(this);this._defRoot=L.Pattern.prototype._createElement("defs");b._container.appendChild(this._defRoot)}else this._pathRoot||this._initPathRoot(),this._defRoot=L.Pattern.prototype._createElement("defs"),this._pathRoot.appendChild(this._defRoot)}});L.SVG?L.SVG.include({_superUpdateStyle:L.SVG.prototype._updateStyle,_updateStyle:function(b){this._superUpdateStyle(b);b.options.fill&&b.options.fillPattern&&b._path.setAttribute("fill","url(#"+L.stamp(b.options.fillPattern)+
")")}}):L.Path.include({_superUpdateStyle:L.Path.prototype._updateStyle,_updateStyle:function(){this._superUpdateStyle();this.options.fill&&this.options.fillPattern&&this._path.setAttribute("fill","url(#"+L.stamp(this.options.fillPattern)+")")}});L.StripePattern=L.Pattern.extend({options:{weight:4,spaceWeight:4,color:"#000000",spaceColor:"#ffffff",opacity:1,spaceOpacity:0},_addShapes:function(){this._stripe=new L.PatternPath({stroke:!0,weight:this.options.weight,color:this.options.color,opacity:this.options.opacity});
this._space=new L.PatternPath({stroke:!0,weight:this.options.spaceWeight,color:this.options.spaceColor,opacity:this.options.spaceOpacity});this.addShape(this._stripe);this.addShape(this._space);this._update()},_update:function(){this._stripe.options.d="M0 "+this._stripe.options.weight/2+" H "+this.options.width;this._space.options.d="M0 "+(this._stripe.options.weight+this._space.options.weight/2)+" H "+this.options.width},setStyle:L.Pattern.prototype.setStyle});L.stripePattern=function(b){return new L.StripePattern(b)};
L.PatternShape=L.Class.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd"},initialize:function(b){L.setOptions(this,b)},onAdd:function(b){this._pattern=b;this._pattern._dom&&(this._initDom(),this._addDom())},addTo:function(b){return b.addShape(this),this},redraw:function(){return this._pattern&&this._updateShape(),this},setStyle:function(b){return L.setOptions(this,b),this._pattern&&this._updateStyle(),this},setShape:function(b){this.options=
L.extend({},this.options,b);this._updateShape()}});L.Pattern.include({addShape:function(b){var a=L.stamp(b);return this._shapes[a]?b:(this._shapes[a]=b,b.onAdd(this),void 0)}});L.PatternShape.SVG_NS="http://www.w3.org/2000/svg";L.PatternShape=L.PatternShape.extend({_createElement:function(b){return c.createElementNS(L.PatternShape.SVG_NS,b)},_initDom:L.Util.falseFn,_updateShape:L.Util.falseFn,_initDomElement:function(b){this._dom=this._createElement(b);this.options.className&&L.DomUtil.addClass(this._dom,
this.options.className);this._updateStyle()},_addDom:function(){this._pattern._dom.appendChild(this._dom)},_updateStyle:function(){var b=this._dom,a=this.options;b&&(a.stroke?(b.setAttribute("stroke",a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",
a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(a.fillPattern?b.setAttribute("fill","url(#"+L.stamp(a.fillPattern)+")"):b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"),b.setAttribute("pointer-events",a.pointerEvents||(a.interactive?"visiblePainted":"none")))}});L.PatternPath=L.PatternShape.extend({_initDom:function(){this._initDomElement("path")},
_updateShape:function(){this._dom&&this._dom.setAttribute("d",this.options.d)}});L.PatternCircle=L.PatternShape.extend({options:{x:0,y:0,radius:0},_initDom:function(){this._initDomElement("circle")},_updateShape:function(){this._dom&&(this._dom.setAttribute("cx",this.options.x),this._dom.setAttribute("cy",this.options.y),this._dom.setAttribute("r",this.options.radius))}});L.PatternRect=L.PatternShape.extend({options:{x:0,y:0,width:10,height:10},_initDom:function(){this._initDomElement("rect")},_updateShape:function(){this._dom&&
(this._dom.setAttribute("x",this.options.x),this._dom.setAttribute("y",this.options.y),this._dom.setAttribute("width",this.options.width),this._dom.setAttribute("height",this.options.height),this.options.rx&&this._dom.setAttribute("rx",this.options.rx),this.options.ry&&this._dom.setAttribute("ry",this.options.ry))}})}(window,document);
!function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],c):"object"==typeof exports?exports["leaflet-ant-path"]=c(require("leaflet")):b["leaflet-ant-path"]=c(b.L)}(window,function(b){return function(b){function c(e){if(a[e])return a[e].exports;var f=a[e]={i:e,l:!1,exports:{}};return b[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}var a={};return c.m=b,c.c=a,c.d=function(a,b,f){c.o(a,b)||Object.defineProperty(a,
b,{configurable:!1,enumerable:!0,get:f})},c.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=85)}([function(b,f,a){var c=a(3);b.exports=function(a){if(!c(a))throw TypeError(a+" is not an object!");return a}},function(b,f,a){var c=a(2),k=a(9),l=a(18),p=a(30),q=a(46),t=function(a,b,e){var f,u,
w=a&t.F;u=a&t.G;var M=a&t.S,I=a&t.P,J=a&t.B,M=u?c:M?c[b]||(c[b]={}):(c[b]||{}).prototype,aa=u?k:k[b]||(k[b]={}),H=aa.prototype||(aa.prototype={});for(f in u&&(e=b),e)b=((u=!w&&M&&void 0!==M[f])?M:e)[f],u=J&&u?q(b,c):I&&"function"==typeof b?q(Function.call,b):b,M&&p(M,f,b,a&t.U),aa[f]!=b&&l(aa,f,u),I&&H[f]!=b&&(H[f]=b)};c.core=k;t.F=1;t.G=2;t.S=4;t.P=8;t.B=16;t.W=32;t.U=64;t.R=128;b.exports=t},function(b,f){var a=b.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==
Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(b,f){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(b,f){var a={}.hasOwnProperty;b.exports=function(b,c){return a.call(b,c)}},function(b,f,a){var c=a(0),k=a(48),l=a(17),p=Object.defineProperty;f.f=a(10)?Object.defineProperty:function(a,b,e){if(c(a),b=l(b,!0),c(e),k)try{return p(a,b,e)}catch(w){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(a[b]=
e.value),a}},function(b,f){b.exports=function(a){try{return!!a()}catch(e){return!0}}},function(b,f,a){var c=a(22),k=a(13),l=a(11),p=a(17),q=a(4),t=a(48),u=Object.getOwnPropertyDescriptor;f.f=a(10)?u:function(a,b){if(a=l(a),b=p(b,!0),t)try{return u(a,b)}catch(Q){}if(q(a,b))return k(!c.f.call(a,b),a[b])}},function(b,f,a){var c=a(29)("wks"),k=a(12),l=a(2).Symbol,p="function"==typeof l;(b.exports=function(a){return c[a]||(c[a]=p&&l[a]||(p?l:k)("Symbol."+a))}).store=c},function(b,f){var a=b.exports={version:"2.5.6"};
"number"==typeof __e&&(__e=a)},function(b,f,a){b.exports=!a(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(b,f,a){var c=a(79),k=a(42);b.exports=function(a){return c(k(a))}},function(b,f){var a=0,c=Math.random();b.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++a+c).toString(36))}},function(b,f){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(b,f,a){Object.defineProperty(f,"__esModule",
{value:!0});var c,k=(c=a(39))&&c.__esModule?c:{"default":c},l=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a},p=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){return c&&a(b.prototype,c),e&&a(b,e),b}}(),q=a(15),t=Symbol("main"),u=Symbol("pulse");
a=function(a){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");!0;var e;e=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;return e[t]=null,e[u]=null,e._map=null,e._path=null,e._animatedPathId=null,e._animatedPathClass="leaflet-ant-path",e._reversePathClass=
e._animatedPathClass+"__reverse",e._hardwareAccClass="hardware-acceleration",e._defaultOptions={paused:!1,reverse:!1,hardwareAcceleration:!1,renderer:(0,q.svg)(),delay:400,dashArray:[10,20],weight:5,opacity:.5,color:"#0000FF",pulseColor:"#FFFFFF"},q.Util.setOptions(e,l({},e._defaultOptions,c)),e._path=a,e._animatedPathId="ant-path-"+(new Date).getTime(),e._mount(),e}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,q.FeatureGroup),p(b,[{key:"map",value:function(a){return new (0,this.constructor[Symbol.species])(this._path.map(a),l({},this.options))}},{key:Symbol.iterator,value:k["default"].mark(function Y(){return k["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(this._path,"t0",1);case 1:case "end":return a.stop()}},
Y,this)})},{key:"_processOptions",value:function(){var a=this.options,b=this._animatedPathClass,c=this._reversePathClass,e=this._hardwareAccClass,f=this._animatedPathId,k=a.reverse,p=a.hardwareAcceleration,q=l({},a),u=l({},a);return u.color=u.pulseColor||a.pulseColor,u.className=[b,f,k?c:"",p?b+"__"+e:""].join(" "),delete q.dashArray,Array.isArray(u.dashArray)&&(u.dashArray=String(u.dashArray)),{pathOpts:q,pulseOpts:u}}},{key:"_mount",value:function(){var a=this._processOptions(),b=a.pulseOpts;this.addLayer(this[t]=
new q.Polyline(this._path,a.pathOpts));this.addLayer(this[u]=new q.Polyline(this._path,b))}},{key:"_calculateAnimationSpeed",value:function(){var a=this.options,b=this._map,c=this._animatedPathId;if(!a.paused&&b){var b=b.getZoom(),c=document.getElementsByClassName(c),e=1+a.delay/3/b+"s",f=["-webkit-","-moz-","-ms-","-o-",""].map(function(a){return a+"animation-duration: "+e}).join(";");Array.from(c,function(a){a.style.cssText=f;a.setAttribute("data-animated","true")})}}},{key:"_pureReverse",value:function(){var a=
this[u].getElement();a&&(this.options.reverse?a.classList.remove(this._reversePathClass):a.classList.add(this._reversePathClass))}},{key:"onAdd",value:function(a){return this._map=a,this._map.on("zoomend",this._calculateAnimationSpeed,this),this._mount(),this._calculateAnimationSpeed(),this}},{key:"onRemove",value:function(a){return this._map&&(this._map.off("zoomend",this._calculateAnimationSpeed,this),this._map=null),a&&a.removeLayer(this[t]).removeLayer(this[u]),this}},{key:"pause",value:function(){if(!this.options.paused){var a=
this[u].getElement();return this.options.paused=!0,a&&(a.removeAttribute("style"),a.setAttribute("data-animated","true")),!0}return!1}},{key:"resume",value:function(){var a=this.options;return!!a.paused&&(a.paused=!1,this._calculateAnimationSpeed(),!0)}},{key:"bringToFront",value:function(){return this[t].bringToFront(),this[u].bringToFront(),this}},{key:"bringToBack",value:function(){return this[u].bringToBack(),this[t].bringToBack(),this}},{key:"removeFrom",value:function(a){return a&&a.hasLayer(this)&&
a.removeLayer(this),this}},{key:"setStyle",value:function(a){var b=a.delay,c=a.reverse;a.paused?this.pause():this.resume();b!==this.options.delay&&(this.options.delay=b||this._defaultOptions.delay,this._calculateAnimationSpeed());void 0!==c&&c!==this.options.reverse&&this._pureReverse();this.options=l({},this.options,a);a=this._processOptions();b=a.pulseOpts;return this[t].setStyle(a.pathOpts),this[u].setStyle(b),this}},{key:"reverse",value:function(){return this._pureReverse(),this.options.reverse=
!this.options.reverse,this}},{key:"redraw",value:function(){return this[t].redraw(),this[u].redraw(),this}},{key:"addLatLng",value:function(){for(var a,b,c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return this._path=[].concat(function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(this._path),[e]),(a=this[t]).addLatLng.apply(a,e),(b=this[u]).addLatLng.apply(b,e),this}},{key:"setLatLngs",value:function(){for(var a,b,c=arguments.length,
e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return this._path=e,(a=this[t]).setLatLngs.apply(a,e),(b=this[u]).setLatLngs.apply(b,e),this}},{key:"getLatLngs",value:function(){return this[t].getLatLngs()}},{key:"spliceLatLngs",value:function(){var a,b,c=(a=this[t]).spliceLatLngs.apply(a,arguments);return(b=this[u]).spliceLatLngs.apply(b,arguments),c}},{key:"getBounds",value:function(){return this[t].getBounds()}},{key:"toGeoJSON",value:function(){return this[t].toGeoJSON()}},{key:Symbol.toStringTag,get:function(){return"L.Polyline.AntPath"}}],
[{key:Symbol.species,get:function(){return this}}]),b}();f["default"]=a;b.exports=f["default"]},function(c,f){c.exports=b},function(b,f){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(b,f,a){var c=a(3);b.exports=function(a,b){if(!c(a))return a;var e,f;if(b&&"function"==typeof(e=a.toString)&&!c(f=e.call(a))||"function"==typeof(e=a.valueOf)&&!c(f=e.call(a))||!b&&"function"==typeof(e=a.toString)&&!c(f=e.call(a)))return f;throw TypeError("Can't convert object to primitive value");
}},function(b,f,a){var c=a(5),k=a(13);b.exports=a(10)?function(a,b,e){return c.f(a,b,k(1,e))}:function(a,b,c){return a[b]=c,a}},function(b,f,a){var c=a(4),k=a(59),l=a(25)("IE_PROTO"),p=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=k(a),c(a,l)?a[l]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?p:null}},function(b,f,a){var c=a(43),k=a(24).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(a){return c(a,
k)}},function(b,f,a){var c=a(0),k=a(74),l=a(24),p=a(25)("IE_PROTO"),q=function(){},t=function(){var b;b=a(47)("iframe");var c=l.length;b.style.display="none";a(73).appendChild(b);b.src="javascript:";(b=b.contentWindow.document).open();b.write("<script>document.F=Object\x3c/script>");b.close();for(t=b.F;c--;)delete t.prototype[l[c]];return t()};b.exports=Object.create||function(a,b){var e;return null!==a?(q.prototype=c(a),e=new q,q.prototype=null,e[p]=a):e=t(),void 0===b?e:k(e,b)}},function(b,f){f.f=
{}.propertyIsEnumerable},function(b,f){f.f=Object.getOwnPropertySymbols},function(b,f){b.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(b,f,a){var c=a(29)("keys"),k=a(12);b.exports=function(a){return c[a]||(c[a]=k(a))}},function(b,f){var a={}.toString;b.exports=function(b){return a.call(b).slice(8,-1)}},function(b,f,a){var c=a(43),k=a(24);b.exports=Object.keys||function(a){return c(a,k)}},function(b,f){b.exports=!1},function(b,
f,a){f=a(9);var c=a(2),k=c["__core-js_shared__"]||(c["__core-js_shared__"]={});(b.exports=function(a,b){return k[a]||(k[a]=void 0!==b?b:{})})("versions",[]).push({version:f.version,mode:a(28)?"pure":"global",copyright:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},function(b,f,a){var c=a(2),k=a(18),l=a(4),p=a(12)("src"),q=Function.toString,t=(""+q).split("toString");a(9).inspectSource=function(a){return q.call(a)};(b.exports=function(a,b,e,f){var q="function"==typeof e;q&&(l(e,"name")||k(e,"name",
b));a[b]!==e&&(q&&(l(e,p)||k(e,p,a[b]?""+a[b]:t.join(String(b)))),a===c?a[b]=e:f?a[b]?a[b]=e:k(a,b,e):(delete a[b],k(a,b,e)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[p]||q.call(this)})},function(b,f){b.exports=function(a){var b="undefined"!=typeof window&&window.location;if(!b)throw Error("fixUrls requires window.location");if(!a||"string"!=typeof a)return a;var c=b.protocol+"//"+b.host,f=c+b.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,
function(a,b){var e,k=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(k)?a:(e=0===k.indexOf("//")?k:0===k.indexOf("/")?c+k:f+k.replace(/^\.\//,""),"url("+JSON.stringify(e)+")")})}},function(b,f,a){function c(a,b){for(var c=0;c<a.length;c++){var e=a[c],f=Y[e.id];if(f){f.refs++;for(var k=0;k<f.parts.length;k++)f.parts[k](e.parts[k]);for(;k<e.parts.length;k++)f.parts.push(u(e.parts[k],b))}else{f=
[];for(k=0;k<e.parts.length;k++)f.push(u(e.parts[k],b));Y[e.id]={id:e.id,refs:1,parts:f}}}}function k(a,b){for(var c=[],e={},f=0;f<a.length;f++){var k=a[f],l=b.base?k[0]+b.base:k[0],k={css:k[1],media:k[2],sourceMap:k[3]};e[l]?e[l].parts.push(k):c.push(e[l]={id:l,parts:[k]})}return c}function l(a,b){var c=ja(a.insertInto);if(!c)throw Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=aa[aa.length-1];if("top"===a.insertAt)e?e.nextSibling?
c.insertBefore(b,e.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),aa.push(b);else if("bottom"===a.insertAt)c.appendChild(b);else{if("object"!=typeof a.insertAt||!a.insertAt.before)throw Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");e=ja(a.insertInto+" "+a.insertAt.before);c.insertBefore(b,e)}}function p(a){if(null===a.parentNode)return!1;
a.parentNode.removeChild(a);a=aa.indexOf(a);0<=a&&aa.splice(a,1)}function q(a){var b=document.createElement("style");return void 0===a.attrs.type&&(a.attrs.type="text/css"),t(b,a.attrs),l(a,b),b}function t(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function u(a,b){var c,e,f,k;if(b.transform&&a.css){if(!(k=b.transform(a.css)))return function(){};a.css=k}b.singleton?(k=J++,c=I||(I=q(b)),e=w.bind(null,c,k,!1),f=w.bind(null,c,k,!0)):a.sourceMap&&"function"==typeof URL&&"function"==
typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=function(a){var b=document.createElement("link");return void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",t(b,a.attrs),l(a,b),b}(b),e=function(a,b,c){var e=c.css;c=c.sourceMap;var f=void 0===b.convertToAbsoluteUrls&&c;(b.convertToAbsoluteUrls||f)&&(e=H(e));c&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+
" */");b=new Blob([e],{type:"text/css"});e=a.href;a.href=URL.createObjectURL(b);e&&URL.revokeObjectURL(e)}.bind(null,c,b),f=function(){p(c);c.href&&URL.revokeObjectURL(c.href)}):(c=q(b),e=function(a,b){var c=b.css,e=b.media;e&&a.setAttribute("media",e);if(a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}.bind(null,c),f=function(){p(c)});return e(a),function(b){b?b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap||
e(a=b):f()}}function w(a,b,c,e){c=c?"":e.css;a.styleSheet?a.styleSheet.cssText=D(b,c):(c=document.createTextNode(c),e=a.childNodes,e[b]&&a.removeChild(e[b]),e.length?a.insertBefore(c,e[b]):a.appendChild(c))}var M,Q,Y={},V=(M=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===Q&&(Q=M.apply(this,arguments)),Q}),ja=function(a){var b={};return function(a){if("function"==typeof a)return a();if(void 0===b[a]){var c=document.querySelector(a);if(window.HTMLIFrameElement&&
c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch(N){c=null}b[a]=c}return b[a]}}(),I=null,J=0,aa=[],H=a(31);b.exports=function(a,b){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs="object"==typeof b.attrs?b.attrs:{};b.singleton||"boolean"==typeof b.singleton||(b.singleton=V());b.insertInto||(b.insertInto="head");b.insertAt||(b.insertAt="bottom");var e=k(a,b);return c(e,
b),function(a){for(var f=[],l=0;l<e.length;l++)(p=Y[e[l].id]).refs--,f.push(p);a&&c(k(a,b),b);for(l=0;l<f.length;l++){var p;if(0===(p=f[l]).refs){for(a=0;a<p.parts.length;a++)p.parts[a]();delete Y[p.id]}}}};var K,D=(K=[],function(a,b){return K[a]=b,K.filter(Boolean).join("\n")})},function(b,f){b.exports=function(a){var b=[];return b.toString=function(){return this.map(function(b){var c=function(a,b){var c=a[1]||"",e=a[3];if(!e)return c;if(b&&"function"==typeof btoa){var f=(k=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+
btoa(unescape(encodeURIComponent(JSON.stringify(k))))+" */"),k=e.sources.map(function(a){return"/*# sourceURL="+e.sourceRoot+a+" */"});return[c].concat(k).concat([f]).join("\n")}var k;return""+c}(b,a);return b[2]?"@media "+b[2]+"{"+c+"}":c}).join("")},b.i=function(a,c){"string"==typeof a&&(a=[[null,a,""]]);for(var e={},f=0;f<this.length;f++){var k=this[f][0];"number"==typeof k&&(e[k]=!0)}for(f=0;f<a.length;f++)k=a[f],"number"==typeof k[0]&&e[k[0]]||(c&&!k[2]?k[2]=c:c&&(k[2]="("+k[2]+") and ("+c+")"),
b.push(k))},b}},function(b,f,a){(b.exports=a(33)(!1)).push([b.i,"@-webkit-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-moz-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-ms-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-o-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\npath.leaflet-ant-path {\n  fill: none;\n  -webkit-animation: linear infinite leaflet-ant-path-animation;\n  -moz-animation: linear infinite leaflet-ant-path-animation;\n  -ms-animation: linear infinite leaflet-ant-path-animation;\n  -o-animation: linear infinite leaflet-ant-path-animation;\n  animation: linear infinite leaflet-ant-path-animation; }\n  path.leaflet-ant-path__hardware-acceleration {\n    -webkit-transform: translateZ(0);\n    -moz-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    -o-transform: translateZ(0);\n    transform: translateZ(0); }\n  path.leaflet-ant-path__reverse {\n    -webkit-animation-direction: reverse;\n    -moz-animation-direction: reverse;\n    -ms-animation-direction: reverse;\n    -o-animation-direction: reverse;\n    animation-direction: reverse; }\n",
""])},function(b,f,a){f=a(34);"string"==typeof f&&(f=[[b.i,f,""]]);a(32)(f,{hmr:!0,transform:void 0,insertInto:void 0});f.locals&&(b.exports=f.locals)},function(b,f,a){Object.defineProperty(f,"__esModule",{value:!0});var c,k=(c=a(14))&&c.__esModule?c:{"default":c};f["default"]=function(a,b){return Reflect.construct(k["default"],[a,b])};b.exports=f["default"]},function(b,f){!function(a){function c(a,b,c,e){b=Object.create((b&&b.prototype instanceof l?b:l).prototype);e=new Y(e||[]);return b._invoke=
function(a,b,c){var e=Z;return function(k,l){if(e===N)throw Error("Generator is already running");if(e===ka){if("throw"===k)throw l;return ja()}c.method=k;for(c.arg=l;;){var p=c.delegate;if(p&&(p=w(p,c))){if(p===v)continue;return p}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===Z)throw e=ka,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=N;p=f(a,b,c);if("normal"===p.type){if(e=c.done?ka:R,p.arg===v)continue;return{value:p.arg,done:c.done}}"throw"===
p.type&&(e=ka,c.method="throw",c.arg=p.arg)}}}(a,c,e),b}function f(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(ea){return{type:"throw",arg:ea}}}function l(){}function p(){}function q(){}function t(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function u(a){var b;this._invoke=function(c,e){function k(){return new Promise(function(b,k){!function Aa(b,c,e,k){b=f(a[b],a,c);if("throw"!==b.type){var l=b.arg;return(b=l.value)&&"object"==typeof b&&
aa.call(b,"__await")?Promise.resolve(b.__await).then(function(a){Aa("next",a,e,k)},function(a){Aa("throw",a,e,k)}):Promise.resolve(b).then(function(a){l.value=a;e(l)},k)}k(b.arg)}(c,e,b,k)})}return b=b?b.then(k,k):k()}}function w(a,b){var c=a.iterator[b.method];if(c===I){if(b.delegate=null,"throw"===b.method){if(a.iterator["return"]&&(b.method="return",b.arg=I,w(a,b),"throw"===b.method))return v;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}c=f(c,
a.iterator,b.arg);return"throw"===c.type?(b.method="throw",b.arg=c.arg,b.delegate=null,v):(c=c.arg)?c.done?(b[a.resultName]=c.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=I),b.delegate=null,v):c:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,v)}function M(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function Q(a){var b=a.completion||{};b.type="normal";delete b.arg;
a.completion=b}function Y(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(M,this);this.reset(!0)}function V(a){if(a){var b=a[K];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,b=function ya(){for(;++c<a.length;)if(aa.call(a,c))return ya.value=a[c],ya.done=!1,ya;return ya.value=I,ya.done=!0,ya};return b.next=b}}return{next:ja}}function ja(){return{value:I,done:!0}}var I,J=Object.prototype,aa=J.hasOwnProperty,H="function"==typeof Symbol?Symbol:{},K=H.iterator||
"@@iterator",D=H.asyncIterator||"@@asyncIterator",P=H.toStringTag||"@@toStringTag",H="object"==typeof b,E=a.regeneratorRuntime;if(E)H&&(b.exports=E);else{(E=a.regeneratorRuntime=H?b.exports:{}).wrap=c;var Z="suspendedStart",R="suspendedYield",N="executing",ka="completed",v={};a={};a[K]=function(){return this};(H=(H=Object.getPrototypeOf)&&H(H(V([]))))&&H!==J&&aa.call(H,K)&&(a=H);var la=q.prototype=l.prototype=Object.create(a);p.prototype=la.constructor=q;q.constructor=p;q[P]=p.displayName="GeneratorFunction";
E.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===p||"GeneratorFunction"===(a.displayName||a.name))};E.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,q):(a.__proto__=q,P in a||(a[P]="GeneratorFunction")),a.prototype=Object.create(la),a};E.awrap=function(a){return{__await:a}};t(u.prototype);u.prototype[D]=function(){return this};E.AsyncIterator=u;E.async=function(a,b,e,f){var k=new u(c(a,b,e,f));return E.isGeneratorFunction(b)?k:k.next().then(function(a){return a.done?
a.value:k.next()})};t(la);la[P]="Generator";la[K]=function(){return this};la.toString=function(){return"[object Generator]"};E.keys=function(a){var b=[],c;for(c in a)b.push(c);return b.reverse(),function ya(){for(;b.length;){var c=b.pop();if(c in a)return ya.value=c,ya.done=!1,ya}return ya.done=!0,ya}};E.values=V;Y.prototype={constructor:Y,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(Q),!a)for(var b in this)"t"===
b.charAt(0)&&aa.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=I)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,e){return k.type="throw",k.arg=a,c.next=b,e&&(c.method="next",c.arg=I),!!e}if(this.done)throw a;for(var c=this,e=this.tryEntries.length-1;0<=e;--e){var f=this.tryEntries[e],k=f.completion;if("root"===f.tryLoc)return b("end");if(f.tryLoc<=this.prev){var l=aa.call(f,"catchLoc"),p=
aa.call(f,"finallyLoc");if(l&&p){if(this.prev<f.catchLoc)return b(f.catchLoc,!0);if(this.prev<f.finallyLoc)return b(f.finallyLoc)}else if(l){if(this.prev<f.catchLoc)return b(f.catchLoc,!0)}else{if(!p)throw Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return b(f.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c];if(e.tryLoc<=this.prev&&aa.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&("break"===a||
"continue"===a)&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);c=f?f.completion:{};return c.type=a,c.arg=b,f?(this.method="next",this.next=f.finallyLoc,v):this.complete(c)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),v},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===
a)return this.complete(c.completion,c.afterLoc),Q(c),v}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var e=a.arg;Q(c)}return e}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:V(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=I),v}}}}(function(){return this}()||Function("return this")())},function(b,f,a){f=function(){return this}()||Function("return this")();
var c=f.regeneratorRuntime&&0<=Object.getOwnPropertyNames(f).indexOf("regeneratorRuntime"),k=c&&f.regeneratorRuntime;if(f.regeneratorRuntime=void 0,b.exports=a(37),c)f.regeneratorRuntime=k;else try{delete f.regeneratorRuntime}catch(l){f.regeneratorRuntime=void 0}},function(b,f,a){b.exports=a(38)},function(b,f,a){function c(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(f,"__esModule",{value:!0});f.antPath=f.AntPath=void 0;var k=a(15),l=c(a(14)),p=c(a(36));a(35);k.Polyline.AntPath=
l["default"];k.polyline.antPath=p["default"];b.exports={AntPath:l["default"],antPath:p["default"]};f.AntPath=l["default"];f.antPath=p["default"]},function(b,f){var a=Math.ceil,c=Math.floor;b.exports=function(b){return isNaN(b=+b)?0:(0<b?c:a)(b)}},function(b,f){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(b,f,a){var c=a(4),k=a(11),l=a(78)(!1),p=a(25)("IE_PROTO");b.exports=function(a,b){var e,f=k(a),q=0,t=[];for(e in f)e!=p&&c(f,e)&&t.push(e);for(;b.length>
q;)c(f,e=b[q++])&&(~l(t,e)||t.push(e));return t}},function(b,f,a){f.f=a(8)},function(b,f,a){var c=a(5).f,k=a(4),l=a(8)("toStringTag");b.exports=function(a,b,e){a&&!k(a=e?a:a.prototype,l)&&c(a,l,{configurable:!0,value:b})}},function(b,f,a){var c=a(16);b.exports=function(a,b,e){if(c(a),void 0===b)return a;switch(e){case 1:return function(c){return a.call(b,c)};case 2:return function(c,e){return a.call(b,c,e)};case 3:return function(c,e,f){return a.call(b,c,e,f)}}return function(){return a.apply(b,arguments)}}},
function(b,f,a){f=a(3);var c=a(2).document,k=f(c)&&f(c.createElement);b.exports=function(a){return k?c.createElement(a):{}}},function(b,f,a){b.exports=!a(10)&&!a(6)(function(){return 7!=Object.defineProperty(a(47)("div"),"a",{get:function(){return 7}}).a})},function(b,f,a){var c=a(3),k=a(0),l=function(a,b){if(k(a),!c(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,e){try{(e=a(46)(Function.call,a(7).f(Object.prototype,
"__proto__").set,2))(b,[]),c=!(b instanceof Array)}catch(u){c=!0}return function(a,b){return l(a,b),c?a.__proto__=b:e(a,b),a}}({},!1):void 0),check:l}},function(b,f,a){b=a(1);var c=a(49);c&&b(b.S,"Reflect",{setPrototypeOf:function(a,b){c.check(a,b);try{return c.set(a,b),!0}catch(p){return!1}}})},function(b,f,a){var c=a(5),k=a(7),l=a(19),p=a(4);b=a(1);var q=a(13),t=a(0),u=a(3);b(b.S,"Reflect",{set:function M(a,b,e){var f,Q=4>arguments.length?a:arguments[3];f=k.f(t(a),b);if(!f){if(u(f=l(a)))return M(f,
b,e,Q);f=q(0)}if(p(f,"value")){if(!1===f.writable||!u(Q))return!1;if(f=k.f(Q,b)){if(f.get||f.set||!1===f.writable)return!1;f.value=e;c.f(Q,b,f)}else c.f(Q,b,q(0,e));return!0}return void 0!==f.set&&(f.set.call(Q,e),!0)}})},function(b,f,a){b=a(1);var c=a(0),k=Object.preventExtensions;b(b.S,"Reflect",{preventExtensions:function(a){c(a);try{return k&&k(a),!0}catch(p){return!1}}})},function(b,f,a){var c=a(20),k=a(23),l=a(0);f=a(2).Reflect;b.exports=f&&f.ownKeys||function(a){var b=c.f(l(a)),e=k.f;return e?
b.concat(e(a)):b}},function(b,f,a){b=a(1);b(b.S,"Reflect",{ownKeys:a(53)})},function(b,f,a){b=a(1);var c=a(0),k=Object.isExtensible;b(b.S,"Reflect",{isExtensible:function(a){return c(a),!k||k(a)}})},function(b,f,a){b=a(1);b(b.S,"Reflect",{has:function(a,b){return b in a}})},function(b,f,a){b=a(1);var c=a(19),k=a(0);b(b.S,"Reflect",{getPrototypeOf:function(a){return c(k(a))}})},function(b,f,a){var c=a(7);b=a(1);var k=a(0);b(b.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return c.f(k(a),b)}})},
function(b,f,a){var c=a(42);b.exports=function(a){return Object(c(a))}},function(b,f,a){var c=a(7),k=a(19),l=a(4);b=a(1);var p=a(3),q=a(0);b(b.S,"Reflect",{get:function u(a,b){var e,f,w=3>arguments.length?a:arguments[2];return q(a)===w?a[b]:(e=c.f(a,b))?l(e,"value")?e.value:void 0!==e.get?e.get.call(w):void 0:p(f=k(a))?u(f,b,w):void 0}})},function(b,f,a){var c=a(21),k=a(13),l=a(45),p={};a(18)(p,a(8)("iterator"),function(){return this});b.exports=function(a,b,e){a.prototype=c(p,{next:k(1,e)});l(a,
b+" Iterator")}},function(b,f,a){b=a(1);var c=a(0),k=function(a){this._t=c(a);this._i=0;var b,e=this._k=[];for(b in a)e.push(b)};a(61)(k,"Object",function(){var a,b=this._k;do if(this._i>=b.length)return{value:void 0,done:!0};while(!((a=b[this._i++])in this._t));return{value:a,done:!1}});b(b.S,"Reflect",{enumerate:function(a){return new k(a)}})},function(b,f,a){b=a(1);var c=a(7).f,k=a(0);b(b.S,"Reflect",{deleteProperty:function(a,b){var e=c(k(a),b);return!(e&&!e.configurable)&&delete a[b]}})},function(b,
f,a){var c=a(5);b=a(1);var k=a(0),l=a(17);b(b.S+b.F*a(6)(function(){Reflect.defineProperty(c.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,b,e){k(a);b=l(b,!0);k(e);try{return c.f(a,b,e),!0}catch(u){return!1}}})},function(b,f){b.exports=function(a,b,c){var e=void 0===c;switch(b.length){case 0:return e?a():a.call(c);case 1:return e?a(b[0]):a.call(c,b[0]);case 2:return e?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return e?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return e?
a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(b,f,a){var c=a(16),k=a(3),l=a(65),p=[].slice,q={};b.exports=Function.bind||function(a){var b=c(this),e=p.call(arguments,1),f=function(){var c=e.concat(p.call(arguments)),k;if(this instanceof f){k=b;var u=c.length;if(!(u in q)){for(var t=[],w=0;w<u;w++)t[w]="a["+w+"]";q[u]=Function("F,a","return new F("+t.join(",")+")")}k=q[u](k,c)}else k=l(b,c,a);return k};return k(b.prototype)&&(f.prototype=b.prototype),f}},function(b,
f,a){b=a(1);var c=a(21),k=a(16),l=a(0),p=a(3);f=a(6);var q=a(66),t=(a(2).Reflect||{}).construct,u=f(function(){function a(){}return!(t(function(){},[],a)instanceof a)}),w=!f(function(){t(function(){})});b(b.S+b.F*(u||w),"Reflect",{construct:function(a,b){k(a);l(b);var e=3>arguments.length?a:k(arguments[2]);if(w&&!u)return t(a,b,e);if(a==e){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],
b[2],b[3])}e=[null];return e.push.apply(e,b),new (q.apply(a,e))}var e=e.prototype,e=c(p(e)?e:Object.prototype),f=Function.apply.call(a,e,b);return p(f)?f:e}})},function(b,f,a){b=a(1);var c=a(16),k=a(0),l=(a(2).Reflect||{}).apply,p=Function.apply;b(b.S+b.F*!a(6)(function(){l(function(){})}),"Reflect",{apply:function(a,b,e){a=c(a);e=k(e);return l?l(a,b,e):p.call(a,b,e)}})},function(b,f,a){a(68);a(67);a(64);a(63);a(62);a(60);a(58);a(57);a(56);a(55);a(54);a(52);a(51);a(50);b.exports=a(9).Reflect},function(b,
f,a){var c=a(26),k=a(8)("toStringTag"),l="Arguments"==c(function(){return arguments}());b.exports=function(a){var b,e;if(void 0===a)b="Undefined";else{var f;if(null===a)f="Null";else{a:{var p=a=Object(a);try{f=p[k];break a}catch(M){}f=void 0}f="string"==typeof(b=f)?b:l?c(a):"Object"==(e=c(a))&&"function"==typeof a.callee?"Arguments":e}b=f}return b}},function(b,f,a){var c=a(70);b={};b[a(8)("toStringTag")]="z";"[object z]"!=b+""&&a(30)(Object.prototype,"toString",function(){return"[object "+c(this)+
"]"},!0)},function(b,f,a){var c=a(11),k=a(20).f,l={}.toString,p="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];b.exports.f=function(a){var b;if(p&&"[object Window]"==l.call(a))try{b=k(a)}catch(u){b=p.slice()}else b=k(c(a));return b}},function(b,f,a){f=a(2).document;b.exports=f&&f.documentElement},function(b,f,a){var c=a(5),k=a(0),l=a(27);b.exports=a(10)?Object.defineProperties:function(a,b){k(a);for(var e,f=l(b),p=f.length,q=0;p>q;)c.f(a,e=f[q++],
b[e]);return a}},function(b,f,a){var c=a(26);b.exports=Array.isArray||function(a){return"Array"==c(a)}},function(b,f,a){var c=a(41),k=Math.max,l=Math.min;b.exports=function(a,b){return 0>(a=c(a))?k(a+b,0):l(a,b)}},function(b,f,a){var c=a(41),k=Math.min;b.exports=function(a){return 0<a?k(c(a),9007199254740991):0}},function(b,f,a){var c=a(11),k=a(77),l=a(76);b.exports=function(a){return function(b,e,f){var p;b=c(b);var q=k(b.length);f=l(f,q);if(a&&e!=e)for(;q>f;){if((p=b[f++])!=p)return!0}else for(;q>
f;f++)if((a||f in b)&&b[f]===e)return a||f||0;return!a&&-1}}},function(b,f,a){var c=a(26);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==c(a)?a.split(""):Object(a)}},function(b,f,a){var c=a(27),k=a(23),l=a(22);b.exports=function(a){var b=c(a),e=k.f;if(e)for(var f,e=e(a),p=l.f,M=0;e.length>M;)p.call(a,f=e[M++])&&b.push(f);return b}},function(b,f,a){var c=a(2),k=a(9),l=a(28),p=a(44),q=a(5).f;b.exports=function(a){var b=k.Symbol||(k.Symbol=l?{}:c.Symbol||{});"_"==a.charAt(0)||
a in b||q(b,a,{value:p.f(a)})}},function(b,f,a){var c=a(12)("meta"),k=a(3),l=a(4),p=a(5).f,q=0,t=Object.isExtensible||function(){return!0},u=!a(6)(function(){return t(Object.preventExtensions({}))}),w=function(a){p(a,c,{value:{i:"O"+ ++q,w:{}}})},M=b.exports={KEY:c,NEED:!1,fastKey:function(a,b){if(!k(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!l(a,c)){if(!t(a))return"F";if(!b)return"E";w(a)}return a[c].i},getWeak:function(a,b){if(!l(a,c)){if(!t(a))return!0;if(!b)return!1;w(a)}return a[c].w},
onFreeze:function(a){return u&&M.NEED&&t(a)&&!l(a,c)&&w(a),a}}},function(b,f,a){b=a(2);var c=a(4),k=a(10);f=a(1);var l=a(30),p=a(82).KEY,q=a(6),t=a(29),u=a(45),w=a(12),M=a(8),Q=a(44),Y=a(81),V=a(80),ja=a(75),I=a(0),J=a(3),aa=a(11),H=a(17),K=a(13),D=a(21),P=a(72),E=a(7),Z=a(5),R=a(27),N=E.f,ka=Z.f,v=P.f,la=b.Symbol,Ma=b.JSON,ra=Ma&&Ma.stringify,G=M("_hidden"),ea=M("toPrimitive"),ya={}.propertyIsEnumerable,Ea=t("symbol-registry"),sa=t("symbols"),Ia=t("op-symbols"),Aa=Object.prototype,t="function"==
typeof la,Ja=b.QObject,da=!Ja||!Ja.prototype||!Ja.prototype.findChild,oa=k&&q(function(){return 7!=D(ka({},"a",{get:function(){return ka(this,"a",{value:7}).a}})).a})?function(a,b,c){var e=N(Aa,b);e&&delete Aa[b];ka(a,b,c);e&&a!==Aa&&ka(Aa,b,e)}:ka,nb=function(a){var b=sa[a]=D(la.prototype);return b._k=a,b},cb=t&&"symbol"==typeof la.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof la},Ka=function(a,b,e){return a===Aa&&Ka(Ia,b,e),I(a),b=H(b,!0),I(e),c(sa,b)?(e.enumerable?
(c(a,G)&&a[G][b]&&(a[G][b]=!1),e=D(e,{enumerable:K(0,!1)})):(c(a,G)||ka(a,G,K(1,{})),a[G][b]=!0),oa(a,b,e)):ka(a,b,e)},Xa=function(a,b){I(a);for(var c,e=V(b=aa(b)),f=0,k=e.length;k>f;)Ka(a,c=e[f++],b[c]);return a},W=function(a){var b=ya.call(this,a=H(a,!0));return!(this===Aa&&c(sa,a)&&!c(Ia,a))&&(!(b||!c(this,a)||!c(sa,a)||c(this,G)&&this[G][a])||b)},Ja=function(a,b){if(a=aa(a),b=H(b,!0),a!==Aa||!c(sa,b)||c(Ia,b)){var e=N(a,b);return!e||!c(sa,b)||c(a,G)&&a[G][b]||(e.enumerable=!0),e}},pa=function(a){var b;
a=v(aa(a));for(var e=[],f=0;a.length>f;)c(sa,b=a[f++])||b==G||b==p||e.push(b);return e},Na=function(a){var b,e=a===Aa;a=v(e?Ia:aa(a));for(var f=[],k=0;a.length>k;)!c(sa,b=a[k++])||e&&!c(Aa,b)||f.push(sa[b]);return f};t||(l((la=function(){if(this instanceof la)throw TypeError("Symbol is not a constructor!");var a=w(0<arguments.length?arguments[0]:void 0),b=function(e){this===Aa&&b.call(Ia,e);c(this,G)&&c(this[G],a)&&(this[G][a]=!1);oa(this,a,K(1,e))};return k&&da&&oa(Aa,a,{configurable:!0,set:b}),
nb(a)}).prototype,"toString",function(){return this._k}),E.f=Ja,Z.f=Ka,a(20).f=P.f=pa,a(22).f=W,a(23).f=Na,k&&!a(28)&&l(Aa,"propertyIsEnumerable",W,!0),Q.f=function(a){return nb(M(a))});f(f.G+f.W+f.F*!t,{Symbol:la});l="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(Q=0;l.length>Q;)M(l[Q++]);R=R(M.store);for(l=0;R.length>l;)Y(R[l++]);f(f.S+f.F*!t,"Symbol",{"for":function(a){return c(Ea,a+="")?Ea[a]:Ea[a]=la(a)},keyFor:function(a){if(!cb(a))throw TypeError(a+
" is not a symbol!");for(var b in Ea)if(Ea[b]===a)return b},useSetter:function(){da=!0},useSimple:function(){da=!1}});f(f.S+f.F*!t,"Object",{create:function(a,b){return void 0===b?D(a):Xa(D(a),b)},defineProperty:Ka,defineProperties:Xa,getOwnPropertyDescriptor:Ja,getOwnPropertyNames:pa,getOwnPropertySymbols:Na});Ma&&f(f.S+f.F*(!t||q(function(){var a=la();return"[null]"!=ra([a])||"{}"!=ra({a:a})||"{}"!=ra(Object(a))})),"JSON",{stringify:function(a){for(var b,c,e=[a],f=1;arguments.length>f;)e.push(arguments[f++]);
if(c=b=e[1],(J(b)||void 0!==a)&&!cb(a))return ja(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!cb(b))return b}),e[1]=b,ra.apply(Ma,e)}});la.prototype[ea]||a(18)(la.prototype,ea,la.prototype.valueOf);u(la,"Symbol");u(Math,"Math",!0);u(b.JSON,"JSON",!0)},function(b,f,a){a(83);a(71);b.exports=a(9).Symbol},function(b,f,a){a(84);a(69);b.exports=a(40)}])});
L.Control.Measure=L.Control.extend({options:{position:"topleft",repeatMode:!0,shapeOptions:{weight:6}},onAdd:function(b){var c=L.DomUtil.create("div","leaflet-measure leaflet-draw-section");this._handler=new L.Draw.Polyline(b,this.options);this.gdata={layers:{}};this.jsongdata=this.shareLink="";this._map=b;this._measurementLayers=L.layerGroup().addTo(b);this._toolbarContainer=L.DomUtil.create("div","leaflet-bar");this._button=this._createButton({title:"Enter measurement mode",className:"leaflet-measure-button",
container:this._toolbarContainer,callback:this._enableMeasuring});this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions");b=L.DomUtil.create("li","",this._actionsContainer);this._close=this._createButton({title:"Exit measurement mode",text:"Close",container:b,callback:this._disableMeasuring});this._close.style.display="block";this._share=this._createButton({title:"Share your vision",text:"Share",container:b,callback:this._doShare});this._share.style.display="block";c.appendChild(this._toolbarContainer);
c.appendChild(this._actionsContainer);this._drawPoints();return c},refresh:function(){this._measurementLayers=L.layerGroup().addTo(this._map);return!0},_drawPoints:function(){if(1<lineyka.length){var b=JSON.parse(lineyka);this.gdata.layers=b;this._measurementLayers=L.layerGroup().addTo(this._map);for(var c in b){var f=new L.Polyline(b[c],{stroke:!0,color:"#f06eaa",fill:!1,opacity:.5,weight:6,clickable:!0});this._measurementLayers.addLayer(f).addLayer(this._createLabel(f))}}},onRemove:function(){this._diposeButton(this._button,
this._enableMeasuring);this._diposeButton(this._close,this._disableMeasuring)},_enableMeasuring:function(){isDrawActived?($(".popup-box-measure").remove(),$("body").prepend('<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Info</h2><div class="popup-head-r"><a class="close_measure" href="#"></a></div></div><div class="popup-text"><span class="info_txt">Before use close other drawing!</span></div></div></div>')):this._handler.enabled()||
(this._handler.enable(),this._map.on("draw:created",this._onMeasured,this),isDrawActived=!0,this._showClose())},_disableMeasuring:function(){var b=!1;confirm("Clear map?")&&(b=!0);this.gdata={layers:{}};this._handler.disable();isDrawActived=!1;this._map.off("draw:created",this._onMeasured,this);isDrawActived=!1;b&&(this._measurementLayers.clearLayers(),this._drawPoints());this._hideClose()},_drawPopup:function(){$(".popup-box-measure").remove();var b='<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Url to share</h2><div class="popup-head-r"><label>Tell friends</label><a class="facebook-icon fb_sharemap" href="#"></a><a class="twitter-icon twi_sharemap" href="#"></a><a class="close_measure" href="#"></a></div></div><div class="popup-text"><input class="popup-input-measure" readonly type="text" value="'+
this.shareLink+'"></div></div></div>';$("body").prepend(b)},_doShare:function(){this.gdata.resource=resource_id;this.gdata.fv_first=$(".event").data("id");this.gdata.fv_last=$(".event:last").data("id");this.gdata.map_center=map.getCenter();this.gdata.globaltime=globaltime;this.gdata.curid=curid;this.gdata.zoom=map.getZoom();var b=drawnItems.getLayers();this.gdata.areas={};for(var c=0;c<b.length;c++)this.gdata.areas["layname_"+b[c]._leaflet_id]={latlngs:b[c].getLatLngs()[0],color:b[c].options.color};
if(JSON.stringify(this.gdata)!=this.jsongdata){this.jsongdata=JSON.stringify(this.gdata);var f=this;$.ajax({url:wwwpath+"ajax/do?act=shareMap",context:document.body,type:"POST",dataType:"JSON",data:"gdata="+this.jsongdata}).done(function(a){void 0!=a.link&&(f.shareLink=a.link,f._drawPopup())})}else this._drawPopup()},_createButton:function(b){var c=L.DomUtil.create("a",b.className||"",b.container);c.href="#";b.text&&(c.innerHTML=b.text);b.title&&(c.title=b.title);L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,
"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,"click",b.callback,this);return c},_diposeButton:function(b,c){L.DomEvent.off(b,"click",L.DomEvent.stopPropagation).off(b,"mousedown",L.DomEvent.stopPropagation).off(b,"dblclick",L.DomEvent.stopPropagation).off(b,"click",L.DomEvent.preventDefault).off(b,"click",c,this)},_showClose:function(){L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom");this._actionsContainer.style.display="block"},_hideClose:function(){L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-bottom");this._actionsContainer.style.display="none"},_onMeasured:function(b){b=b.layer;b instanceof L.Polyline&&this._measurementLayers.addLayer(b).addLayer(this._createLabel(b))},_createLabel:function(b){var c=L.GeometryUtil.readableDistance(b.getDistance(),!0),f=b.getLatLngs(),a=f[f.length-1],c=L.divIcon({className:"leaflet-measure-tooltip-marker",iconSize:[0,0],iconAnchor:[6,-6],html:'<div class="leaflet-draw-tooltip" style="visibility: visible;"><span class="leaflet-draw-tooltip-subtext">'+
c+"</span><br><span></span></div>"}),a=L.marker(a,{icon:c});this.gdata.layers["layname_"+b._leaflet_id]=f;return a}});L.Polyline.include({getDistance:function(){for(var b=0,c=this._latlngs,f=c.length,a,e,k=1;k<f;k++)e=c[k-1],a=c[k],b+=a.distanceTo(e);return b}});L.Map.mergeOptions({measure:!1});L.Map.addInitHook(function(){this.options.measure&&(this.measure=L.Control.measure().addTo(this))});L.Control.measure=function(b){return new L.Control.Measure(b)};
!function(){function b(c){return this instanceof b?(this._canvas=c="string"==typeof c?document.getElementById(c):c,this._ctx=c.getContext("2d"),this._width=c.width,this._height=c.height,this._max=1,void this.clear()):new b(c)}b.prototype={defaultRadius:25,defaultGradient:{"0.4":"blue","0.6":"cyan","0.7":"lime","0.8":"yellow",1:"red"},data:function(b,f){return this._data=b,this},max:function(b){return this._max=b,this},add:function(b){return this._data.push(b),this},clear:function(){return this._data=
[],this},radius:function(b,f){f=f||15;var a=this._circle=document.createElement("canvas"),c=a.getContext("2d"),k=this._r=b+f;return a.width=a.height=2*k,c.shadowOffsetX=c.shadowOffsetY=200,c.shadowBlur=f,c.shadowColor="black",c.beginPath(),c.arc(k-200,k-200,b,0,2*Math.PI,!0),c.closePath(),c.fill(),this},gradient:function(b){var c=document.createElement("canvas"),a=c.getContext("2d"),e=a.createLinearGradient(0,0,0,256);c.width=1;c.height=256;for(var k in b)e.addColorStop(k,b[k]);return a.fillStyle=
e,a.fillRect(0,0,1,256),this._grad=a.getImageData(0,0,1,256).data,this},draw:function(b){this._circle||this.radius(this.defaultRadius);this._grad||this.gradient(this.defaultGradient);var c=this._ctx;c.clearRect(0,0,this._width,this._height);for(var a,e=0,k=this._data.length;k>e;e++)a=this._data[e],c.globalAlpha=Math.max(a[2]/this._max,b||.05),c.drawImage(this._circle,a[0]-this._r,a[1]-this._r);b=c.getImageData(0,0,this._width,this._height);return this._colorize(b.data,this._grad),c.putImageData(b,
0,0),this},_colorize:function(b,f){for(var a,c=3,k=b.length;k>c;c+=4)(a=4*b[c])&&(b[c-3]=f[a],b[c-2]=f[a+1],b[c-1]=f[a+2])}};window.simpleheat=b}();
L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(b,c){this._latlngs=b;L.setOptions(this,c)},setLatLngs:function(b){return this._latlngs=b,this.redraw()},addLatLng:function(b){return this._latlngs.push(b),this.redraw()},setOptions:function(b){return L.setOptions(this,b),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(b){this._map=b;
this._canvas||this._initCanvas();b._panes.overlayPane.appendChild(this._canvas);b.on("moveend",this._reset,this);b.options.zoomAnimation&&L.Browser.any3d&&b.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(b){b.getPanes().overlayPane.removeChild(this._canvas);b.off("moveend",this._reset,this);b.options.zoomAnimation&&b.off("zoomanim",this._animateZoom,this)},addTo:function(b){return b.addLayer(this),this},_initCanvas:function(){var b=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),
c=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);b.style[c]="50% 50%";c=this._map.getSize();b.width=c.x;b.height=c.y;L.DomUtil.addClass(b,"leaflet-zoom-"+(this._map.options.zoomAnimation&&L.Browser.any3d?"animated":"hide"));this._heat=simpleheat(b);this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur);this.options.gradient&&this._heat.gradient(this.options.gradient);this.options.max&&
this._heat.max(this.options.max)},_reset:function(){var b=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,b);b=this._map.getSize();this._heat._width!==b.x&&(this._canvas.width=this._heat._width=b.x);this._heat._height!==b.y&&(this._canvas.height=this._heat._height=b.y);this._redraw()},_redraw:function(){var b,c,f,a,e,k,l,p,q=[],t=this._heat._r,u=this._map.getSize();l=new L.Bounds(L.point([-t,-t]),u.add([t,t]));u=void 0===this.options.max?1:this.options.max;b=void 0===
this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom;var w=1/Math.pow(2,Math.max(0,Math.min(b-this._map.getZoom(),12))),M=t/2,t=[];b=this._map._getMapPanePos();var Q=b.x%M,Y=b.y%M;b=0;for(c=this._latlngs.length;c>b;b++)if(f=this._map.latLngToContainerPoint(this._latlngs[b]),l.contains(f))e=Math.floor((f.x-Q)/M)+2,k=Math.floor((f.y-Y)/M)+2,p=(void 0!==this._latlngs[b].alt?this._latlngs[b].alt:void 0!==this._latlngs[b][2]?+this._latlngs[b][2]:1)*w,t[k]=t[k]||[],(a=t[k][e])?(a[0]=(a[0]*a[2]+
f.x*p)/(a[2]+p),a[1]=(a[1]*a[2]+f.y*p)/(a[2]+p),a[2]+=p):t[k][e]=[f.x,f.y,p];b=0;for(c=t.length;c>b;b++)if(t[b])for(f=0,l=t[b].length;l>f;f++)(a=t[b][f])&&q.push([Math.round(a[0]),Math.round(a[1]),Math.min(a[2],u)]);this._heat.data(q).draw(this.options.minOpacity);this._frame=null},_animateZoom:function(b){var c=this._map.getZoomScale(b.zoom);b=this._map._getCenterOffset(b.center)._multiplyBy(-c).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,b,c):
this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(b)+" scale("+c+")"}});L.heatLayer=function(b,c){return new L.HeatLayer(b,c)};
L.Control.Hidenews=L.Control.extend({options:{position:"topleft",repeatMode:!0,shapeOptions:{weight:6}},onAdd:function(b){var c=L.DomUtil.create("div","leaflet-hidenews leaflet-draw-section");this._map=b;this._hidenewsmentLayers=L.layerGroup().addTo(b);this._toolbarContainer=L.DomUtil.create("div","leaflet-bar");this._button=this._createButton({title:"Hide news from the map",className:"leaflet-hidenews-button",container:this._toolbarContainer,callback:this._enableMeasuring});this._actionsContainer=
L.DomUtil.create("ul","leaflet-draw-actions");b=L.DomUtil.create("li","",this._actionsContainer);this._close=this._createButton({title:"Show news",text:"show",container:b,callback:this._disableMeasuring});this._close.style.display="block";c.appendChild(this._toolbarContainer);c.appendChild(this._actionsContainer);return c},onRemove:function(){this._diposeButton(this._button,this._enableMeasuring);this._diposeButton(this._close,this._disableMeasuring)},_enableMeasuring:function(){if(newsshow){newsshow=
!1;for(var b=0;b<markers.length;b++)map.removeLayer(markers[b].m);isMobile.any()||clearInterval(updater);removeFvObjs();this._showClose()}},_disableMeasuring:function(){newsshow=!0;dovenues2(ovens,!0);this._map.off("draw:created",this._onHidenewsd,this);this._hidenewsmentLayers.clearLayers();this._hideClose()},_createButton:function(b){var c=L.DomUtil.create("a",b.className||"",b.container);c.href="#";b.text&&(c.innerHTML=b.text);b.title&&(c.title=b.title);L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,
"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,"click",b.callback,this);return c},_diposeButton:function(b,c){L.DomEvent.off(b,"click",L.DomEvent.stopPropagation).off(b,"mousedown",L.DomEvent.stopPropagation).off(b,"dblclick",L.DomEvent.stopPropagation).off(b,"click",L.DomEvent.preventDefault).off(b,"click",c,this)},_showClose:function(){L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom");this._actionsContainer.style.display="block"},_hideClose:function(){L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-bottom");this._actionsContainer.style.display="none"},_onHidenewsd:function(b){}});L.Map.mergeOptions({hidenews:!1});L.Map.addInitHook(function(){this.options.hidenews&&(this.hidenews=L.Control.hidenews().addTo(this))});L.Control.hidenews=function(b){return new L.Control.Hidenews(b)};
L.Control.MiniMap=L.Control.extend({options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,width:150,height:150,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0}},hideText:"Hide MiniMap",showText:"Show MiniMap",initialize:function(b,c){L.Util.setOptions(this,c);this.options.aimingRectOptions.clickable=!1;this.options.shadowRectOptions.clickable=
!1;this._layer=b},onAdd:function(b){this._mainMap=b;this._container=L.DomUtil.create("div","leaflet-control-minimap");this._container.style.width=this.options.width+"px";this._container.style.height=this.options.height+"px";L.DomEvent.disableClickPropagation(this._container);L.DomEvent.on(this._container,"mousewheel",L.DomEvent.stopPropagation);this._miniMap=new L.Map(this._container,{attributionControl:!1,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,
touchZoom:!this.options.zoomLevelFixed,scrollWheelZoom:!this.options.zoomLevelFixed,doubleClickZoom:!this.options.zoomLevelFixed,boxZoom:!this.options.zoomLevelFixed,crs:b.options.crs});this._miniMap.addLayer(this._layer);this._minimized=this._userToggledDisplay=this._miniMapMoving=this._mainMapMoving=!1;this.options.toggleDisplay&&this._addToggleButton();this._miniMap.whenReady(L.Util.bind(function(){this._aimingRect=L.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap);
this._shadowRect=L.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap);this._mainMap.on("moveend",this._onMainMapMoved,this);this._mainMap.on("move",this._onMainMapMoving,this);this._miniMap.on("movestart",this._onMiniMapMoveStarted,this);this._miniMap.on("move",this._onMiniMapMoving,this);this._miniMap.on("moveend",this._onMiniMapMoved,this)},this));return this._container},addTo:function(b){L.Control.prototype.addTo.call(this,b);this._miniMap.setView(this._mainMap.getCenter(),
this._decideZoom(!0));this._setDisplay(this._decideMinimized());0==Cookies.get("isOpenMinimap")&&this._minimize();return this},invalidateSize:function(){this._miniMap.invalidateSize();this._miniMap.panTo(this._mainMap.getCenter())},onRemove:function(b){this._mainMap.off("moveend",this._onMainMapMoved,this);this._mainMap.off("move",this._onMainMapMoving,this);this._miniMap.off("moveend",this._onMiniMapMoved,this);this._miniMap.removeLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=
this.options.toggleDisplay?this._createButton("",this.hideText,"leaflet-control-minimap-toggle-display",this._container,this._toggleDisplayButtonClicked,this):void 0},_createButton:function(b,c,f,a,e,k){f=L.DomUtil.create("a",f,a);f.innerHTML=b;f.href="#";f.title=c;b=L.DomEvent.stopPropagation;L.DomEvent.on(f,"click",b).on(f,"mousedown",b).on(f,"dblclick",b).on(f,"click",L.DomEvent.preventDefault).on(f,"click",e,k);return f},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0;this._minimized?
(this._restore(),this._toggleDisplayButton.title=this.hideText):(this._minimize(),this._toggleDisplayButton.title=this.showText)},_setDisplay:function(b){b!=this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width="19px",this._container.style.height="19px",this._toggleDisplayButton.className+=" minimized"):this._container.style.display="none";this._minimized=!0;Cookies.set("isOpenMinimap",0)},_restore:function(){this.options.toggleDisplay?
(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace(/(?:^|\s)minimized(?!\S)/g,"")):this._container.style.display="block";this._minimized=!1;Cookies.set("isOpenMinimap",1)},_onMainMapMoved:function(b){this._miniMapMoving?this._miniMapMoving=!1:(this._mainMapMoving=!0,this._miniMap.setView(this._mainMap.getCenter(),this._decideZoom(!0)),this._setDisplay(this._decideMinimized()));
this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(b){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(b){var c=this._aimingRect.getBounds();b=this._miniMap.latLngToContainerPoint(c.getSouthWest());c=this._miniMap.latLngToContainerPoint(c.getNorthEast());this._lastAimingRectPosition={sw:b,ne:c}},_onMiniMapMoving:function(b){!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new L.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),
this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(b){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_decideZoom:function(b){if(this.options.zoomLevelFixed)return b?this.options.zoomLevelFixed:this._mainMap.getZoom();if(b)return this._mainMap.getZoom()+this.options.zoomLevelOffset;
b=this._miniMap.getZoom()-this._mainMap.getZoom();var c=this._miniMap.getZoom()-this.options.zoomLevelOffset;b>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(b=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):b=this._mainMap.getZoom():b=c;this._lastMiniMapZoom=this._miniMap.getZoom();return b},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:
this.options.autoToggleDisplay?this._mainMap.getBounds().contains(this._miniMap.getBounds())?!0:!1:this._minimized}});L.Map.mergeOptions({miniMapControl:!1});L.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new L.Control.MiniMap).addTo(this))});L.control.minimap=function(b){return new L.Control.MiniMap(b)};
L.Control.MapCenterCoord=L.Control.extend({options:{position:"bottomleft",icon:!0,onMove:!1,template:"{y} | {x}",projected:!1,formatProjected:"#.##0,000",latlngFormat:"DD",latlngDesignators:!1,latLngFormatter:void 0},onAdd:function(b){this.options.icon&&(this._iconEl=L.DomUtil.create("div","leaflet-control-mapcentercoord-icon leaflet-zoom-hide"),b.getPanes().overlayPane.appendChild(this._iconEl),b.on("viewreset",this._onReset,this),this._onReset());this._container=L.DomUtil.create("div","leaflet-control-mapcentercoord");
L.DomEvent.disableClickPropagation(this._container);b.on("move",this._onMapMove,this);b.on("moveend",this._onMapMoveEnd,this);this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>";return this._container},onRemove:function(b){this.options.icon&&(b.getPanes().overlayPane.removeChild(this._iconEl),b.off("viewreset",this._onReset,this));b.off("move",this._onMapMove,this);b.off("moveend",this._onMapMove,this)},
_onReset:function(b){b=this._map.latLngToLayerPoint(this._map.getCenter());L.DomUtil.setPosition(this._iconEl,b)},_onMapMove:function(b){this.options.icon&&(b=this._map.latLngToLayerPoint(this._map.getCenter()),L.DomUtil.setPosition(this._iconEl,b));this.options.onMove&&(this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>")},_onMapMoveEnd:function(b){this.options.icon&&(b=this._map.latLngToLayerPoint(this._map.getCenter()),
L.DomUtil.setPosition(this._iconEl,b));this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>"},_getMapCenterCoord:function(){return this.options.projected?this._getProjectedCoord(this._map.options.crs.project(this._map.getCenter())):this._getLatLngCoord(this._map.getCenter())},_getProjectedCoord:function(b){return L.Util.template(this.options.template,{x:this._format(this.options.formatProjected,b.x),y:this._format(this.options.formatProjected,
b.y)})},_getLatLngPure:function(b){void 0==b&&(b=this._map.getCenter());return b.lat+","+b.lng},_getLatLngCoord:function(b){if(void 0!=this.options.latLngFormatter)return this.options.latLngFormatter(b.lat,b.lng);var c,f,a,e;c=b.lat;f=b.lng;var k;0>f?(b=!0,f=Math.abs(f)):b=!1;0>c?(k=!0,c=Math.abs(c)):k=!1;180<f&&(f=360-f,b=!b);"DM"===this.options.latlngFormat?(a=parseInt(f),f=a+"\u00ba "+this._format("00.000",60*(f-a))+"'",a=parseInt(c),c=a+"\u00ba "+this._format("00.000",60*(c-a))+"'"):"DMS"===this.options.latlngFormat?
(a=parseInt(f),e=60*(f-a),f=a+"\u00ba "+this._format("00",parseInt(e))+"' "+this._format("00.0",60*(e-parseInt(e)))+"''",a=parseInt(c),e=60*(c-a),c=a+"\u00ba "+this._format("00",parseInt(e))+"' "+this._format("00.0",60*(e-parseInt(e)))+"''"):(f=this._format("#0.00000",f)+"\u00ba",c=this._format("##0.00000",c)+"\u00ba");return L.Util.template(this.options.template,{x:(!this.options.latlngDesignators&&b?"-":"")+f+(this.options.latlngDesignators?b?" W":" E":""),y:(!this.options.latlngDesignators&&k?
"-":"")+c+(this.options.latlngDesignators?k?" S":" N":"")})},_format:function(b,c){if(!b||isNaN(+c))return c;c="-"==b.charAt(0)?-c:+c;var f=0>c?c=-c:0,a=b.match(/[^\d\-\+#]/g),e=a&&a[a.length-1]||".",a=a&&a[1]&&a[0]||",";b=b.split(e);c=c.toFixed(b[1]&&b[1].length);c=+c+"";var k=b[1]&&b[1].lastIndexOf("0"),l=c.split(".");if(!l[1]||l[1]&&l[1].length<=k)c=(+c).toFixed(k+1);k=b[0].split(a);b[0]=k.join("");var p=b[0]&&b[0].indexOf("0");if(-1<p)for(;l[0].length<b[0].length-p;)l[0]="0"+l[0];else 0==+l[0]&&
(l[0]="");c=c.split(".");c[0]=l[0];if(l=k[1]&&k[k.length-1].length){for(var k=c[0],p="",q=k.length%l,t=0,u=k.length;t<u;t++)p+=k.charAt(t),!((t-q+1)%l)&&t<u-l&&(p+=a);c[0]=p}c[1]=b[1]&&c[1]?e+c[1]:"";return(f?"-":"")+c[0]+c[1]}});L.Map.mergeOptions({MapCenterCoordControl:!1});L.Map.addInitHook(function(){this.options.MapCenterCoordControl&&(this.MapCenterCoordControl=new L.Control.MapCenterCoord,this.addControl(this.MapCenterCoordControl))});L.control.mapCenterCoord=function(b){return new L.Control.MapCenterCoord(b)};
L.KML=L.FeatureGroup.extend({options:{async:!0},initialize:function(b,c){L.Util.setOptions(this,c);this._kml=b;this._layers={};b&&this.addKML(b,c,this.options.async)},loadXML:function(b,c,f,a){void 0===a&&(a=this.options.async);void 0===f&&(f=this.options);var e=new window.XMLHttpRequest;if(void 0===e.withCredentials&&"undefined"!==typeof window.XDomainRequest){var k=new window.XDomainRequest;k.open("GET",b,a);k.onprogress=function(){};k.ontimeout=function(){};k.onerror=function(){};k.onload=function(){if(k.responseText){var a=
new window.ActiveXObject("Microsoft.XMLDOM");a.loadXML(k.responseText);c(a,f)}};setTimeout(function(){k.send()},0)}else{e.open("GET",b,a);e.setRequestHeader("Accept","application/vnd.google-earth.kml+xml");try{e.overrideMimeType("text/xml")}catch(l){}e.onreadystatechange=function(){4===e.readyState&&200===e.status&&c(e.responseXML,f)};e.send(null)}},addKML:function(b,c,f){var a=this;this.loadXML(b,function(b){a._addKML(b)},c,f)},_addKML:function(b){var c=L.KML.parseKML(b);if(c&&c.length){for(var f=
0;f<c.length;f++)this.fire("addlayer",{layer:c[f]}),this.addLayer(c[f]);this.latLngs=L.KML.getLatLngs(b);this.fire("loaded")}},latLngs:[]});
L.Util.extend(L.KML,{parseKML:function(b){var c=this.parseStyles(b);this.parseStyleMap(b,c);for(var f=b.getElementsByTagName("Folder"),a=[],e,k=0;k<f.length;k++)this._check_folder(f[k])&&(e=this.parseFolder(f[k],c))&&a.push(e);f=b.getElementsByTagName("Placemark");for(k=0;k<f.length;k++)this._check_folder(f[k])&&(e=this.parsePlacemark(f[k],b,c))&&a.push(e);f=b.getElementsByTagName("GroundOverlay");for(b=0;b<f.length;b++)(e=this.parseGroundOverlay(f[b]))&&a.push(e);return a},_check_folder:function(b,
c){for(b=b.parentNode;b&&"Folder"!==b.tagName;)b=b.parentNode;return!b||b===c},parseStyles:function(b){var c={};b=b.getElementsByTagName("Style");for(var f=0,a=b.length;f<a;f++){var e=this.parseStyle(b[f]);e&&(c["#"+e.id]=e)}return c},parseStyle:function(b){function c(a){for(var b={},f=0;f<a.childNodes.length;f++){var k=a.childNodes[f],p=k.tagName;if(l[p])if("hotSpot"===p)for(p=0;p<k.attributes.length;p++)b[k.attributes[p].name]=k.attributes[p].nodeValue;else{var M=k.childNodes[0].nodeValue;"color"===
p?(b.opacity=parseInt(M.substring(0,2),16)/255,b.color="#"+M.substring(6,8)+M.substring(4,6)+M.substring(2,4)):"width"===p?b.weight=M:"Icon"===p?(e=c(k),e.href&&(b.href=e.href)):"href"===p&&(b.href=M)}}return b}var f={},a={},e={},k,l={color:!0,width:!0,Icon:!0,href:!0,hotSpot:!0};(k=b.getElementsByTagName("LineStyle"))&&k[0]&&(f=c(k[0]));(k=b.getElementsByTagName("PolyStyle"))&&k[0]&&(a=c(k[0]));a.color&&(f.fillColor=a.color);a.opacity&&(f.fillOpacity=a.opacity);(k=b.getElementsByTagName("IconStyle"))&&
k[0]&&(e=c(k[0]));e.href&&(f.icon=new L.KMLIcon({iconUrl:e.href,shadowUrl:null,anchorRef:{x:e.x,y:e.y},anchorType:{x:e.xunits,y:e.yunits}}));(b=b.getAttribute("id"))&&f&&(f.id=b);return f},parseStyleMap:function(b,c){for(var f=b.getElementsByTagName("StyleMap"),a=0;a<f.length;a++){var e=f[a],k,l,p;(k=e.getElementsByTagName("key"))&&k[0]&&(l=k[0].textContent);(k=e.getElementsByTagName("styleUrl"))&&k[0]&&(p=k[0].textContent);"normal"===l&&(c["#"+e.getAttribute("id")]=c[p])}},parseFolder:function(b,
c){var f,a=[],e;f=b.getElementsByTagName("Folder");for(var k=0;k<f.length;k++)this._check_folder(f[k],b)&&(e=this.parseFolder(f[k],c))&&a.push(e);f=b.getElementsByTagName("Placemark");for(k=0;k<f.length;k++)this._check_folder(f[k],b)&&(e=this.parsePlacemark(f[k],b,c))&&a.push(e);f=b.getElementsByTagName("GroundOverlay");for(k=0;k<f.length;k++)this._check_folder(f[k],b)&&(e=this.parseGroundOverlay(f[k]))&&a.push(e);if(a.length)return 1===a.length?a[0]:new L.FeatureGroup(a)},parsePlacemark:function(b,
c,f,a){var e,k,l,p,q;a=a||{};q=b.getElementsByTagName("styleUrl");for(k=0;k<q.length;k++){var t=q[k].childNodes[0].nodeValue,u;for(u in f[t])a[u]=f[t][u]}if(b.getElementsByTagName("Style")[0]&&(k=this.parseStyle(b)))for(p in k)a[p]=k[p];p=["MultiGeometry","MultiTrack","gx:MultiTrack"];for(e in p)for(q=b.getElementsByTagName(p[e]),k=0;k<q.length;)return this.parsePlacemark(q[k],c,f,a);f=[];e=["LineString","Polygon","Point","Track","gx:Track"];for(l in e)for(p=e[l],q=b.getElementsByTagName(p),k=0;k<
q.length;k++)(u=this["parse"+p.replace(/gx:/,"")](q[k],c,a))&&f.push(u);if(f.length){var w=f[0];1<f.length&&(w=new L.FeatureGroup(f));var M,Q="";q=b.getElementsByTagName("name");q.length&&q[0].childNodes.length&&(M=q[0].childNodes[0].nodeValue);q=b.getElementsByTagName("description");for(k=0;k<q.length;k++)for(l=0;l<q[k].childNodes.length;l++)Q+=q[k].childNodes[l].nodeValue;if(M)w.on("add",function(){w.bindPopup("<h2>"+M+"</h2>"+Q)});return w}},parseCoords:function(b){b=b.getElementsByTagName("coordinates");
return this._read_coords(b[0])},parseLineString:function(b,c,f){b=this.parseCoords(b);if(b.length)return new L.Polyline(b,f)},parseTrack:function(b,c,f){b=c.getElementsByTagName("gx:coord");0===b.length&&(b=c.getElementsByTagName("coord"));c=[];for(var a=0;a<b.length;a++)c=c.concat(this._read_gxcoords(b[a]));if(c.length)return new L.Polyline(c,f)},parsePoint:function(b,c,f){b=b.getElementsByTagName("coordinates");if(b.length)return b=b[0].childNodes[0].nodeValue.split(","),new L.KMLMarker(new L.LatLng(b[1],
b[0]),f)},parsePolygon:function(b,c,f){var a=[],e=[],k,l;c=b.getElementsByTagName("outerBoundaryIs");for(k=0;k<c.length;k++)(l=this.parseCoords(c[k]))&&a.push(l);c=b.getElementsByTagName("innerBoundaryIs");for(k=0;k<c.length;k++)(l=this.parseCoords(c[k]))&&e.push(l);if(a.length)return f.fillColor&&(f.fill=!0),1===a.length?new L.Polygon(a.concat(e),f):new L.MultiPolygon(a,f)},getLatLngs:function(b){b=b.getElementsByTagName("coordinates");for(var c=[],f=0;f<b.length;f++)c=c.concat(this._read_coords(b[f]));
return c},_read_coords:function(b){var c="",f=[],a;for(a=0;a<b.childNodes.length;a++)c+=b.childNodes[a].nodeValue;c=c.split(/[\s\n]+/);for(a=0;a<c.length;a++)b=c[a].split(","),2>b.length||f.push(new L.LatLng(b[1],b[0]));return f},_read_gxcoords:function(b){var c=[];b=b.firstChild.nodeValue.split(" ");c.push(new L.LatLng(b[1],b[0]));return c},parseGroundOverlay:function(b){function c(a){for(var b={},f,k=0;k<a.childNodes.length;k++){f=a.childNodes[k];var l=f.tagName;if(e[l]){var w=f.childNodes[0].nodeValue;
"Icon"===l?(f=c(f),f.href&&(b.href=f.href)):"href"===l?b.href=w:"color"===l&&(b.opacity=parseInt(w.substring(0,2),16)/255,b.color="#"+w.substring(6,8)+w.substring(4,6)+w.substring(2,4))}}return b}var f=b.getElementsByTagName("LatLonBox")[0],a=new L.LatLngBounds([f.getElementsByTagName("south")[0].childNodes[0].nodeValue,f.getElementsByTagName("west")[0].childNodes[0].nodeValue],[f.getElementsByTagName("north")[0].childNodes[0].nodeValue,f.getElementsByTagName("east")[0].childNodes[0].nodeValue]),
e={Icon:!0,href:!0,color:!0},k={},k=c(b);void 0!==f.getElementsByTagName("rotation")[0]&&(b=f.getElementsByTagName("rotation")[0].childNodes[0].nodeValue,k.rotation=parseFloat(b));return new L.RotatedImageOverlay(k.href,a,{opacity:k.opacity,angle:k.rotation})}});
L.KMLIcon=L.Icon.extend({_setIconStyles:function(b,c){L.Icon.prototype._setIconStyles.apply(this,[b,c]);var f=this.options;this.options.popupAnchor=[0,-.83*b.height];"fraction"===f.anchorType.x&&(b.style.marginLeft=-f.anchorRef.x*b.width+"px");"fraction"===f.anchorType.y&&(b.style.marginTop=-(1-f.anchorRef.y)*b.height+1+"px");"pixels"===f.anchorType.x&&(b.style.marginLeft=-f.anchorRef.x+"px");"pixels"===f.anchorType.y&&(b.style.marginTop=f.anchorRef.y-b.height+1+"px")}});L.KMLMarker=L.Marker.extend({options:{icon:new L.KMLIcon.Default}});
L.RotatedImageOverlay=L.ImageOverlay.extend({options:{angle:0},_reset:function(){L.ImageOverlay.prototype._reset.call(this);this._rotate()},_animateZoom:function(b){L.ImageOverlay.prototype._animateZoom.call(this,b);this._rotate()},_rotate:function(){if(L.DomUtil.TRANSFORM)this._image.style[L.DomUtil.TRANSFORM]+=" rotate("+this.options.angle+"deg)";else if(L.Browser.ie){var b=Math.PI/180*this.options.angle,c=Math.cos(b),b=Math.sin(b);this._image.style.filter+=" progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11="+
c+", M12="+-b+", M21="+b+", M22="+c+")"}},getBounds:function(){return this._bounds}});L.interpolatePosition=function(b,c,f,a){f=a/f;f=0<f?f:0;f=1<f?1:f;return L.latLng(b.lat+f*(c.lat-b.lat),b.lng+f*(c.lng-b.lng))};
L.Marker.MovingMarker=L.Marker.extend({statics:{notStartedState:0,endedState:1,pausedState:2,runState:3},options:{autostart:!1,loop:!1,rotationAngle:0},initialize:function(b,c,f,a){L.Marker.prototype.initialize.call(this,b[0],a);this._latlngs=b.map(function(a,b){return L.latLng(a)});this._durations=c instanceof Array?c:this._createDurations(this._latlngs,c);this._currentIndex=this._currentDuration=0;this._state=L.Marker.MovingMarker.notStartedState;this._animId=this._pauseStartTime=this._startTimeStamp=
this._startTime=0;this._animRequested=!1;this._currentLine=[];this._stations={};this._angles=f},isRunning:function(){return this._state===L.Marker.MovingMarker.runState},isEnded:function(){return this._state===L.Marker.MovingMarker.endedState},isStarted:function(){return this._state!==L.Marker.MovingMarker.notStartedState},isPaused:function(){return this._state===L.Marker.MovingMarker.pausedState},start:function(){this.isRunning()||(this.isPaused()?this.resume():(this._loadLine(0),this._startAnimation(),
this.fire("start")))},resume:function(){this.isPaused()&&(this._currentLine[0]=this.getLatLng(),this._currentDuration-=this._pauseStartTime-this._startTime,this._startAnimation())},pause:function(){this.isRunning()&&(this._pauseStartTime=Date.now(),this._state=L.Marker.MovingMarker.pausedState,this._stopAnimation(),this._updatePosition())},stop:function(b){this.isEnded()||(this._stopAnimation(),"undefined"===typeof b&&(b=0,this._updatePosition()),this._state=L.Marker.MovingMarker.endedState,this.fire("end",
{elapsedTime:b}))},addLatLng:function(b,c){this._latlngs.push(L.latLng(b));this._durations.push(c)},applyRotation:function(){if(this.options.rotationAngle){var b="msTransform"===L.DomUtil.TRANSFORM;this._icon.style[L.DomUtil.TRANSFORM+"Origin"]="center center";b?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":(console.log(this._icon.style[L.DomUtil.TRANSFORM]),this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")}},setRotationAngle:function(b){this.options.rotationAngle=
b;this.update();return this},moveTo:function(b,c){this._stopAnimation();this._latlngs=[this.getLatLng(),L.latLng(b)];this._durations=[c];this._state=L.Marker.MovingMarker.notStartedState;this.start();this.options.loop=!1},addStation:function(b,c){b>this._latlngs.length-2||1>b||(this._stations[b]=c)},onAdd:function(b){L.Marker.prototype.onAdd.call(this,b);this.options.autostart&&!this.isStarted()?this.start():this.isRunning()&&this._resumeAnimation()},onRemove:function(b){L.Marker.prototype.onRemove.call(this,
b);this._stopAnimation()},_createDurations:function(b,c){for(var f=b.length-1,a=[],e=0,k,l=0;l<f;l++)k=b[l+1].distanceTo(b[l]),a.push(k),e+=k;f=c/e;e=[];for(l=0;l<a.length;l++)e.push(a[l]*f);return e},_startAnimation:function(){this._state=L.Marker.MovingMarker.runState;this.setRotationAngle(this._angles[0]);this._animId=L.Util.requestAnimFrame(function(b){this._startTime=Date.now();this._startTimeStamp=b;this._animate(b)},this,!0);this._animRequested=!0;this.applyRotation();this.update()},_resumeAnimation:function(){this._animRequested||
(this._animRequested=!0,this._animId=L.Util.requestAnimFrame(function(b){this._animate(b)},this,!0))},_stopAnimation:function(){this._animRequested&&(L.Util.cancelAnimFrame(this._animId),this._animRequested=!1)},_updatePosition:function(){var b=Date.now()-this._startTime;this._animate(this._startTimeStamp+b,!0)},_loadLine:function(b){this._currentIndex=b;this._currentDuration=this._durations[b];this._currentLine=this._latlngs.slice(b,b+2)},_updateLine:function(b){var c=b-this._startTimeStamp;if(c<=
this._currentDuration)return c;for(var f=this._currentIndex,a=this._currentDuration;c>a;){c-=a;a=this._stations[f+1];if(void 0!==a){if(c<a)return this.setLatLng(this._latlngs[f+1]),null;c-=a}f++;if(f>=this._latlngs.length-1)if(this.options.loop)f=0,this.fire("loop",{elapsedTime:c});else return this.setLatLng(this._latlngs[this._latlngs.length-1]),this.stop(c),null;a=this._durations[f]}this._loadLine(f);this._startTimeStamp=b-c;this._startTime=Date.now()-c;return c},_animate:function(b,c){this._animRequested=
!1;var f=this._updateLine(b);this.isEnded()||(null!=f&&(f=L.interpolatePosition(this._currentLine[0],this._currentLine[1],this._currentDuration,f),this.setLatLng(f),this.setRotationAngle(this._angles[this._currentIndex]),this.applyRotation()),c||(this._animId=L.Util.requestAnimFrame(this._animate,this,!1),this._animRequested=!0))}});L.Marker.movingMarker=function(b,c,f,a){return new L.Marker.MovingMarker(b,c,f,a)};
!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):b.moment=c()}(this,function(){function b(){return Bc.apply(null,arguments)}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function f(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function e(b){if(Object.getOwnPropertyNames)return 0===
Object.getOwnPropertyNames(b).length;for(var c in b)if(a(b,c))return;return 1}function k(a){return void 0===a}function l(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function p(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function q(a,b){for(var c=[],e=a.length,n=0;n<e;++n)c.push(b(a[n],n));return c}function t(b,c){for(var e in c)a(c,e)&&(b[e]=c[e]);return a(c,"toString")&&(b.toString=c.toString),a(c,"valueOf")&&(b.valueOf=
c.valueOf),b}function u(a,b,c,e){return Sa(a,b,c,e,!0).utc()}function w(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),a._pf}function M(a){var b,c,e=a._d&&!isNaN(a._d.getTime());return e&&(b=w(a),c=Cc.call(b.parsedDateParts,function(a){return null!=a}),e=0>b.overflow&&!b.empty&&!b.invalidEra&&
!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c),a._strict)&&(e=e&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a)?e:(a._isValid=e,a._isValid)}function Q(a){var b=u(NaN);return null!=a?t(w(b),a):w(b).userInvalidated=!0,b}function Y(a,b){var c,e,n,f=Dc.length;if(k(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),k(b._i)||(a._i=b._i),k(b._f)||
(a._f=b._f),k(b._l)||(a._l=b._l),k(b._strict)||(a._strict=b._strict),k(b._tzm)||(a._tzm=b._tzm),k(b._isUTC)||(a._isUTC=b._isUTC),k(b._offset)||(a._offset=b._offset),k(b._pf)||(a._pf=w(b)),k(b._locale)||(a._locale=b._locale),0<f)for(c=0;c<f;c++)k(n=b[e=Dc[c]])||(a[e]=n);return a}function V(a){Y(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Oc&&(Oc=!0,b.updateOffset(this),Oc=!1)}function ja(a){return a instanceof V||null!=a&&null!=a._isAMomentObject}
function I(a){!1===b.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function J(c,e){var n=!0;return t(function(){if(null!=b.deprecationHandler&&b.deprecationHandler(null,c),n){for(var f,C,k=[],xa=arguments.length,l=0;l<xa;l++){if(f="","object"==typeof arguments[l]){for(C in f+="\n["+l+"] ",arguments[0])a(arguments[0],C)&&(f+=C+": "+arguments[0][C]+", ");f=f.slice(0,-2)}else f=arguments[l];k.push(f)}I(c+"\nArguments: "+Array.prototype.slice.call(k).join("")+
"\n"+Error().stack);n=!1}return e.apply(this,arguments)},e)}function aa(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c);Za[a]||(I(c),Za[a]=!0)}function H(a){return"undefined"!=typeof Function&&a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function K(b,c){var e,n=t({},b);for(e in c)a(c,e)&&(f(b[e])&&f(c[e])?(n[e]={},t(n[e],b[e]),t(n[e],c[e])):null!=c[e]?n[e]=c[e]:delete n[e]);for(e in b)a(b,e)&&!a(c,e)&&f(b[e])&&(n[e]=t({},n[e]));return n}function D(a){null!=
a&&this.set(a)}function P(a,b,c){var e=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-e.length)).toString().substr(1)+e}function E(a,b,c,e){var n="string"==typeof e?function(){return this[e]()}:e;a&&($a[a]=n);b&&($a[b[0]]=function(){return P(n.apply(this,arguments),b[1],b[2])});c&&($a[c]=function(){return this.localeData().ordinal(n.apply(this,arguments),a)})}function Z(a,b){return a.isValid()?(b=R(b,a.localeData()),Bb[b]=Bb[b]||function(a){for(var b,c=a.match(Ac),e=0,n=c.length;e<
n;e++)$a[c[e]]?c[e]=$a[c[e]]:c[e]=(b=c[e]).match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"");return function(b){for(var e="",f=0;f<n;f++)e+=H(c[f])?c[f].call(b,a):c[f];return e}}(b),Bb[b](a)):a.localeData().invalidDate()}function R(a,b){function c(a){return b.longDateFormat(a)||a}var e=5;for(ib.lastIndex=0;0<=e&&ib.test(a);)a=a.replace(ib,c),ib.lastIndex=0,--e;return a}function N(a){return"string"==typeof a?ic[a]||ic[a.toLowerCase()]:void 0}function ka(b){var c,e,n={};for(e in b)a(b,
e)&&(c=N(e))&&(n[c]=b[e]);return n}function v(a,b,c){Cb[a]=H(b)?b:function(a,e){return a&&c?c:b}}function la(b,c){return a(Cb,b)?Cb[b](c._strict,c._locale):new RegExp(Ma(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,e,n){return b||c||e||n})))}function Ma(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ra(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function G(a){a=+a;return 0!=a&&isFinite(a)?ra(a):0}function ea(a,b){var c,e,n=b;"string"==typeof a&&(a=
[a]);l(b)&&(n=function(a,c){c[b]=G(a)});e=a.length;for(c=0;c<e;c++)kc[a[c]]=n}function ya(a,b){ea(a,function(a,c,e,n){e._w=e._w||{};b(a,e._w,e,n)})}function Ea(a){return 0==a%4&&0!=a%100||0==a%400}function sa(a,c){return function(e){return null!=e?(Aa(this,a,e),b.updateOffset(this,c),this):Ia(this,a)}}function Ia(a,b){if(!a.isValid())return NaN;var c=a._d,e=a._isUTC;switch(b){case "Milliseconds":return e?c.getUTCMilliseconds():c.getMilliseconds();case "Seconds":return e?c.getUTCSeconds():c.getSeconds();
case "Minutes":return e?c.getUTCMinutes():c.getMinutes();case "Hours":return e?c.getUTCHours():c.getHours();case "Date":return e?c.getUTCDate():c.getDate();case "Day":return e?c.getUTCDay():c.getDay();case "Month":return e?c.getUTCMonth():c.getMonth();case "FullYear":return e?c.getUTCFullYear():c.getFullYear();default:return NaN}}function Aa(a,b,c){var e,n;if(a.isValid()&&!isNaN(c)){switch(e=a._d,n=a._isUTC,b){case "Milliseconds":return n?e.setUTCMilliseconds(c):e.setMilliseconds(c);case "Seconds":return n?
e.setUTCSeconds(c):e.setSeconds(c);case "Minutes":return n?e.setUTCMinutes(c):e.setMinutes(c);case "Hours":return n?e.setUTCHours(c):e.setHours(c);case "Date":return n?e.setUTCDate(c):e.setDate(c);case "FullYear":break;default:return}b=c;c=a.month();a=29!==(a=a.date())||1!==c||Ea(b)?a:28;n?e.setUTCFullYear(b,c,a):e.setFullYear(b,c,a)}}function Ja(a,b){var c;return isNaN(a)||isNaN(b)?NaN:(c=(b%(c=12)+c)%c,a+=(b-c)/12,1==c?Ea(a)?29:28:31-c%7%2)}function da(a,b){if(a.isValid()){if("string"==typeof b)if(/^\d+$/.test(b))b=
G(b);else if(!l(b=a.localeData().monthsParse(b)))return;var c=29>(c=a.date())?c:Math.min(c,Ja(a.year(),b));a._isUTC?a._d.setUTCMonth(b,c):a._d.setMonth(b,c)}}function oa(a){return null!=a?(da(this,a),b.updateOffset(this,!0),this):Ia(this,"Month")}function nb(){function a(a,b){return b.length-a.length}for(var b,c,e=[],f=[],k=[],l=0;12>l;l++)c=u([2E3,l]),b=Ma(this.monthsShort(c,"")),c=Ma(this.months(c,"")),e.push(b),f.push(c),k.push(c),k.push(b);e.sort(a);f.sort(a);k.sort(a);this._monthsShortRegex=
this._monthsRegex=new RegExp("^("+k.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function cb(a,b,c,e,f,k,l){var n;return 100>a&&0<=a?(n=new Date(a+400,b,c,e,f,k,l),isFinite(n.getFullYear())&&n.setFullYear(a)):n=new Date(a,b,c,e,f,k,l),n}function Ka(a){var b;return 100>a&&0<=a?((b=Array.prototype.slice.call(arguments))[0]=a+400,b=new Date(Date.UTC.apply(null,b)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)):
b=new Date(Date.UTC.apply(null,arguments)),b}function Xa(a,b,c){c=7+b-c;return c-(7+Ka(a,0,c).getUTCDay()-b)%7-1}function W(a,b,c,e,f){var n;b=1+7*(b-1)+(7+c-e)%7+Xa(a,e,f);0>=b?(a=n=a-1,b=(Ea(a)?366:365)+b):b=b>(Ea(a)?366:365)?(n=a+1,b-(Ea(a)?366:365)):(n=a,b);return{year:n,dayOfYear:b}}function pa(a,b,c){var e,n,f=Xa(a.year(),b,c),f=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>f?e=f+Na(n=a.year()-1,b,c):f>Na(a.year(),b,c)?(e=f-Na(a.year(),b,c),n=a.year()+1):(n=a.year(),e=f),{week:e,year:n}}function Na(a,
b,c){var e=Xa(a,b,c);b=Xa(a+1,b,c);return((Ea(a)?366:365)-e+b)/7}function Eb(a,b){return a.slice(b,7).concat(a.slice(0,b))}function Pa(){function a(a,b){return b.length-a.length}for(var b,c,e,f=[],k=[],l=[],p=[],q=0;7>q;q++)e=u([2E3,1]).day(q),b=Ma(this.weekdaysMin(e,"")),c=Ma(this.weekdaysShort(e,"")),e=Ma(this.weekdays(e,"")),f.push(b),k.push(c),l.push(e),p.push(b),p.push(c),p.push(e);f.sort(a);k.sort(a);l.sort(a);p.sort(a);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+
p.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function ob(){return this.hours()%12||12}function fb(a,b){E(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function za(a,b){return b._meridiemParse}function Qa(a){return a&&a.toLowerCase().replace("_","-")}function pb(a){var b,c;if(void 0===wa[a]&&
"undefined"!=typeof module&&module&&module.exports&&(c=a)&&c.match("^[^/\\\\]*$"))try{b=Db._abbr,require("./locale/"+a),Ua(b)}catch(hc){wa[a]=null}return wa[a]}function Ua(a,b){return a&&((b=k(b)?Ra(a):Fb(a,b))?Db=b:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Db._abbr}function Fb(a,b){if(null===b)return delete wa[a],null;var c;c=mc;if(b.abbr=a,null!=wa[a])aa("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
c=wa[a]._config;else if(null!=b.parentLocale)if(null!=wa[b.parentLocale])c=wa[b.parentLocale]._config;else{if(null==(c=pb(b.parentLocale)))return Nb[b.parentLocale]||(Nb[b.parentLocale]=[]),Nb[b.parentLocale].push({name:a,config:b}),null;c=c._config}return wa[a]=new D(K(c,b)),Nb[a]&&Nb[a].forEach(function(a){Fb(a.name,a.config)}),Ua(a),wa[a]}function Ra(a){var b;if(!(a=a&&a._locale&&a._locale._abbr?a._locale._abbr:a))return Db;if(!c(a)){if(b=pb(a))return b;a=[a]}var e;a:{for(var f,n,k=0;k<a.length;){b=
(n=Qa(a[k]).split("-")).length;for(e=(e=Qa(a[k+1]))?e.split("-"):null;0<b;){if(f=pb(n.slice(0,b).join("-"))){e=f;break a}if(f=e&&e.length>=b){b:{f=Math.min(n.length,e.length);for(var l=0;l<f;l+=1)if(n[l]!==e[l]){f=l;break b}}f=f>=b-1}if(f)break;b--}k++}e=Db}return e}function qb(a){var b=a._a;return b&&-2===w(a).overflow&&(b=0>b[eb]||11<b[eb]?eb:1>b[bb]||b[bb]>Ja(b[Ha],b[eb])?bb:0>b[Ca]||24<b[Ca]||24===b[Ca]&&(0!==b[wb]||0!==b[Lb]||0!==b[Zb])?Ca:0>b[wb]||59<b[wb]?wb:0>b[Lb]||59<b[Lb]?Lb:0>b[Zb]||999<
b[Zb]?Zb:-1,w(a)._overflowDayOfYear&&(b<Ha||bb<b)&&(b=bb),w(a)._overflowWeeks&&-1===b&&(b=gd),w(a)._overflowWeekday&&-1===b&&(b=hd),w(a).overflow=b),a}function Gb(a){var b,c,e,f,n,k;c=a._i;var l=Gc.exec(c)||Fc.exec(c);c=uc.length;var p=gb.length;if(l){w(a).iso=!0;for(b=0;b<c;b++)if(uc[b][1].exec(l[1])){f=uc[b][0];e=!1!==uc[b][2];break}if(null==f)a._isValid=!1;else{if(l[3]){b=0;for(c=p;b<c;b++)if(gb[b][1].exec(l[3])){n=(l[2]||" ")+gb[b][0];break}if(null==n)return void(a._isValid=!1)}if(e||null==n){if(l[4]){if(!tc.exec(l[4]))return void(a._isValid=
!1);k="Z"}a._f=f+(n||"")+(k||"");ua(a)}else a._isValid=!1}}else a._isValid=!1}function O(a){var b,c,e=ed.exec(a._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var f=e[4];b=e[3];var n=e[2],k=e[5],l=e[6],p=e[7],f=parseInt(f,10),f=[49>=f?2E3+f:999>=f?1900+f:f,S.indexOf(b),parseInt(n,10),parseInt(k,10),parseInt(l,10)];b=(p&&f.push(parseInt(p,10)),f);n=e[1];k=b;n&&vc.indexOf(n)!==(new Date(k[0],k[1],k[2])).getDay()?(w(a).weekdayMismatch=!0,
a._isValid=!1,n=void 0):n=1;n&&(a._a=b,a._tzm=(b=e[8],c=e[9],e=e[10],b?Xc[b]:c?0:60*(((b=parseInt(e,10))-(c=b%100))/100)+c),a._d=Ka.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),w(a).rfc2822=!0)}else a._isValid=!1}function U(a,b,c){return null!=a?a:null!=b?b:c}function Fa(a){var c,e,f,n,k,l,p,q,v,u,t=[];if(!a._d){c=a;f=new Date(b.now());e=c._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];a._w&&null==a._a[bb]&&null==a._a[eb]&&
(null!=(f=(c=a)._w).GG||null!=f.W||null!=f.E?(p=1,q=4,n=U(f.GG,c._a[Ha],pa(fa(),1,4).year),k=U(f.W,1),(1>(l=U(f.E,1))||7<l)&&(v=!0)):(p=c._locale._week.dow,q=c._locale._week.doy,u=pa(fa(),p,q),n=U(f.gg,c._a[Ha],u.year),k=U(f.w,u.week),null!=f.d?(0>(l=f.d)||6<l)&&(v=!0):null!=f.e?(l=f.e+p,(0>f.e||6<f.e)&&(v=!0)):l=p),1>k||k>Na(n,p,q)?w(c)._overflowWeeks=!0:null!=v?w(c)._overflowWeekday=!0:(u=W(n,k,l,p,q),c._a[Ha]=u.year,c._dayOfYear=u.dayOfYear));null!=a._dayOfYear&&(f=U(a._a[Ha],e[Ha]),(a._dayOfYear>
(Ea(f)?366:365)||0===a._dayOfYear)&&(w(a)._overflowDayOfYear=!0),v=Ka(f,0,a._dayOfYear),a._a[eb]=v.getUTCMonth(),a._a[bb]=v.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=t[c]=e[c];for(;7>c;c++)a._a[c]=t[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Ca]&&0===a._a[wb]&&0===a._a[Lb]&&0===a._a[Zb]&&(a._nextDay=!0,a._a[Ca]=0);a._d=(a._useUTC?Ka:cb).apply(null,t);n=a._useUTC?a._d.getUTCDay():a._d.getDay();null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[Ca]=24);a._w&&
void 0!==a._w.d&&a._w.d!==n&&(w(a).weekdayMismatch=!0)}}function ua(c){if(c._f===b.ISO_8601)Gb(c);else if(c._f===b.RFC_2822)O(c);else{c._a=[];w(c).empty=!0;for(var e,f,n,k,l,p=""+c._i,q=p.length,v=0,u=R(c._f,c._locale).match(Ac)||[],t=u.length,ka=0;ka<t;ka++)f=u[ka],(e=(p.match(la(f,c))||[])[0])&&(0<(n=p.substr(0,p.indexOf(e))).length&&w(c).unusedInput.push(n),p=p.slice(p.indexOf(e)+e.length),v+=e.length),$a[f]?(e?w(c).empty=!1:w(c).unusedTokens.push(f),n=f,l=c,null!=(k=e)&&a(kc,n)&&kc[n](k,l._a,
l,n)):c._strict&&!e&&w(c).unusedTokens.push(f);w(c).charsLeftOver=q-v;0<p.length&&w(c).unusedInput.push(p);12>=c._a[Ca]&&!0===w(c).bigHour&&0<c._a[Ca]&&(w(c).bigHour=void 0);w(c).parsedDateParts=c._a.slice(0);w(c).meridiem=c._meridiem;e=c._a;f=Ca;n=c._locale;k=c._a[Ca];l=c._meridiem;l=null==l?k:null!=n.meridiemHour?n.meridiemHour(k,l):null!=n.isPM?((n=n.isPM(l))&&12>k&&(k+=12),n||12!==k?k:0):k;e[f]=l;null!==(q=w(c).era)&&(c._a[Ha]=c._locale.erasConvertYear(q,c._a[Ha]));Fa(c);qb(c)}}function hb(a){var e,
n,v,u=a._i,ia=a._f;if(a._locale=a._locale||Ra(a._l),null===u||void 0===ia&&""===u)return Q({nullInput:!0});if("string"==typeof u&&(a._i=u=a._locale.preparse(u)),ja(u))return new V(qb(u));if(p(u))a._d=u;else if(c(ia)){var G,D,la,u=!1,ia=a._f.length;if(0===ia)w(a).invalidFormat=!0,a._d=new Date(NaN);else{for(e=0;e<ia;e++)n=0,v=!1,G=Y({},a),null!=a._useUTC&&(G._useUTC=a._useUTC),G._f=a._f[e],ua(G),M(G)&&(v=!0),n=(n+=w(G).charsLeftOver)+10*w(G).unusedTokens.length,w(G).score=n,u?n<la&&(la=n,D=G):(null==
la||n<la||v)&&(la=n,D=G,v)&&(u=!0);t(a,D||G)}}else ia?ua(a):k(ia=(u=a)._i)?u._d=new Date(b.now()):p(ia)?u._d=new Date(ia.valueOf()):"string"==typeof ia?(n=u,null!==(e=Hc.exec(n._i))?n._d=new Date(+e[1]):(Gb(n),!1===n._isValid&&(delete n._isValid,O(n),!1===n._isValid)&&(delete n._isValid,n._strict?n._isValid=!1:b.createFromInputFallback(n)))):c(ia)?(u._a=q(ia.slice(0),function(a){return parseInt(a,10)}),Fa(u)):f(ia)?(e=u)._d||(v=void 0===(n=ka(e._i)).day?n.date:n.day,e._a=q([n.year,n.month,v,n.hour,
n.minute,n.second,n.millisecond],function(a){return a&&parseInt(a,10)}),Fa(e)):l(ia)?u._d=new Date(ia):b.createFromInputFallback(u);return M(a)||(a._d=null),a}function Sa(a,b,k,l,p){var n={};return!0!==b&&!1!==b||(l=b,b=void 0),!0!==k&&!1!==k||(l=k,k=void 0),(f(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=p,n._l=k,n._i=a,n._f=b,n._strict=l,(p=new V(qb(hb(p=n))))._nextDay&&(p.add(1,"d"),p._nextDay=void 0),p}function fa(a,b,c,e){return Sa(a,b,c,e,!1)}function Ta(a,
b){var e,f;if(!(b=1===b.length&&c(b[0])?b[0]:b).length)return fa();e=b[0];for(f=1;f<b.length;++f)b[f].isValid()&&!b[f][a](e)||(e=b[f]);return e}function ta(b){b=ka(b);var c=b.year||0,e=b.quarter||0,f=b.month||0,n=b.week||b.isoWeek||0,k=b.day||0,l=b.hour||0,p=b.minute||0,q=b.second||0,u=b.millisecond||0;this._isValid=function(b){var c,e=!1,f=ha.length;for(c in b)if(a(b,c)&&(-1===Da.call(ha,c)||null!=b[c]&&isNaN(b[c])))return!1;for(c=0;c<f;++c)if(b[ha[c]]){if(e)return!1;parseFloat(b[ha[c]])!==G(b[ha[c]])&&
(e=!0)}return!0}(b);this._milliseconds=+u+1E3*q+6E4*p+36E5*l;this._days=+k+7*n;this._months=+f+3*e+12*c;this._data={};this._locale=Ra();this._bubble()}function Va(a){return a instanceof ta}function T(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function qa(a,b){E(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+P(~~(a/60),2)+b+P(~~a%60,2)})}function na(a,b){b=(b||"").match(a);return null===b?null:0===(b=60*(a=((b[b.length-1]||[])+"").match(sb)||["-",0,0])[1]+G(a[2]))?0:
"+"===a[0]?b:-b}function ma(a,c){var e;return c._isUTC?(c=c.clone(),e=(ja(a)||p(a)?a:fa(a)).valueOf()-c.valueOf(),c._d.setTime(c._d.valueOf()+e),b.updateOffset(c,!1),c):fa(a).local()}function rb(){return!!this.isValid()&&this._isUTC&&0===this._offset}function La(b,c){var e,f=b;if(Va(b))f={ms:b._milliseconds,d:b._days,M:b._months};else if(l(b)||!isNaN(+b))f={},c?f[c]=+b:f.milliseconds=+b;else if(c=Yc.exec(b))e="-"===c[1]?-1:1,f={y:0,d:G(c[bb])*e,h:G(c[Ca])*e,m:G(c[wb])*e,s:G(c[Lb])*e,ms:G(T(1E3*c[Zb]))*
e};else if(c=Qc.exec(b))e="-"===c[1]?-1:1,f={y:Ya(c[2],e),M:Ya(c[3],e),w:Ya(c[4],e),d:Ya(c[5],e),h:Ya(c[6],e),m:Ya(c[7],e),s:Ya(c[8],e)};else if(null==f)f={};else if("object"==typeof f&&("from"in f||"to"in f)){var n;n=fa(f.from);var k=fa(f.to),C;n.isValid()&&k.isValid()?(k=ma(k,n),n.isBefore(k)?C=Hb(n,k):((C=Hb(k,n)).milliseconds=-C.milliseconds,C.months=-C.months),n=C):n={milliseconds:0,months:0};c=n;(f={}).ms=c.milliseconds;f.M=c.months}return e=new ta(f),Va(b)&&a(b,"_locale")&&(e._locale=b._locale),
Va(b)&&a(b,"_isValid")&&(e._isValid=b._isValid),e}function Ya(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function Hb(a,b){var c={};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function tb(a,b){return function(c,e){var f;return null===e||isNaN(+e)||(aa(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
f=c,c=e,e=f),Ib(this,La(c,e),a),this}}function Ib(a,c,e,f){var n=c._milliseconds,k=T(c._days);c=T(c._months);a.isValid()&&(f=null==f||f,c&&da(a,Ia(a,"Month")+c*e),k&&Aa(a,"Date",Ia(a,"Date")+k*e),n&&a._d.setTime(a._d.valueOf()+n*e),f)&&b.updateOffset(a,k||c)}function Pb(b){return ja(b)||p(b)||"string"==typeof b||b instanceof String||l(b)||function(a){var b=c(a),e=!1;b&&(e=0===a.filter(function(b){return!l(b)&&("string"==typeof a||a instanceof String)}).length);return b&&e}(b)||function(b){var c,n,
k=f(b)&&!e(b),C=!1,l="years year y months month M days day d dates date D hours hour h minutes minute m seconds second s milliseconds millisecond ms".split(" "),p=l.length;for(c=0;c<p;c+=1)n=l[c],C=C||a(b,n);return k&&C}(b)||null==b}function ia(a,b){var c,e;return a.date()<b.date()?-ia(b,a):-((c=12*(b.year()-a.year())+(b.month()-a.month()))+(0>b-(e=a.clone().add(c,"months"))?(b-e)/(e-a.clone().add(c-1,"months")):(b-e)/(a.clone().add(1+c,"months")-e)))||0}function Ob(a){return void 0===a?this._locale._abbr:
(null!=(a=Ra(a))&&(this._locale=a),this)}function ec(){return this._locale}function Oa(a,b){return(a%b+b)%b}function Ic(a,b,c){return 100>a&&0<=a?new Date(a+400,b,c)-126227808E5:(new Date(a,b,c)).valueOf()}function Jc(a,b,c){return 100>a&&0<=a?Date.UTC(a+400,b,c)-126227808E5:Date.UTC(a,b,c)}function fc(a,b){return b.erasAbbrRegex(a)}function wc(){for(var a,b,c,e=[],f=[],k=[],l=[],p=this.eras(),q=0,u=p.length;q<u;++q)a=Ma(p[q].name),b=Ma(p[q].abbr),c=Ma(p[q].narrow),f.push(a),e.push(b),k.push(c),l.push(a),
l.push(b),l.push(c);this._erasRegex=new RegExp("^("+l.join("|")+")","i");this._erasNameRegex=new RegExp("^("+f.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+k.join("|")+")","i")}function gc(a,b){E(0,[a,a.length],0,b)}function pc(a,b,c,e,f){var n;null==a?a=pa(this,e,f).year:(n=Na(a,e,f),a=W(a,n<b?n:b,c,e,f),a=Ka(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this));return a}
function Kc(a,b){b[Zb]=G(1E3*("0."+a))}function qc(a){return a}function Jb(a,b,c,e){var f=Ra();e=u().set(e,b);return f[c](e,a)}function rc(a,b,c){if(l(a)&&(b=a,a=void 0),a=a||"",null!=b)return Jb(a,b,c,"month");b=[];for(var e=0;12>e;e++)b[e]=Jb(a,e,c,"month");return b}function yc(a,b,c,e){b=("boolean"==typeof a?l(b)&&(c=b,b=void 0):(b=a,a=!1,l(c=b)&&(c=b,b=void 0)),b||"");var f=Ra();a=a?f._week.dow:0;f=[];if(null!=c)return Jb(b,(c+a)%7,e,"day");for(c=0;7>c;c++)f[c]=Jb(b,(c+a)%7,e,"day");return f}
function Lc(a,b,c,e){b=La(b,c);return a._milliseconds+=e*b._milliseconds,a._days+=e*b._days,a._months+=e*b._months,a._bubble()}function Mc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Ab(a){return function(){return this.as(a)}}function yb(a){return function(){return this.isValid()?this._data[a]:NaN}}function Tc(a,b,c,e){var f=La(a).abs(),n=zb(f.as("s")),k=zb(f.as("m")),l=zb(f.as("h")),C=zb(f.as("d")),p=zb(f.as("M")),q=zb(f.as("w")),f=zb(f.as("y")),n=(n<=c.ss?["s",n]:n<c.s&&["ss",n])||(1>=k?["m"]:
k<c.m&&["mm",k])||(1>=l?["h"]:l<c.h&&["hh",l])||(1>=C?["d"]:C<c.d&&["dd",C]);return(n=(n=null!=c.w?n||(1>=q?["w"]:q<c.w&&["ww",q]):n)||(1>=p?["M"]:p<c.M&&["MM",p])||(1>=f?["y"]:["yy",f]))[2]=b,n[3]=0<+a,n[4]=e,function(a,b,c,e,f){return f.relativeTime(b||1,!!c,a,e)}.apply(null,n)}function bc(a){return(0<a)-(0>a)||+a}function Wa(){var a,b,c,e,f,k,l,p,q,u,v;return this.isValid()?(a=Ub(this._milliseconds)/1E3,b=Ub(this._days),c=Ub(this._months),(p=this.asSeconds())?(e=ra(a/60),f=ra(e/60),a%=60,e%=60,
k=ra(c/12),c%=12,l=a?a.toFixed(3).replace(/\.?0+$/,""):"",q=bc(this._months)!==bc(p)?"-":"",u=bc(this._days)!==bc(p)?"-":"",v=bc(this._milliseconds)!==bc(p)?"-":"",(0>p?"-":"")+"P"+(k?q+k+"Y":"")+(c?q+c+"M":"")+(b?u+b+"D":"")+(f||e||a?"T":"")+(f?v+f+"H":"")+(e?v+e+"M":"")+(a?v+l+"S":"")):"P0D"):this.localeData().invalidDate()}var Bc,Cc=Array.prototype.some||function(a){for(var b=Object(this),c=b.length>>>0,e=0;e<c;e++)if(e in b&&a.call(this,b[e],e,b))return!0;return!1},Dc=b.momentProperties=[],Oc=
!1,Za={};b.suppressDeprecationWarnings=!1;b.deprecationHandler=null;var sc=Object.keys||function(b){var c,e=[];for(c in b)a(b,c)&&e.push(c);return e},Ac=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ib=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bb={},$a={},ic={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",
weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",
isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"},fd={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},db=/\d/,Ba=/\d\d/,jc=/\d{3}/,Ga=/\d{4}/,jb=/[+-]?\d{6}/,va=/\d\d?/,Kb=/\d\d\d\d?/,kb=/\d\d\d\d\d\d?/,lb=/\d{1,3}/,ub=/\d{1,4}/,vb=/[+-]?\d{1,6}/,Qb=/\d+/,Yb=/[+-]?\d+/,ab=/Z|[+-]\d\d:?\d\d/gi,
Rb=/Z|[+-]\d\d(?::?\d\d)?/gi,mb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,F=/^[1-9]\d?/,ca=/^([1-9]\d|\d)/,Cb={},kc={},Ha=0,eb=1,bb=2,Ca=3,wb=4,Lb=5,Zb=6,gd=7,hd=8;E("Y",0,0,function(){var a=this.year();return 9999>=a?P(a,4):"+"+a});E(0,["YY",2],0,function(){return this.year()%100});E(0,["YYYY",4],0,"year");E(0,["YYYYY",5],0,"year");E(0,["YYYYYY",6,!0],0,"year");v("Y",Yb);v("YY",va,Ba);v("YYYY",
ub,Ga);v("YYYYY",vb,jb);v("YYYYYY",vb,jb);ea(["YYYYY","YYYYYY"],Ha);ea("YYYY",function(a,c){c[Ha]=2===a.length?b.parseTwoDigitYear(a):G(a)});ea("YY",function(a,c){c[Ha]=b.parseTwoDigitYear(a)});ea("Y",function(a,b){b[Ha]=parseInt(a,10)});b.parseTwoDigitYear=function(a){return G(a)+(68<G(a)?1900:2E3)};var Da,lc=sa("FullYear",!0);Da=Array.prototype.indexOf||function(a){for(var b=0;b<this.length;++b)if(this[b]===a)return b;return-1};E("M",["MM",2],"Mo",function(){return this.month()+1});E("MMM",0,0,
function(a){return this.localeData().monthsShort(this,a)});E("MMMM",0,0,function(a){return this.localeData().months(this,a)});v("M",va,F);v("MM",va,Ba);v("MMM",function(a,b){return b.monthsShortRegex(a)});v("MMMM",function(a,b){return b.monthsRegex(a)});ea(["M","MM"],function(a,b){b[eb]=G(a)-1});ea(["MMM","MMMM"],function(a,b,c,e){e=c._locale.monthsParse(a,e,c._strict);null!=e?b[eb]=e:w(c).invalidMonth=a});var Sb="January February March April May June July August September October November December".split(" "),
S="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ec=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vc=mb,Wc=mb;E("w",["ww",2],"wo","week");E("W",["WW",2],"Wo","isoWeek");v("w",va,F);v("ww",va,Ba);v("W",va,F);v("WW",va,Ba);ya(["w","ww","W","WW"],function(a,b,c,e){b[e.substr(0,1)]=G(a)});E("d",0,"do","day");E("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});E("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});E("dddd",0,0,function(a){return this.localeData().weekdays(this,
a)});E("e",0,0,"weekday");E("E",0,0,"isoWeekday");v("d",va);v("e",va);v("E",va);v("dd",function(a,b){return b.weekdaysMinRegex(a)});v("ddd",function(a,b){return b.weekdaysShortRegex(a)});v("dddd",function(a,b){return b.weekdaysRegex(a)});ya(["dd","ddd","dddd"],function(a,b,c,e){e=c._locale.weekdaysParse(a,e,c._strict);null!=e?b.d=e:w(c).invalidWeekday=a});ya(["d","e","E"],function(a,b,c,e){b[e]=G(a)});var cc="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),vc="Sun Mon Tue Wed Thu Fri Sat".split(" "),
oc="Su Mo Tu We Th Fr Sa".split(" "),dc=mb,Uc=mb,Pc=mb;E("H",["HH",2],0,"hour");E("h",["hh",2],0,ob);E("k",["kk",2],0,function(){return this.hours()||24});E("hmm",0,0,function(){return""+ob.apply(this)+P(this.minutes(),2)});E("hmmss",0,0,function(){return""+ob.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)});E("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)});E("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)});fb("a",!0);fb("A",!1);v("a",za);
v("A",za);v("H",va,ca);v("h",va,F);v("k",va,F);v("HH",va,Ba);v("hh",va,Ba);v("kk",va,Ba);v("hmm",Kb);v("hmmss",kb);v("Hmm",Kb);v("Hmmss",kb);ea(["H","HH"],Ca);ea(["k","kk"],function(a,b,c){a=G(a);b[Ca]=24===a?0:a});ea(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});ea(["h","hh"],function(a,b,c){b[Ca]=G(a);w(c).bigHour=!0});ea("hmm",function(a,b,c){var e=a.length-2;b[Ca]=G(a.substr(0,e));b[wb]=G(a.substr(e));w(c).bigHour=!0});ea("hmmss",function(a,b,c){var e=a.length-4,f=a.length-
2;b[Ca]=G(a.substr(0,e));b[wb]=G(a.substr(e,2));b[Lb]=G(a.substr(f));w(c).bigHour=!0});ea("Hmm",function(a,b,c){c=a.length-2;b[Ca]=G(a.substr(0,c));b[wb]=G(a.substr(c))});ea("Hmmss",function(a,b,c){c=a.length-4;var e=a.length-2;b[Ca]=G(a.substr(0,c));b[wb]=G(a.substr(c,2));b[Lb]=G(a.substr(e))});var mb=sa("Hours",!0),Db,mc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",
LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Sb,monthsShort:S,week:{dow:0,doy:6},weekdays:cc,weekdaysMin:oc,weekdaysShort:vc,meridiemParse:/[ap]\.?m?\.?/i},
wa={},Nb={},Gc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tc=/Z|[+-]\d\d(?::?\d\d)?/,uc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",
/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hc=/^\/?Date\((-?\d+)/i,ed=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
Xc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};b.createFromInputFallback=J("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});b.ISO_8601=function(){};b.RFC_2822=function(){};
var Kb=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=fa.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:Q()}),kb=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=fa.apply(null,arguments);return this.isValid()&&a.isValid()?this<a?this:a:Q()}),ha="year quarter month week day hour minute second millisecond".split(" ");qa("Z",":");qa("ZZ",
"");v("Z",Rb);v("ZZ",Rb);ea(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=na(Rb,a)});var sb=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var Yc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Qc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;La.fn=ta.prototype;La.invalid=function(){return La(NaN)};Sb=tb(1,"add");cc=tb(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";oc=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});E("N",0,0,"eraAbbr");E("NN",0,0,"eraAbbr");E("NNN",0,0,"eraAbbr");E("NNNN",0,0,"eraName");E("NNNNN",0,0,"eraNarrow");E("y",["y",1],"yo","eraYear");E("y",["yy",2],0,"eraYear");E("y",["yyy",3],0,"eraYear");E("y",["yyyy",4],0,"eraYear");v("N",fc);
v("NN",fc);v("NNN",fc);v("NNNN",function(a,b){return b.erasNameRegex(a)});v("NNNNN",function(a,b){return b.erasNarrowRegex(a)});ea(["N","NN","NNN","NNNN","NNNNN"],function(a,b,c,e){(e=c._locale.erasParse(a,e,c._strict))?w(c).era=e:w(c).invalidEra=a});v("y",Qb);v("yy",Qb);v("yyy",Qb);v("yyyy",Qb);v("yo",function(a,b){return b._eraYearOrdinalRegex||Qb});ea(["y","yy","yyy","yyyy"],Ha);ea(["yo"],function(a,b,c,e){var f;c._locale._eraYearOrdinalRegex&&(f=a.match(c._locale._eraYearOrdinalRegex));c._locale.eraYearOrdinalParse?
b[Ha]=c._locale.eraYearOrdinalParse(a,f):b[Ha]=parseInt(a,10)});E(0,["gg",2],0,function(){return this.weekYear()%100});E(0,["GG",2],0,function(){return this.isoWeekYear()%100});gc("gggg","weekYear");gc("ggggg","weekYear");gc("GGGG","isoWeekYear");gc("GGGGG","isoWeekYear");v("G",Yb);v("g",Yb);v("GG",va,Ba);v("gg",va,Ba);v("GGGG",ub,Ga);v("gggg",ub,Ga);v("GGGGG",vb,jb);v("ggggg",vb,jb);ya(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,e){b[e.substr(0,2)]=G(a)});ya(["gg","GG"],function(a,c,e,f){c[f]=
b.parseTwoDigitYear(a)});E("Q",0,"Qo","quarter");v("Q",db);ea("Q",function(a,b){b[eb]=3*(G(a)-1)});E("D",["DD",2],"Do","date");v("D",va,F);v("DD",va,Ba);v("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});ea(["D","DD"],bb);ea("Do",function(a,b){b[bb]=G(a.match(va)[0])});ub=sa("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear");v("DDD",lb);v("DDDD",jc);ea(["DDD","DDDD"],function(a,b,c){c._dayOfYear=G(a)});E("m",["mm",2],0,"minute");v("m",va,ca);
v("mm",va,Ba);ea(["m","mm"],wb);var Mb,Ga=sa("Minutes",!1),vb=(E("s",["ss",2],0,"second"),v("s",va,ca),v("ss",va,Ba),ea(["s","ss"],Lb),sa("Seconds",!1));E("S",0,0,function(){return~~(this.millisecond()/100)});E(0,["SS",2],0,function(){return~~(this.millisecond()/10)});E(0,["SSS",3],0,"millisecond");E(0,["SSSS",4],0,function(){return 10*this.millisecond()});E(0,["SSSSS",5],0,function(){return 100*this.millisecond()});E(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});E(0,["SSSSSSS",7],0,
function(){return 1E4*this.millisecond()});E(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});E(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});v("S",lb,db);v("SS",lb,Ba);v("SSS",lb,jc);for(Mb="SSSS";9>=Mb.length;Mb+="S")v(Mb,Qb);for(Mb="S";9>=Mb.length;Mb+="S")ea(Mb,Kc);jb=sa("Milliseconds",!1);E("z",0,0,"zoneAbbr");E("zz",0,0,"zoneName");F=V.prototype;F.add=Sb;F.calendar=function(c,k){if(1===arguments.length)if(arguments[0])if(Pb(arguments[0]))c=arguments[0],k=void 0;
else{for(var n=arguments[0],l=f(n)&&!e(n),p=!1,C="sameDay nextDay lastDay nextWeek lastWeek sameElse".split(" "),q=0;q<C.length;q+=1)p=p||a(n,C[q]);l&&p&&(k=arguments[0],c=void 0)}else k=c=void 0;c=c||fa();n=ma(c,this).startOf("day");n=b.calendarFormat(this,n)||"sameElse";k=k&&(H(k[n])?k[n].call(this,c):k[n]);return this.format(k||this.localeData().calendar(n,this,fa(c)))};F.clone=function(){return new V(this)};F.diff=function(a,b,c){var e;if(!this.isValid()||!(e=ma(a,this)).isValid())return NaN;
switch(a=6E4*(e.utcOffset()-this.utcOffset()),N(b)){case "year":b=ia(this,e)/12;break;case "month":b=ia(this,e);break;case "quarter":b=ia(this,e)/3;break;case "second":b=(this-e)/1E3;break;case "minute":b=(this-e)/6E4;break;case "hour":b=(this-e)/36E5;break;case "day":b=(this-e-a)/864E5;break;case "week":b=(this-e-a)/6048E5;break;default:b=this-e}return c?b:ra(b)};F.endOf=function(a){var c,e;if(void 0!==(a=N(a))&&"millisecond"!==a&&this.isValid()){switch(e=this._isUTC?Jc:Ic,a){case "year":c=e(this.year()+
1,0,1)-1;break;case "quarter":c=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":c=e(this.year(),this.month()+1,1)-1;break;case "week":c=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case "isoWeek":c=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case "day":case "date":c=e(this.year(),this.month(),this.date()+1)-1;break;case "hour":c=this._d.valueOf();c+=36E5-Oa(c+(this._isUTC?0:6E4*this.utcOffset()),36E5)-1;break;case "minute":c=this._d.valueOf();
c+=6E4-Oa(c,6E4)-1;break;case "second":c=this._d.valueOf(),c+=1E3-Oa(c,1E3)-1}this._d.setTime(c);b.updateOffset(this,!0)}return this};F.format=function(a){return a=a||(this.isUtc()?b.defaultFormatUtc:b.defaultFormat),a=Z(this,a),this.localeData().postformat(a)};F.from=function(a,b){return this.isValid()&&(ja(a)&&a.isValid()||fa(a).isValid())?La({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};F.fromNow=function(a){return this.from(fa(),a)};F.to=function(a,b){return this.isValid()&&
(ja(a)&&a.isValid()||fa(a).isValid())?La({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};F.toNow=function(a){return this.to(fa(),a)};F.get=function(a){return H(this[a=N(a)])?this[a]():this};F.invalidAt=function(){return w(this).overflow};F.isAfter=function(a,b){return a=ja(a)?a:fa(a),!(!this.isValid()||!a.isValid())&&("millisecond"===(b=N(b)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf())};F.isBefore=function(a,b){return a=
ja(a)?a:fa(a),!(!this.isValid()||!a.isValid())&&("millisecond"===(b=N(b)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf())};F.isBetween=function(a,b,c,e){return a=ja(a)?a:fa(a),b=ja(b)?b:fa(b),!!(this.isValid()&&a.isValid()&&b.isValid())&&("("===(e=e||"()")[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===e[1]?this.isBefore(b,c):!this.isAfter(b,c))};F.isSame=function(a,b){a=ja(a)?a:fa(a);return!(!this.isValid()||!a.isValid())&&("millisecond"===(b=N(b)||"millisecond")?
this.valueOf()===a.valueOf():(a=a.valueOf(),this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()))};F.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};F.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};F.isValid=function(){return M(this)};F.lang=oc;F.locale=Ob;F.localeData=ec;F.max=kb;F.min=Kb;F.parsingFlags=function(){return t({},w(this))};F.set=function(b,c){if("object"==typeof b)for(var e=function(b){var c,e=[];for(c in b)a(b,
c)&&e.push({unit:c,priority:fd[c]});return e.sort(function(a,b){return a.priority-b.priority}),e}(b=ka(b)),f=e.length,k=0;k<f;k++)this[e[k].unit](b[e[k].unit]);else if(H(this[b=N(b)]))return this[b](c);return this};F.startOf=function(a){var c,e;if(void 0!==(a=N(a))&&"millisecond"!==a&&this.isValid()){switch(e=this._isUTC?Jc:Ic,a){case "year":c=e(this.year(),0,1);break;case "quarter":c=e(this.year(),this.month()-this.month()%3,1);break;case "month":c=e(this.year(),this.month(),1);break;case "week":c=
e(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":c=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":c=e(this.year(),this.month(),this.date());break;case "hour":c=this._d.valueOf();c-=Oa(c+(this._isUTC?0:6E4*this.utcOffset()),36E5);break;case "minute":c=this._d.valueOf();c-=Oa(c,6E4);break;case "second":c=this._d.valueOf(),c-=Oa(c,1E3)}this._d.setTime(c);b.updateOffset(this,!0)}return this};F.subtract=cc;F.toArray=function(){return[this.year(),
this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};F.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};F.toDate=function(){return new Date(this.valueOf())};F.toISOString=function(a){var b;return this.isValid()?0>(b=(a=!0!==a)?this.clone().utc():this).year()||9999<b.year()?Z(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):
H(Date.prototype.toISOString)?a?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",Z(b,"Z")):Z(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null};F.inspect=function(){var a,b,c;return this.isValid()?(b="moment",a="",this.isLocal()||(b=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),b="["+b+'("]',c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",this.format(b+c+"-MM-DD[T]HH:mm:ss.SSS"+(a+'[")]'))):"moment.invalid(/* "+
this._i+" */)"};"undefined"!=typeof Symbol&&null!=Symbol["for"]&&(F[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});F.toJSON=function(){return this.isValid()?this.toISOString():null};F.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};F.unix=function(){return Math.floor(this.valueOf()/1E3)};F.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};F.creationData=function(){return{input:this._i,format:this._f,
locale:this._locale,isUTC:this._isUTC,strict:this._strict}};F.eraName=function(){for(var a,b=this.localeData().eras(),c=0,e=b.length;c<e;++c)if((a=this.clone().startOf("day").valueOf(),b[c].since<=a&&a<=b[c].until)||b[c].until<=a&&a<=b[c].since)return b[c].name;return""};F.eraNarrow=function(){for(var a,b=this.localeData().eras(),c=0,e=b.length;c<e;++c)if((a=this.clone().startOf("day").valueOf(),b[c].since<=a&&a<=b[c].until)||b[c].until<=a&&a<=b[c].since)return b[c].narrow;return""};F.eraAbbr=function(){for(var a,
b=this.localeData().eras(),c=0,e=b.length;c<e;++c)if((a=this.clone().startOf("day").valueOf(),b[c].since<=a&&a<=b[c].until)||b[c].until<=a&&a<=b[c].since)return b[c].abbr;return""};F.eraYear=function(){for(var a,c,e=this.localeData().eras(),f=0,k=e.length;f<k;++f)if(a=e[f].since<=e[f].until?1:-1,c=this.clone().startOf("day").valueOf(),e[f].since<=c&&c<=e[f].until||e[f].until<=c&&c<=e[f].since)return(this.year()-b(e[f].since).year())*a+e[f].offset;return this.year()};F.year=lc;F.isLeapYear=function(){return Ea(this.year())};
F.weekYear=function(a){return pc.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)};F.isoWeekYear=function(a){return pc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};F.quarter=F.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};F.month=oa;F.daysInMonth=function(){return Ja(this.year(),this.month())};F.week=F.weeks=function(a){var b=this.localeData().week(this);return null==
a?b:this.add(7*(a-b),"d")};F.isoWeek=F.isoWeeks=function(a){var b=pa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};F.weeksInYear=function(){var a=this.localeData()._week;return Na(this.year(),a.dow,a.doy)};F.weeksInWeekYear=function(){var a=this.localeData()._week;return Na(this.weekYear(),a.dow,a.doy)};F.isoWeeksInYear=function(){return Na(this.year(),1,4)};F.isoWeeksInISOWeekYear=function(){return Na(this.isoWeekYear(),1,4)};F.date=ub;F.day=F.days=function(a){var b,c,e;return this.isValid()?
(b=Ia(this,"Day"),null!=a?(c=a,e=this.localeData(),a="string"!=typeof c?c:isNaN(c)?"number"==typeof(c=e.weekdaysParse(c))?c:null:parseInt(c,10),this.add(a-b,"d")):b):null!=a?this:NaN};F.weekday=function(a){var b;return this.isValid()?(b=(this.day()+7-this.localeData()._week.dow)%7,null==a?b:this.add(a-b,"d")):null!=a?this:NaN};F.isoWeekday=function(a){var b;return this.isValid()?null!=a?(b=this.localeData(),b="string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a,this.day(this.day()%7?b:b-7)):
this.day()||7:null!=a?this:NaN};F.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};F.hour=F.hours=mb;F.minute=F.minutes=Ga;F.second=F.seconds=vb;F.millisecond=F.milliseconds=jb;F.utcOffset=function(a,c,e){var f,k=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null==a)return this._isUTC?k:-Math.round(this._d.getTimezoneOffset());if("string"==typeof a){if(null===(a=na(Rb,a)))return this}else 16>
Math.abs(a)&&!e&&(a*=60);return!this._isUTC&&c&&(f=-Math.round(this._d.getTimezoneOffset())),this._offset=a,this._isUTC=!0,null!=f&&this.add(f,"m"),k!==a&&(!c||this._changeInProgress?Ib(this,La(a-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this};F.utc=function(a){return this.utcOffset(0,a)};F.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a)&&this.subtract(-Math.round(this._d.getTimezoneOffset()),
"m"),this};F.parseZone=function(){var a;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(a=na(ab,this._i))?this.utcOffset(a):this.utcOffset(0,!0)),this};F.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?fa(a).utcOffset():0,0==(this.utcOffset()-a)%60)};F.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};F.isLocal=function(){return!!this.isValid()&&!this._isUTC};F.isUtcOffset=
function(){return!!this.isValid()&&this._isUTC};F.isUtc=rb;F.isUTC=rb;F.zoneAbbr=function(){return this._isUTC?"UTC":""};F.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};F.dates=J("dates accessor is deprecated. Use date instead.",ub);F.months=J("months accessor is deprecated. Use month instead",oa);F.years=J("years accessor is deprecated. Use year instead",lc);F.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
function(a,b){return null!=a?(this.utcOffset("string"!=typeof a?-a:a,b),this):-this.utcOffset()});F.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var a,b;if(k(this._isDSTShifted))if(Y(a={},this),(a=hb(a))._a){b=(a._isUTC?u:fa)(a._a);var c;if(c=this.isValid()){a=a._a;b=b.toArray();c=Math.min(a.length,b.length);for(var e=Math.abs(a.length-b.length),f=0,l=0;l<c;l++)G(a[l])!==G(b[l])&&f++;c=0<f+e}this._isDSTShifted=
c}else this._isDSTShifted=!1;return this._isDSTShifted});ca=D.prototype;ca.calendar=function(a,b,c){return H(a=this._calendar[a]||this._calendar.sameElse)?a.call(b,c):a};ca.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.match(Ac).map(function(a){return"MMMM"===a||"MM"===a||"DD"===a||"dddd"===a?a.slice(1):a}).join(""),this._longDateFormat[a])};ca.invalidDate=function(){return this._invalidDate};ca.ordinal=function(a){return this._ordinal.replace("%d",
a)};ca.preparse=qc;ca.postformat=qc;ca.relativeTime=function(a,b,c,e){var f=this._relativeTime[c];return H(f)?f(a,b,c,e):f.replace(/%d/i,a)};ca.pastFuture=function(a,b){return H(a=this._relativeTime[0<a?"future":"past"])?a(b):a.replace(/%s/i,b)};ca.set=function(b){var c,e;for(e in b)a(b,e)&&(H(c=b[e])?this[e]=c:this["_"+e]=c);this._config=b;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};ca.eras=function(a,c){for(var e,
f=this._eras||Ra("en")._eras,k=0,n=f.length;k<n;++k){switch(typeof f[k].since){case "string":e=b(f[k].since).startOf("day"),f[k].since=e.valueOf()}switch(typeof f[k].until){case "undefined":f[k].until=1/0;break;case "string":e=b(f[k].until).startOf("day").valueOf(),f[k].until=e.valueOf()}}return f};ca.erasParse=function(a,b,c){var e,f,k,n,l,p=this.eras();a=a.toUpperCase();e=0;for(f=p.length;e<f;++e)if(k=p[e].name.toUpperCase(),n=p[e].abbr.toUpperCase(),l=p[e].narrow.toUpperCase(),c)switch(b){case "N":case "NN":case "NNN":if(n===
a)return p[e];break;case "NNNN":if(k===a)return p[e];break;case "NNNNN":if(l===a)return p[e]}else if(0<=[k,n,l].indexOf(a))return p[e]};ca.erasConvertYear=function(a,c){var e=a.since<=a.until?1:-1;return void 0===c?b(a.since).year():b(a.since).year()+(c-a.offset)*e};ca.erasAbbrRegex=function(b){return a(this,"_erasAbbrRegex")||wc.call(this),b?this._erasAbbrRegex:this._erasRegex};ca.erasNameRegex=function(b){return a(this,"_erasNameRegex")||wc.call(this),b?this._erasNameRegex:this._erasRegex};ca.erasNarrowRegex=
function(b){return a(this,"_erasNarrowRegex")||wc.call(this),b?this._erasNarrowRegex:this._erasRegex};ca.months=function(a,b){return a?(c(this._months)?this._months:this._months[(this._months.isFormat||Ec).test(b)?"format":"standalone"])[a.month()]:c(this._months)?this._months:this._months.standalone};ca.monthsShort=function(a,b){return a?(c(this._monthsShort)?this._monthsShort:this._monthsShort[Ec.test(b)?"format":"standalone"])[a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};
ca.monthsParse=function(a,b,c){var e,f;if(this._monthsParseExact){var k;a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],f=0;12>f;++f)k=u([2E3,f]),this._shortMonthsParse[f]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[f]=this.months(k,"").toLocaleLowerCase();return c?"MMM"===b?-1!==(e=Da.call(this._shortMonthsParse,a))?e:null:-1!==(e=Da.call(this._longMonthsParse,a))?e:null:"MMM"===b?-1!==(e=Da.call(this._shortMonthsParse,
a))||-1!==(e=Da.call(this._longMonthsParse,a))?e:null:-1!==(e=Da.call(this._longMonthsParse,a))||-1!==(e=Da.call(this._shortMonthsParse,a))?e:null}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(e=0;12>e;e++)if((f=u([2E3,e]),c&&!this._longMonthsParse[e]&&(this._longMonthsParse[e]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[e]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),c||this._monthsParse[e]||
(f="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[e]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[e].test(a))||c&&"MMM"===b&&this._shortMonthsParse[e].test(a)||!c&&this._monthsParse[e].test(a))return e};ca.monthsRegex=function(b){return this._monthsParseExact?(a(this,"_monthsRegex")||nb.call(this),b?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Wc),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)};
ca.monthsShortRegex=function(b){return this._monthsParseExact?(a(this,"_monthsRegex")||nb.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Vc),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)};ca.week=function(a){return pa(a,this._week.dow,this._week.doy).week};ca.firstDayOfYear=function(){return this._week.doy};ca.firstDayOfWeek=function(){return this._week.dow};ca.weekdays=function(a,b){return b=
c(this._weekdays)?this._weekdays:this._weekdays[a&&!0!==a&&this._weekdays.isFormat.test(b)?"format":"standalone"],!0===a?Eb(b,this._week.dow):a?b[a.day()]:b};ca.weekdaysMin=function(a){return!0===a?Eb(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin};ca.weekdaysShort=function(a){return!0===a?Eb(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort};ca.weekdaysParse=function(a,b,c){var e,f;if(this._weekdaysParseExact){var k;a=a.toLocaleLowerCase();
if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;7>f;++f)k=u([2E3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(k,"").toLocaleLowerCase();return c?"dddd"===b?-1!==(e=Da.call(this._weekdaysParse,a))?e:null:"ddd"===b?-1!==(e=Da.call(this._shortWeekdaysParse,a))?e:null:-1!==(e=Da.call(this._minWeekdaysParse,
a))?e:null:"dddd"===b?-1!==(e=Da.call(this._weekdaysParse,a))||-1!==(e=Da.call(this._shortWeekdaysParse,a))||-1!==(e=Da.call(this._minWeekdaysParse,a))?e:null:"ddd"===b?-1!==(e=Da.call(this._shortWeekdaysParse,a))||-1!==(e=Da.call(this._weekdaysParse,a))||-1!==(e=Da.call(this._minWeekdaysParse,a))?e:null:-1!==(e=Da.call(this._minWeekdaysParse,a))||-1!==(e=Da.call(this._weekdaysParse,a))||-1!==(e=Da.call(this._shortWeekdaysParse,a))?e:null}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=
[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(e=0;7>e;e++)if((f=u([2E3,1]).day(e),c&&!this._fullWeekdaysParse[e]&&(this._fullWeekdaysParse[e]=new RegExp("^"+this.weekdays(f,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[e]=new RegExp("^"+this.weekdaysShort(f,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[e]=new RegExp("^"+this.weekdaysMin(f,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[e]||(f="^"+this.weekdays(f,"")+"|^"+this.weekdaysShort(f,"")+"|^"+this.weekdaysMin(f,
""),this._weekdaysParse[e]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[e].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[e].test(a)||c&&"dd"===b&&this._minWeekdaysParse[e].test(a)||!c&&this._weekdaysParse[e].test(a))return e};ca.weekdaysRegex=function(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Pa.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=dc),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:
this._weekdaysRegex)};ca.weekdaysShortRegex=function(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Pa.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Uc),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};ca.weekdaysMinRegex=function(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Pa.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):
(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pc),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};ca.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};ca.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};Ua("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=
a%10;return a+(1===G(a%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}});b.lang=J("moment.lang is deprecated. Use moment.locale instead.",Ua);b.langData=J("moment.langData is deprecated. Use moment.localeData instead.",Ra);var xb=Math.abs,db=Ab("ms"),Ba=Ab("s"),lb=Ab("m"),jc=Ab("h"),Sb=Ab("d"),kb=Ab("w"),Kb=Ab("M"),cc=Ab("Q"),mb=Ab("y"),Ga=db,vb=yb("milliseconds"),jb=yb("seconds"),ub=yb("minutes"),lc=yb("hours"),ca=yb("days"),Zc=yb("months"),Tb=yb("years"),zb=Math.round,$b={ss:44,s:45,m:45,h:22,
d:26,w:null,M:11},Ub=Math.abs,ba=ta.prototype;return ba.isValid=function(){return this._isValid},ba.abs=function(){var a=this._data;return this._milliseconds=xb(this._milliseconds),this._days=xb(this._days),this._months=xb(this._months),a.milliseconds=xb(a.milliseconds),a.seconds=xb(a.seconds),a.minutes=xb(a.minutes),a.hours=xb(a.hours),a.months=xb(a.months),a.years=xb(a.years),this},ba.add=function(a,b){return Lc(this,a,b,1)},ba.subtract=function(a,b){return Lc(this,a,b,-1)},ba.as=function(a){if(!this.isValid())return NaN;
var b,c;c=this._milliseconds;if("month"===(a=N(a))||"quarter"===a||"year"===a)switch(b=this._days+c/864E5,c=this._months+4800*b/146097,a){case "month":return c;case "quarter":return c/3;case "year":return c/12}else switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*b)+c;default:throw Error("Unknown unit "+
a);}},ba.asMilliseconds=db,ba.asSeconds=Ba,ba.asMinutes=lb,ba.asHours=jc,ba.asDays=Sb,ba.asWeeks=kb,ba.asMonths=Kb,ba.asQuarters=cc,ba.asYears=mb,ba.valueOf=Ga,ba._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,e=this._data;return 0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*Mc(146097*c/4800+b),c=b=0),e.milliseconds=a%1E3,a=ra(a/1E3),e.seconds=a%60,a=ra(a/60),e.minutes=a%60,a=ra(a/60),e.hours=a%24,b+=ra(a/24),c+=a=ra(4800*b/146097),b-=Mc(146097*a/4800),a=ra(c/12),c%=12,e.days=
b,e.months=c,e.years=a,this},ba.clone=function(){return La(this)},ba.get=function(a){return a=N(a),this.isValid()?this[a+"s"]():NaN},ba.milliseconds=vb,ba.seconds=jb,ba.minutes=ub,ba.hours=lc,ba.days=ca,ba.weeks=function(){return ra(this.days()/7)},ba.months=Zc,ba.years=Tb,ba.humanize=function(a,b){var c,e;return this.isValid()?(c=!1,e=$b,"object"==typeof a&&(b=a,a=!1),"boolean"==typeof a&&(c=a),"object"==typeof b&&(e=Object.assign({},$b,b),null!=b.s)&&null==b.ss&&(e.ss=b.s-1),a=this.localeData(),
b=Tc(this,!c,e,a),c&&(b=a.pastFuture(+this,b)),a.postformat(b)):this.localeData().invalidDate()},ba.toISOString=Wa,ba.toString=Wa,ba.toJSON=Wa,ba.locale=Ob,ba.localeData=ec,ba.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wa),ba.lang=oc,E("X",0,0,"unix"),E("x",0,0,"valueOf"),v("x",Yb),v("X",/[+-]?\d+(\.\d{1,3})?/),ea("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a))}),ea("x",function(a,b,c){c._d=new Date(G(a))}),b.version="2.30.1",Bc=fa,b.fn=
F,b.min=function(){return Ta("isBefore",[].slice.call(arguments,0))},b.max=function(){return Ta("isAfter",[].slice.call(arguments,0))},b.now=function(){return Date.now?Date.now():+new Date},b.utc=u,b.unix=function(a){return fa(1E3*a)},b.months=function(a,b){return rc(a,b,"months")},b.isDate=p,b.locale=Ua,b.invalid=Q,b.duration=La,b.isMoment=ja,b.weekdays=function(a,b,c){return yc(a,b,c,"weekdays")},b.parseZone=function(){return fa.apply(null,arguments).parseZone()},b.localeData=Ra,b.isDuration=Va,
b.monthsShort=function(a,b){return rc(a,b,"monthsShort")},b.weekdaysMin=function(a,b,c){return yc(a,b,c,"weekdaysMin")},b.defineLocale=Fb,b.updateLocale=function(a,b){var c,e;return null!=b?(e=mc,null!=wa[a]&&null!=wa[a].parentLocale?wa[a].set(K(wa[a]._config,b)):(b=K(null!=(c=pb(a))?c._config:e,b),null==c&&(b.abbr=a),(e=new D(b)).parentLocale=wa[a],wa[a]=e),Ua(a)):null!=wa[a]&&(null!=wa[a].parentLocale?(wa[a]=wa[a].parentLocale,a===Ua()&&Ua(a)):null!=wa[a]&&delete wa[a]),wa[a]},b.locales=function(){return sc(wa)},
b.weekdaysShort=function(a,b,c){return yc(a,b,c,"weekdaysShort")},b.normalizeUnits=N,b.relativeTimeRounding=function(a){return void 0===a?zb:"function"==typeof a&&(zb=a,!0)},b.relativeTimeThreshold=function(a,b){return void 0!==$b[a]&&(void 0===b?$b[a]:($b[a]=b,"s"===a&&($b.ss=b-1),!0))},b.calendarFormat=function(a,b){return-6>(a=a.diff(b,"days",!0))?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"},b.prototype=F,b.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",
DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},b});"use strict";
jQuery.base64=function(b){function c(a,b){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b));if(-1===c)throw"Cannot decode base64";return c}function f(a,b){var c=a.charCodeAt(b);if(255<c)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}return{decode:function(a){var b=0,f,l,p=a.length,q=[];a=String(a);if(0===p)return a;if(0!==p%4)throw"Cannot decode base64";"="===a.charAt(p-1)&&(b=1,"="===a.charAt(p-2)&&(b=2),p-=4);for(f=0;f<p;f+=4)l=c(a,f)<<18|c(a,
f+1)<<12|c(a,f+2)<<6|c(a,f+3),q.push(String.fromCharCode(l>>16,l>>8&255,l&255));switch(b){case 1:l=c(a,f)<<18|c(a,f+1)<<12|c(a,f+2)<<6;q.push(String.fromCharCode(l>>16,l>>8&255));break;case 2:l=c(a,f)<<18|c(a,f+1)<<12,q.push(String.fromCharCode(l>>16))}return q.join("")},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var b,c,l=[],p=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<p;b+=3)c=f(a,b)<<16|f(a,b+1)<<8|f(a,b+2),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>
18)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c&63));switch(a.length-p){case 1:c=f(a,b)<<16;l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"==");break;case 2:c=
f(a,b)<<16|f(a,b+1)<<8,l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)+"=")}return l.join("")},VERSION:"1.0"}}(jQuery);var DateFormat={};
!function(b){var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="Sun Mon Tue Wed Thu Fri Sat".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),e="January February March April May June July August September October November December".split(" "),k={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},l=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;b.format=function(){function b(a){var b,
c,e,f,k,l="";return-1!==a.indexOf(".")&&(f=a.split("."),a=f[0],l=f[f.length-1]),k=a.split(":"),3===k.length?(b=k[0],c=k[1],e=k[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),a=a.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:a,hour:b,minute:c,second:e,millis:l}):{time:"",hour:"",minute:"",second:"",millis:""}}function q(a,b){for(var c=b-String(a).length,e=0;c>e;e++)a="0"+a;return a}return{parseDate:function(a){var c,e={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==
typeof a)return this.parseDate(new Date(a));if("function"==typeof a.getFullYear)e.year=String(a.getFullYear()),e.month=String(a.getMonth()+1),e.dayOfMonth=String(a.getDate()),e.time=b(a.toTimeString()+"."+a.getMilliseconds());else if(-1!=a.search(l))c=a.split(/[T\+-]/),e.year=c[0],e.month=c[1],e.dayOfMonth=c[2],e.time=b(c[3].split(".")[0]);else switch(c=a.split(" "),6===c.length&&isNaN(c[5])&&(c[c.length]="()"),c.length){case 6:e.year=c[5];a=c[1];e.month=k[a]||a;e.dayOfMonth=c[2];e.time=b(c[3]);break;
case 2:a=c[0].split("-");e.year=a[0];e.month=a[1];e.dayOfMonth=a[2];e.time=b(c[1]);break;case 7:case 9:case 10:e.year=c[3];a=c[1];e.month=k[a]||a;e.dayOfMonth=c[2];e.time=b(c[4]);break;case 1:a=c[0].split("");e.year=a[0]+a[1]+a[2]+a[3];e.month=a[5]+a[6];e.dayOfMonth=a[8]+a[9];e.time=b(a[13]+a[14]+a[15]+a[16]+a[17]+a[18]+a[19]+a[20]);break;default:return null}return e.date=e.time?new Date(e.year,e.month-1,e.dayOfMonth,e.time.hour,e.time.minute,e.time.second,e.time.millis):new Date(e.year,e.month-1,
e.dayOfMonth),e.dayOfWeek=String(e.date.getDay()),e},date:function(b,k){try{var l=this.parseDate(b);if(null===l)return b;for(var p,u=l.year,t=l.month,V=l.dayOfMonth,ja=l.dayOfWeek,I=l.time,J=l="",aa="",H=!1,K=0;K<k.length;K++){var D=k.charAt(K),P=k.charAt(K+1);if(H)"'"==D?(J+=""===l?"'":l,l="",H=!1):l+=D;else switch(l+=D,aa="",l){case "ddd":var E=J,Z,R=ja;Z=c[parseInt(R,10)]||R;J=E+Z;l="";break;case "dd":if("d"===P)break;J+=q(V,2);l="";break;case "d":if("d"===P)break;J+=parseInt(V,10);l="";break;
case "D":V=1==V||21==V||31==V?parseInt(V,10)+"st":2==V||22==V?parseInt(V,10)+"nd":3==V||23==V?parseInt(V,10)+"rd":parseInt(V,10)+"th";J+=V;l="";break;case "MMMM":var E=J,R=t,N=parseInt(R,10)-1,J=E+(e[N]||R),l="";break;case "MMM":if("M"===P)break;var E=J,R=t,ka=parseInt(R,10)-1,J=E+(a[ka]||R),l="";break;case "MM":if("M"===P)break;J+=q(t,2);l="";break;case "M":if("M"===P)break;J+=parseInt(t,10);l="";break;case "y":case "yyy":if("y"===P)break;J+=l;l="";break;case "yy":if("y"===P)break;J+=String(u).slice(-2);
l="";break;case "yyyy":J+=u;l="";break;case "HH":J+=q(I.hour,2);l="";break;case "H":if("H"===P)break;J+=parseInt(I.hour,10);l="";break;case "hh":p=0===parseInt(I.hour,10)?12:13>I.hour?I.hour:I.hour-12;J+=q(p,2);l="";break;case "h":if("h"===P)break;p=0===parseInt(I.hour,10)?12:13>I.hour?I.hour:I.hour-12;J+=parseInt(p,10);l="";break;case "mm":J+=q(I.minute,2);l="";break;case "m":if("m"===P)break;J+=I.minute;l="";break;case "ss":J+=q(I.second.substring(0,2),2);l="";break;case "s":if("s"===P)break;J+=
I.second;l="";break;case "S":case "SS":if("S"===P)break;J+=l;l="";break;case "SSS":var v="000"+I.millis.substring(0,3),J=J+v.substring(v.length-3),l="";break;case "a":J+=12<=I.hour?"PM":"AM";l="";break;case "p":J+=12<=I.hour?"p.m.":"a.m.";l="";break;case "E":var E=J,la,R=ja;la=f[parseInt(R,10)]||R;J=E+la;l="";break;case "'":l="";H=!0;break;default:J+=D,l=""}}return J+aa}catch(Ma){return console&&console.log&&console.log(Ma),b}},prettyDate:function(a){var b,c,e;return("string"==typeof a||"number"==
typeof a)&&(b=new Date(a)),"object"==typeof a&&(b=new Date(a.toString())),c=((new Date).getTime()-b.getTime())/1E3,e=Math.floor(c/86400),isNaN(e)||0>e?void 0:60>c?"just now":120>c?"1 minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"1 hour ago":86400>c?Math.floor(c/3600)+" hours ago":1===e?"Yesterday":7>e?e+" days ago":31>e?Math.ceil(e/7)+" weeks ago":31<=e?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(a,b){return this.date(new Date(a),b||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat);
(function(b){b.format=DateFormat.format})(jQuery);
!function(b){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],b):b("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(b){function c(a){return!a||void 0!==a.allowPageScroll||void 0===a.swipe&&void 0===a.swipeStatus||(a.allowPageScroll=t),void 0!==a.click&&void 0===a.tap&&(a.tap=a.click),a||(a={}),a=b.extend({},b.fn.swipe.defaults,a),this.each(function(){var c=b(this),e=c.data(N);e||(e=new f(this,a),c.data(N,e))})}function f(c,f){function v(a){if(!(!0===
T.data(N+"_intouch")||0<b(a.target).closest(f.excludedElements,T).length)){var c=a.originalEvent?a.originalEvent:a;if(!c.pointerType||"mouse"!=c.pointerType||0!=f.fallbackToMouseEvents){var e,k=c.touches,l=k?k[0]:c;qa=H;k?na=k.length:!1!==f.preventDefaultEvents&&a.preventDefault();O=0;ta=Fa=U=null;Sa=hb=ua=0;fa=1;Ta=0;Va=Pa();Hb=Ya=0;return pa(0,l),!k||na===f.fingers||f.fingers===J||oa()?(rb=Qa(),2==na&&(pa(1,k[1]),hb=Sa=fb(ma[0].start,ma[1].start)),(f.swipeStatus||f.pinchStatus)&&(e=sa(c,qa))):e=
!1,!1===e?(qa=P,sa(c,qa),e):(f.hold&&(Pb=setTimeout(b.proxy(function(){T.trigger("hold",[c.target]);f.hold&&(e=f.hold.call(T,c,c.target))},this),f.longTapThreshold)),W(!0),null)}}}function ka(c){var v,ka,Q,w=c.originalEvent?c.originalEvent:c;if(qa!==D&&qa!==P&&!Xa()){var G;v=w.touches;var ia=Na(v?v[0]:w);La=Qa();v&&(na=v.length);f.hold&&clearTimeout(Pb);qa=K;2==na&&(0==hb?(pa(1,v[1]),hb=Sa=fb(ma[0].start,ma[1].start)):(Na(v[1]),Sa=fb(ma[0].end,ma[1].end),ta=1>fa?q:p),fa=(Sa/hb*1).toFixed(2),Ta=Math.abs(hb-
Sa));if(na===f.fingers||f.fingers===J||!v||oa()){U=za(ia.start,ia.end);G=Fa=za(ia.last,ia.end);if(!1!==f.preventDefaultEvents)if(f.allowPageScroll===t)c.preventDefault();else switch(v=f.allowPageScroll===u,G){case a:(f.swipeLeft&&v||!v&&f.allowPageScroll!=ja)&&c.preventDefault();break;case e:(f.swipeRight&&v||!v&&f.allowPageScroll!=ja)&&c.preventDefault();break;case k:(f.swipeUp&&v||!v&&f.allowPageScroll!=I)&&c.preventDefault();break;case l:(f.swipeDown&&v||!v&&f.allowPageScroll!=I)&&c.preventDefault()}G=
ia.start;c=ia.end;O=Math.round(Math.sqrt(Math.pow(c.x-G.x,2)+Math.pow(c.y-G.y,2)));ua=La-rb;G=U;c=O;G!=t&&(c=Math.max(c,Eb(G)),Va[G].distance=c);if(G=sa(w,qa),!f.triggerOnTouchEnd||f.triggerOnTouchLeave){c=!0;if(f.triggerOnTouchLeave){Q=b(this);var Y=Q.offset();c=Y.left;v=Y.left+Q.outerWidth();ka=Y.top;Q=Y.top+Q.outerHeight();ia=ia.end;c=ia.x>c&&ia.x<v&&ia.y>ka&&ia.y<Q}!f.triggerOnTouchEnd&&c?qa=Ea(K):f.triggerOnTouchLeave&&!c&&(qa=Ea(D));qa!=P&&qa!=D||sa(w,qa)}}else qa=P,sa(w,qa);!1===G&&(qa=P,sa(w,
qa))}}function ra(a){var b=a.originalEvent?a.originalEvent:a,c=b.touches;if(c){if(c.length&&!Xa())return Ya=Qa(),Hb=b.touches.length+1,!0;if(c.length&&Xa())return!0}return Xa()&&(na=Hb),La=Qa(),ua=La-rb,Ja()||!Aa()?(qa=P,sa(b,qa)):f.triggerOnTouchEnd||!1===f.triggerOnTouchEnd&&qa===K?(!1!==f.preventDefaultEvents&&!1!==a.cancelable&&a.preventDefault(),qa=D,sa(b,qa)):!f.triggerOnTouchEnd&&f.tap?(qa=D,Ia(b,qa,Q)):qa===K&&(qa=P,sa(b,qa)),W(!1),null}function G(){Sa=hb=rb=La=na=0;fa=1;Hb=Ya=0;W(!1)}function ea(a){a=
a.originalEvent?a.originalEvent:a;f.triggerOnTouchLeave&&(qa=Ea(D),sa(a,qa))}function ya(){T.unbind(Ua,v);T.unbind(Gb,G);T.unbind(Fb,ka);T.unbind(Ra,ra);qb&&T.unbind(qb,ea);W(!1)}function Ea(a){var b=a,c=!f.maxTimeThreshold||!(ua>=f.maxTimeThreshold),e=Aa(),k=Ja();return!c||k?b=P:!e||a!=K||f.triggerOnTouchEnd&&!f.triggerOnTouchLeave?!e&&a==D&&f.triggerOnTouchLeave&&(b=P):b=D,b}function sa(a,b){var c,e=a.touches;return(!(!nb()||!cb())||cb())&&(c=Ia(a,b,w)),(!(!da()||!oa())||oa())&&!1!==c&&(c=Ia(a,
b,M)),Ka()&&f.doubleTap&&!1!==c?c=Ia(a,b,Y):ua>f.longTapThreshold&&O<aa&&f.longTap&&!1!==c?c=Ia(a,b,V):!(1!==na&&E||!(isNaN(O)||O<f.threshold)||!f.tap)&&!1!==c&&(c=Ia(a,b,Q)),b===P&&G(a),b===D&&(e?e.length||G(a):G(a)),c}function Ia(c,u,v){var t;if(v==w){if(T.trigger("swipeStatus",[u,U||null,O||0,ua||0,na,ma,Fa]),f.swipeStatus&&(t=f.swipeStatus.call(T,c,u,U||null,O||0,ua||0,na,ma,Fa),!1===t))return!1;if(u==D&&nb()){if(clearTimeout(Ib),clearTimeout(Pb),T.trigger("swipe",[U,O,ua,na,ma,Fa]),f.swipe&&
(t=f.swipe.call(T,c,U,O,ua,na,ma,Fa),!1===t))return!1;switch(U){case a:T.trigger("swipeLeft",[U,O,ua,na,ma,Fa]);f.swipeLeft&&(t=f.swipeLeft.call(T,c,U,O,ua,na,ma,Fa));break;case e:T.trigger("swipeRight",[U,O,ua,na,ma,Fa]);f.swipeRight&&(t=f.swipeRight.call(T,c,U,O,ua,na,ma,Fa));break;case k:T.trigger("swipeUp",[U,O,ua,na,ma,Fa]);f.swipeUp&&(t=f.swipeUp.call(T,c,U,O,ua,na,ma,Fa));break;case l:T.trigger("swipeDown",[U,O,ua,na,ma,Fa]),f.swipeDown&&(t=f.swipeDown.call(T,c,U,O,ua,na,ma,Fa))}}}if(v==M){if(T.trigger("pinchStatus",
[u,ta||null,Ta||0,ua||0,na,fa,ma]),f.pinchStatus&&(t=f.pinchStatus.call(T,c,u,ta||null,Ta||0,ua||0,na,fa,ma),!1===t))return!1;if(u==D&&da())switch(ta){case p:T.trigger("pinchIn",[ta||null,Ta||0,ua||0,na,fa,ma]);f.pinchIn&&(t=f.pinchIn.call(T,c,ta||null,Ta||0,ua||0,na,fa,ma));break;case q:T.trigger("pinchOut",[ta||null,Ta||0,ua||0,na,fa,ma]),f.pinchOut&&(t=f.pinchOut.call(T,c,ta||null,Ta||0,ua||0,na,fa,ma))}}return v==Q?u!==P&&u!==D||(clearTimeout(Ib),clearTimeout(Pb),f.doubleTap&&!Ka()?(tb=Qa(),Ib=
setTimeout(b.proxy(function(){tb=null;T.trigger("tap",[c.target]);f.tap&&(t=f.tap.call(T,c,c.target))},this),f.doubleTapThreshold)):(tb=null,T.trigger("tap",[c.target]),f.tap&&(t=f.tap.call(T,c,c.target)))):v==Y?u!==P&&u!==D||(clearTimeout(Ib),clearTimeout(Pb),tb=null,T.trigger("doubletap",[c.target]),f.doubleTap&&(t=f.doubleTap.call(T,c,c.target))):v==V&&(u!==P&&u!==D||(clearTimeout(Ib),tb=null,T.trigger("longtap",[c.target]),f.longTap&&(t=f.longTap.call(T,c,c.target)))),t}function Aa(){var a=!0;
return null!==f.threshold&&(a=O>=f.threshold),a}function Ja(){var a=!1;return null!==f.cancelThreshold&&null!==U&&(a=Eb(U)-O>=f.cancelThreshold),a}function da(){var a=0!==ma[0].end.x,b=null===f.pinchThreshold||Ta>=f.pinchThreshold;return(na===f.fingers||f.fingers===J||!E)&&a&&b}function oa(){return!!(f.pinchStatus||f.pinchIn||f.pinchOut)}function nb(){var a=!f.maxTimeThreshold||!(ua>=f.maxTimeThreshold),b=Aa(),c=na===f.fingers||f.fingers===J||!E,e=0!==ma[0].end.x;return!Ja()&&e&&c&&b&&a}function cb(){return!!(f.swipe||
f.swipeStatus||f.swipeLeft||f.swipeRight||f.swipeUp||f.swipeDown)}function Ka(){if(null==tb)return!1;var a=Qa();return!!f.doubleTap&&a-tb<=f.doubleTapThreshold}function Xa(){var a=!1;Ya&&Qa()-Ya<=f.fingerReleaseThreshold&&(a=!0);return a}function W(a){T&&(!0===a?(T.bind(Fb,ka),T.bind(Ra,ra),qb&&T.bind(qb,ea)):(T.unbind(Fb,ka,!1),T.unbind(Ra,ra,!1),qb&&T.unbind(qb,ea,!1)),T.data(N+"_intouch",!0===a))}function pa(a,b){var c={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return c.start.x=c.last.x=c.end.x=
b.pageX||b.clientX,c.start.y=c.last.y=c.end.y=b.pageY||b.clientY,ma[a]=c,c}function Na(a){var b=void 0!==a.identifier?a.identifier:0,c=ma[b]||null;return null===c&&(c=pa(b,a)),c.last.x=c.end.x,c.last.y=c.end.y,c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function Eb(a){if(Va[a])return Va[a].distance}function Pa(){var b={};return b[a]=ob(a),b[e]=ob(e),b[k]=ob(k),b[l]=ob(l),b}function ob(a){return{direction:a,distance:0}}function fb(a,b){var c=Math.abs(a.x-b.x),e=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*
c+e*e))}function za(b,c){if(b.x==c.x&&b.y==c.y)return t;var f,p=Math.round(180*Math.atan2(c.y-b.y,b.x-c.x)/Math.PI);f=(0>p&&(p=360-Math.abs(p)),p);return 45>=f&&0<=f?a:360>=f&&315<=f?a:135<=f&&225>=f?e:45<f&&135>f?l:k}function Qa(){return(new Date).getTime()}f=b.extend({},f);var pb=E||R||!f.fallbackToMouseEvents,Ua=pb?R?Z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Fb=pb?R?Z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ra=pb?R?Z?"MSPointerUp":"pointerup":"touchend":"mouseup",qb=
pb?R?"mouseleave":null:"mouseleave",Gb=R?Z?"MSPointerCancel":"pointercancel":"touchcancel",O=0,U=null,Fa=null,ua=0,hb=0,Sa=0,fa=1,Ta=0,ta=0,Va=null,T=b(c),qa="start",na=0,ma={},rb=0,La=0,Ya=0,Hb=0,tb=0,Ib=null,Pb=null;try{T.bind(Ua,v),T.bind(Gb,G)}catch(ia){b.error("events not supported "+Ua+","+Gb+" on jQuery.swipe")}this.enable=function(){return this.disable(),T.bind(Ua,v),T.bind(Gb,G),T};this.disable=function(){return ya(),T};this.destroy=function(){ya();T.data(N,null);T=null};this.option=function(a,
c){if("object"==typeof a)f=b.extend(f,a);else if(void 0!==f[a]){if(void 0===c)return f[a];f[a]=c}else{if(!a)return f;b.error("Option "+a+" does not exist on jQuery.swipe.options")}return null}}var a="left",e="right",k="up",l="down",p="in",q="out",t="none",u="auto",w="swipe",M="pinch",Q="tap",Y="doubletap",V="longtap",ja="horizontal",I="vertical",J="all",aa=10,H="start",K="move",D="end",P="cancel",E="ontouchstart"in window,Z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!E,R=
(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!E,N="TouchSwipe";b.fn.swipe=function(a){var e=b(this),f=e.data(N);if(f&&"string"==typeof a){if(f[a])return f[a].apply(f,Array.prototype.slice.call(arguments,1));b.error("Method "+a+" does not exist on jQuery.swipe")}else if(f&&"object"==typeof a)f.option.apply(f,arguments);else if(!(f||"object"!=typeof a&&a))return c.apply(this,arguments);return e};b.fn.swipe.version="1.6.18";b.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,
pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};b.fn.swipe.phases={PHASE_START:H,PHASE_MOVE:K,PHASE_END:D,
PHASE_CANCEL:P};b.fn.swipe.directions={LEFT:a,RIGHT:e,UP:k,DOWN:l,IN:p,OUT:q};b.fn.swipe.pageScroll={NONE:t,HORIZONTAL:ja,VERTICAL:I,AUTO:u};b.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:J}});
(function(b){if("function"===typeof define&&define.amd)define(["leaflet"],b);else if("undefined"!==typeof module)module.exports=b(require("leaflet"));else{if("undefined"===typeof window.L)throw Error("Leaflet must be loaded first");b(window.L)}})(function(b){b.Control.PolylineMeasure=b.Control.extend({options:{bearingTextIn:"In",bearingTextOut:"Out",bindTooltipText:"Click and drag to <b>move point</b><br>Press CTRL-key and click to <b>resume line</b>",changeUnitsText:"Change Units",position:"topleft",
unit:"metres",showBearings:!1,measureControlTitleOn:"Turn on PolylineMeasure",measureControlTitleOff:"Turn off PolylineMeasure",measureControlLabel:"&#8614;",measureControlClasses:[],backgroundColor:"#8f8",cursor:"crosshair",clearMeasurementsOnStop:!0,showMeasurementsClearControl:!1,clearControlTitle:"Clear Measurements",clearControlLabel:"&times;",clearControlClasses:[],showUnitControl:!1,tempLine:{color:"#00f",weight:2},fixedLine:{color:"#006",weight:2},startCircle:{color:"#000",weight:1,fillColor:"#0f0",
fillOpacity:1,radius:3},intermedCircle:{color:"#000",weight:1,fillColor:"#ff0",fillOpacity:1,radius:3},currentCircle:{color:"#000",weight:1,fillColor:"#f0f",fillOpacity:1,radius:6},endCircle:{color:"#000",weight:1,fillColor:"#f00",fillOpacity:1,radius:3}},_createControl:function(c,f,a,e,k,l){var p=document.createElement("a");p.innerHTML=c;p.setAttribute("title",f);a.forEach(function(a){p.classList.add(a)});b.DomEvent.on(p,"click",k,l);e.appendChild(p);return p},onAdd:function(c){this._container=document.createElement("div");
this._container.classList.add("leaflet-bar");b.DomEvent.disableClickPropagation(this._container);c=this.options.measureControlTitleOn;var f=this.options.measureControlLabel,a=this.options.measureControlClasses;-1!=f.indexOf("&")&&a.push("polyline-measure-unicode-icon");this.gdata={layers:{}};this.jsongdata=this.shareLink="";this._arrPolylines=[];this._measureControl=this._createControl(f,c,a,this._container,this._toggleMeasure,this);this._measureControl.setAttribute("id","polyline-measure-control");
this.options.showMeasurementsClearControl&&(c=this.options.clearControlTitle,f=this.options.clearControlLabel,a=this.options.clearControlClasses,-1!=f.indexOf("&")&&a.push("polyline-measure-unicode-icon"),this._clearMeasureControl=this._createControl(f,c,a,this._container,this._clearAllMeasurements,this),this._clearMeasureControl.classList.add("polyline-measure-clearControl"));this.options.showUnitControl&&(c=this.options.changeUnitsText+" ["+this.options.unit+"]",f="metres"==this.options.unit?"m":
"landmiles"==this.options.unit?"mi":"nm",a=[],this._unitControl=this._createControl(f,c,a,this._container,this._changeUnit,this),this._unitControl.setAttribute("id","unitControlId"));this._actionsContainer=b.DomUtil.create("ul","leaflet-draw-actions");li=b.DomUtil.create("li","",this._actionsContainer);this._share=this._createButton({title:"Share your vision",text:"Share",container:li,callback:this._doShare});this._share.style.display="block";this._container.appendChild(this._actionsContainer);this._layerPaint||
(this._layerPaint=b.layerGroup().addTo(this._map));return this._container},_createButton:function(c){var f=b.DomUtil.create("a",c.className||"",c.container);f.href="#";c.text&&(f.innerHTML=c.text);c.title&&(f.title=c.title);b.DomEvent.on(f,"click",b.DomEvent.stopPropagation).on(f,"mousedown",b.DomEvent.stopPropagation).on(f,"dblclick",b.DomEvent.stopPropagation).on(f,"click",b.DomEvent.preventDefault).on(f,"click",c.callback,this);return f},_drawPopup:function(){$(".popup-box-measure").remove();var b=
'<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Url to share</h2><div class="popup-head-r"><label>Tell friends</label><a class="facebook-icon fb_sharemap" href="#"></a><a class="twitter-icon twi_sharemap" href="#"></a><a class="close_measure" href="#"></a></div></div><div class="popup-text"><input class="popup-input-measure" readonly type="text" value="'+this.shareLink+'"></div></div></div>';$("body").prepend(b)},_doShare:function(){this.gdata.resource=
resource_id;this.gdata.fv_first=$(".event").data("id");this.gdata.fv_last=$(".event:last").data("id");this.gdata.map_center=map.getCenter();this.gdata.globaltime=globaltime;this.gdata.curid=curid;this.gdata.zoom=map.getZoom();var b=drawnItems.getLayers();this.gdata.areas={};for(var f=0;f<b.length;f++)this.gdata.areas["layname_"+b[f]._leaflet_id]={latlngs:b[f].getLatLngs()[0],color:b[f].options.color};if(JSON.stringify(this.gdata)!=this.jsongdata){this.jsongdata=JSON.stringify(this.gdata);var a=this;
$.ajax({url:wwwpath+"ajax/do?act=shareMap",context:document.body,type:"POST",dataType:"JSON",data:"gdata="+this.jsongdata}).done(function(b){void 0!=b.link&&(a.shareLink=b.link,a._drawPopup())})}else this._drawPopup()},onRemove:function(){this._measuring&&this._toggleMeasure()},_toggleMeasure:function(){if(isDrawActived&&!this._measuring)showMeasureBadPopup();else if(this._measuring=!this._measuring)this._measureControl.style.backgroundColor=this.options.backgroundColor,this._measureControl.title=
this.options.measureControlTitleOff,this._oldCursor=this._map._container.style.cursor,this._map._container.style.cursor=this.options.cursor,this._doubleClickZoom=this._map.doubleClickZoom.enabled(),this._map.doubleClickZoom.disable(),this._layerPaint||(this._layerPaint=b.layerGroup().addTo(this._map)),this._map.on("mousemove",this._mouseMove,this),this._map.on("click",this._mouseClick,this),b.DomEvent.on(document,"keydown",this._onKeyDown,this),this._resetPathVariables(),isDrawActived=!0,this._actionsContainer.style.display=
"block";else{this._measureControl.removeAttribute("style");this._measureControl.title=this.options.measureControlTitleOn;this._map._container.style.cursor=this._oldCursor;this._map.off("mousemove",this._mouseMove,this);this._map.off("click",this._mouseClick,this);b.DomEvent.off(document,"keydown",this._onKeyDown,this);this._doubleClickZoom&&this._map.doubleClickZoom.enable();this.options.clearMeasurementsOnStop&&this._layerPaint&&this._clearAllMeasurements();0!==this._cntCircle&&this._finishPolylinePath();
var c=!1;confirm("Clear map?")&&(c=!0);this.gdata={layers:{}};c&&(this._clearAllMeasurements(),this.drawPoints());isDrawActived=!1;this._actionsContainer.style.display="none"}},drawPoints:function(){if(2<lineyka.length){var c=JSON.parse(lineyka);this.gdata.layers=c;for(var f in c)for(ll in c[f]){var a=b.latLng(c[f][ll]);this._currentLine||this._startLine(a);this._currentLine.addPoint(a);"undefined"==typeof c[f][1*ll+1]&&this._currentLine.finalize()}}},_clearAllMeasurements:function(){void 0!==this._cntCircle&&
0!==this._cntCircle&&this._finishPolylinePath();this._layerPaint&&this._layerPaint.clearLayers();this._arrPolylines=[]},_changeUnit:function(){"metres"==this.options.unit?(this.options.unit="landmiles",document.getElementById("unitControlId").innerHTML="mi"):"landmiles"==this.options.unit?(this.options.unit="nauticalmiles",document.getElementById("unitControlId").innerHTML="nm"):(this.options.unit="metres",document.getElementById("unitControlId").innerHTML="m");this._unitControl.title=this.options.changeUnitsText+
" ["+this.options.unit+"]";this._arrPolylines.map(function(b){var c=0;b.circleCoords.map(function(a,e){if(1<=e){var f=b.circleCoords[e-1].distanceTo(b.circleCoords[e]);c+=f;this._updateTooltip(b.tooltips[e],b.tooltips[e-1],c,f,b.circleCoords[e-1],b.circleCoords[e])}}.bind(this))}.bind(this))},_onKeyDown:function(b){27===b.keyCode&&(this._currentLine?this._finishPolylinePath(b):this._toggleMeasure())},_getDistance:function(b){"nauticalmiles"===this.options.unit?(unit="nm",1852E3<=b?b=(b/1852).toFixed(0):
185200<=b?b=(b/1852).toFixed(1):1852<=b?b=(b/1852).toFixed(2):(b=(b/.3048).toFixed(0),unit="ft")):"landmiles"===this.options.unit?(unit="mi",1609344<=b?b=(b/1609.344).toFixed(0):160934.4<=b?b=(b/1609.344).toFixed(1):1609.344<=b?b=(b/1609.344).toFixed(2):(b=(b/.3048).toFixed(0),unit="ft")):(unit="km",1E6<=b?b=(b/1E3).toFixed(0):1E5<=b?b=(b/1E3).toFixed(1):1E3<=b?b=(b/1E3).toFixed(2):(b=b.toFixed(1),unit="m"));return{value:b,unit:unit}},_polylineArc:function(b,f){function a(a){function b(a){return Math[0<
a?"floor":"ceil"](a)}A=Math.sin((1-a)*d)/Math.sin(d);B=Math.sin(a*d)/Math.sin(d);x=A*Math.cos(k)*Math.cos(l)+B*Math.cos(p)*Math.cos(q);y=A*Math.cos(k)*Math.sin(l)+B*Math.cos(p)*Math.sin(q);z=A*Math.sin(k)+B*Math.sin(p);latInterpol=180/Math.PI*Math.atan2(z,Math.sqrt(Math.pow(x,2)+Math.pow(y,2)));lngInterpol=180/Math.PI*Math.atan2(y,x);diff=lngInterpol-180*l/Math.PI;lngInterpol=0>diff?lngInterpol-360*b((diff-180)/360):lngInterpol-360*b((diff+180)/360);return[latInterpol,lngInterpol]}function c(b){arrArcCoords=
[];for(var c=1/(b-1),e=0;e<b;e++){var f=a(c*e);arrArcCoords.push(f)}return arrArcCoords}var k=b.lat,l=b.lng,p=f.lat,q=f.lng,k=k*Math.PI/180,l=l*Math.PI/180,p=p*Math.PI/180,q=q*Math.PI/180;d=2*Math.asin(Math.sqrt(Math.pow(Math.sin((k-p)/2),2)+Math.cos(k)*Math.cos(p)*Math.pow(Math.sin((l-q)/2),2)));0===d?arrLatLngs=[[k,l]]:(arcpoints=100,arrLatLngs=c(arcpoints));return arrLatLngs},_updateTooltip:function(b,f,a,e,k,l){calcAngle=function(a,b,c){var e=a.lat/180*Math.PI,f=b.lat/180*Math.PI;a=a.lng/180*
Math.PI;var k=b.lng/180*Math.PI;b=Math.sin(k-a)*Math.cos(f);e=Math.cos(e)*Math.sin(f)-Math.sin(e)*Math.cos(f)*Math.cos(k-a);return("inbound"===c?(180*Math.atan2(b,e)/Math.PI+180).toFixed(0):(180*Math.atan2(b,e)/Math.PI+360).toFixed(0))%360};var c=calcAngle(l,k,"inbound");k=calcAngle(k,l,"outbound");a=this._getDistance(a);e=this._getDistance(e);l="";var q=(.621371*a.value).toFixed(1);0<e.value&&(!0===this.options.showBearings&&(l=this.options.bearingTextIn+": "+c+"\u00b0<br>"+this.options.bearingTextOut+
":---\u00b0"),l+='<div class="polyline-measure-tooltip-difference">+'+e.value+"&nbsp;"+e.unit+"</div>");l+='<div class="polyline-measure-tooltip-total">'+a.value+"&nbsp;"+a.unit+"</div>";b._icon.innerHTML=l+('<div class="polyline-measure-tooltip-mil">'+q+"&nbsp;mi</div>");!0===this.options.showBearings&&f&&(textPrev=f._icon.innerHTML,textReplace=textPrev.replace(new RegExp(this.options.bearingTextOut+".*\u00b0"),this.options.bearingTextOut+": "+k+"\u00b0"),f._icon.innerHTML=textReplace)},_drawArrow:function(c){var f=
c[48],a=c[49];c=a[1]-f[1];a=a[0]-f[0];f=[f[0]+a/2,f[1]+c/2];iconArrow=b.divIcon({className:"",iconSize:[16,16],iconAnchor:[8,8],html:"<div style = 'font-size: 16px; line-height: 16px; vertical-align:top; transform: rotate("+57.29578*-Math.atan2(a,c)+"deg)'>&#x27a4;</div>"});return b.marker(f,{icon:iconArrow}).addTo(this._layerPaint)},_mouseMove:function(b){b=b.latlng;this._map.on("click",this._mouseClick,this);if(b&&this._currentLine){var c=this._currentLine.circleCoords.last();this._rubberlinePath.setLatLngs(this._polylineArc(c,
b));var a=this._currentLine.tooltips.last(),e=this._currentLine.tooltips.slice(-2,-1)[0];a.setLatLng(b);var k=b.distanceTo(c);this._updateTooltip(a,e,this._currentLine.distance+k,k,c,b)}},_startLine:function(c){var f=b.divIcon({className:"polyline-measure-tooltip",iconAnchor:[-4,-4]}),a=function(){return this.slice(-1)[0]};this._rubberlinePath=b.polyline([],{color:this.options.tempLine.color,weight:this.options.tempLine.weight,interactive:!1,dashArray:"8,8"}).addTo(this._layerPaint).bringToBack();
var e=this;this._currentLine={id:0,circleCoords:[],circleMarkers:[],arrowMarkers:[],tooltips:[],distance:0,polylinePath:b.polyline([],{color:this.options.fixedLine.color,weight:this.options.fixedLine.weight,interactive:!1}).addTo(this._layerPaint).bringToBack(),handleMarkers:function(a){var c=this.circleMarkers.last();c&&(c.off("click",e._finishPolylinePath,e),1===this.circleMarkers.length?c.setStyle(e.options.startCircle):c.setStyle(e.options.intermedCircle));a=(new b.CircleMarker(a,e.options.currentCircle)).addTo(e._layerPaint);
a.cntLine=e._currentLine.id;a.cntCircle=e._cntCircle;e._cntCircle++;a.on("mousedown",e._dragCircle,e);a.on("click",e._finishPolylinePath,e);this.circleMarkers.push(a)},getNewToolTip:function(a){return b.marker(a,{icon:f,interactive:!1})},addPoint:function(a){var b=this.circleCoords.last();if(!b||!b.equals(a)){this.circleCoords.push(a);if(1<this.circleCoords.length){var c=e._polylineArc(b,a);2<this.circleCoords.length&&c.shift();this.polylinePath.setLatLngs(this.polylinePath.getLatLngs().concat(c));
c=e._drawArrow(c);e._currentLine.arrowMarkers.push(c);distanceSegment=b.distanceTo(a);this.distance+=distanceSegment;var c=e._currentLine.tooltips.last(),f=e._currentLine.tooltips.slice(-1,-2)[0];e._updateTooltip(c,f,this.distance,distanceSegment,b,a)}c&&c.setLatLng(a);b=this.getNewToolTip(a);b.addTo(e._layerPaint);this.tooltips.push(b);this.handleMarkers(a)}},finalize:function(){e._layerPaint.removeLayer(this.tooltips.last());this.tooltips.pop();e._layerPaint.removeLayer(e._rubberlinePath);if(1<
this.circleCoords.length){this.tooltips.last()._icon.classList.add("polyline-measure-tooltip-end");var a=this.circleMarkers.last();a.setStyle(e.options.endCircle);a.bindTooltip(e.options.bindTooltipText,{direction:"top",opacity:.7,className:"polyline-measure-popupTooltip"});a.off("click",e._finishPolylinePath,e);a.on("click",e._resumePolylinePath,e);e._arrPolylines.push(this)}else e._layerPaint.removeLayer(this.circleMarkers.last());e._resetPathVariables()}};firstTooltip=b.marker(c,{icon:f,interactive:!1});
!0===this.options.showBearings&&(firstTooltip.addTo(this._layerPaint),text=this.options.bearingTextIn+":---\u00b0<br>"+this.options.bearingTextOut+":---\u00b0",firstTooltip._icon.innerHTML=text);this._currentLine.tooltips.push(firstTooltip);this._currentLine.circleCoords.last=a;this._currentLine.tooltips.last=a;this._currentLine.circleMarkers.last=a;this._currentLine.id=this._arrPolylines.length},_mouseClick:function(b){!b.latlng||this._finishCircleScreencoords&&this._finishCircleScreencoords.equals(b.containerPoint)||
(this._currentLine||this._startLine(b.latlng),this._currentLine.addPoint(b.latlng))},_finishPolylinePath:function(b){this.gdata.layers["layname_"+this._currentLine.polylinePath._leaflet_id]=this._currentLine.circleCoords;this._currentLine.finalize();b&&(this._finishCircleScreencoords=b.containerPoint)},_resumePolylinePath:function(c){this._measuring&&!0===c.originalEvent.ctrlKey&&(this._currentLine=this._arrPolylines[c.target.cntLine],this._rubberlinePath=b.polyline([],{color:this.options.tempLine.color,
weight:this.options.tempLine.weight,interactive:!1,dashArray:"8,8"}).addTo(this._layerPaint).bringToBack(),this._currentLine.tooltips.last()._icon.classList.remove("polyline-measure-tooltip-end"),c=this._currentLine.getNewToolTip(c.latlng),c.addTo(this._layerPaint),this._currentLine.tooltips.push(c),this._currentLine.circleMarkers.last().unbindTooltip(),this._currentLine.circleMarkers.last().setStyle(this.options.currentCircle),this._cntCircle=this._currentLine.circleCoords.length)},_resetPathVariables:function(){this._cntCircle=
0;this._currentLine=null},_dragCircleMouseup:function(){this._e1.target.bindTooltip(this.options.bindTooltipText,{direction:"top",opacity:.7,className:"polyline-measure-popupTooltip"});this._resetPathVariables();this._map.off("mousemove",this._dragCircleMousemove,this);this._map.dragging.enable();this._map.on("mousemove",this._mouseMove,this);this._map.off("mouseup",this._dragCircleMouseup,this)},_dragCircleMousemove:function(c){c=b.latLng(this._circleStartingLat+(c.latlng.lat-this._mouseStartingLat),
this._circleStartingLng+(c.latlng.lng-this._mouseStartingLng));lineNr=this._e1.target.cntLine;circleNr=this._e1.target.cntCircle;this._e1.target.setLatLng(c);this._e1.target.unbindTooltip();this._arrPolylines[lineNr].circleCoords[circleNr]=c;lineCoords=this._arrPolylines[lineNr].polylinePath.getLatLngs();1<=circleNr&&(newLineSegment1=this._polylineArc(this._arrPolylines[lineNr].circleCoords[circleNr-1],c),Array.prototype.splice.apply(lineCoords,[(circleNr-1)*(arcpoints-1),arcpoints].concat(newLineSegment1)),
arrowMarker=this._drawArrow(newLineSegment1),this._arrPolylines[lineNr].arrowMarkers[circleNr-1].removeFrom(this._layerPaint),this._arrPolylines[lineNr].arrowMarkers[circleNr-1]=arrowMarker);circleNr<this._arrPolylines[lineNr].circleCoords.length-1&&(newLineSegment2=this._polylineArc(c,this._arrPolylines[lineNr].circleCoords[circleNr+1]),Array.prototype.splice.apply(lineCoords,[circleNr*(arcpoints-1),arcpoints].concat(newLineSegment2)),arrowMarker=this._drawArrow(newLineSegment2),this._arrPolylines[lineNr].arrowMarkers[circleNr].removeFrom(this._layerPaint),
this._arrPolylines[lineNr].arrowMarkers[circleNr]=arrowMarker);this._arrPolylines[lineNr].polylinePath.setLatLngs(lineCoords);0<=circleNr&&this._arrPolylines[lineNr].tooltips[circleNr].setLatLng(c);var f=0;this._arrPolylines[lineNr].tooltips.map(function(a,b){if(1<=b){var c=this._arrPolylines[lineNr].circleCoords[b-1].distanceTo(this._arrPolylines[lineNr].circleCoords[b]),e=this._arrPolylines[lineNr].circleCoords[b-1],p=this._arrPolylines[lineNr].circleCoords[b];f+=c;if(1<=b)var q=this._arrPolylines[lineNr].tooltips[b-
1];this._updateTooltip(a,q,f,c,e,p)}}.bind(this));this._map.on("mouseup",this._dragCircleMouseup,this)},_dragCircle:function(b){b.originalEvent.ctrlKey||(this._e1=b,this._measuring&&0===this._cntCircle&&(this._map.dragging.disable(),this._map.off("mousemove",this._mouseMove,this),this._map.off("click",this._mouseClick,this),this._mouseStartingLat=b.latlng.lat,this._mouseStartingLng=b.latlng.lng,this._circleStartingLat=b.target._latlng.lat,this._circleStartingLng=b.target._latlng.lng,this._map.on("mousemove",
this._dragCircleMousemove,this)))}});b.Map.mergeOptions({PolylineMeasureControl:!1});b.Map.addInitHook(function(){this.options.polylineMeasureControl&&(this.PMControl=new b.Control.PolylineMeasure,this.addControl(this.PMControl))});b.control.polylineMeasure=function(c){return new b.Control.PolylineMeasure(c)}});
(function(b){var c={i18n:{ru:{months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),dayOfWeek:"\u0412\u0441\u043a \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},
en:{months:"January February March April May June July August September October November December".split(" "),dayOfWeek:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},de:{months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),dayOfWeek:"So Mo Di Mi Do Fr Sa".split(" ")},nl:{months:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),dayOfWeek:"zo ma di wo do vr za".split(" ")},tr:{months:"Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),
dayOfWeek:"Paz Pts Sal \u00c7ar Per Cum Cts".split(" ")},fr:{months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),dayOfWeek:"Dim Lun Mar Mer Jeu Ven Sam".split(" ")},es:{months:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),dayOfWeek:"Dom Lun Mar Mi\u00e9 Jue Vie S\u00e1b".split(" ")},th:{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
dayOfWeek:"\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" ")},pl:{months:"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),dayOfWeek:"nd pn wt \u015br cz pt sb".split(" ")},pt:{months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),dayOfWeek:"Dom Seg Ter Qua Qui Sex Sab".split(" ")},ch:{months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
dayOfWeek:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")},se:{months:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),dayOfWeek:"S\u00f6n M\u00e5n Tis Ons Tor Fre L\u00f6r".split(" ")},kr:{months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayOfWeek:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")},it:{months:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
dayOfWeek:"Dom Lun Mar Mer Gio Ven Sab".split(" ")},da:{months:"January Februar Marts April Maj Juni July August September Oktober November December".split(" "),dayOfWeek:"S\u00f8n Man Tir ons Tor Fre l\u00f8r".split(" ")},ja:{months:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),dayOfWeek:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split("")},vi:{months:"Th\u00e1ng 1;Th\u00e1ng 2;Th\u00e1ng 3;Th\u00e1ng 4;Th\u00e1ng 5;Th\u00e1ng 6;Th\u00e1ng 7;Th\u00e1ng 8;Th\u00e1ng 9;Th\u00e1ng 10;Th\u00e1ng 11;Th\u00e1ng 12".split(";"),
dayOfWeek:"CN T2 T3 T4 T5 T6 T7".split(" ")}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,closeOnDateSelect:!1,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,
hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){for(var c=a||0,f=this.length;c<f;c++)if(this[c]===b)return c;return-1});b.fn.xdsoftScroller=function(c){return this.each(function(){var a=
b(this);if(!b(this).hasClass("xdsoft_scroller_box")){var e=function(a){var b={x:0,y:0};if("touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type)a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b.x=a.pageX,b.y=a.pageY;else if("mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)b.x=a.pageX,b.y=a.pageY;return b},f=0,l=a.children().eq(0),p=a[0].clientHeight,q=l[0].offsetHeight,
t=b('<div class="xdsoft_scrollbar"></div>'),u=b('<div class="xdsoft_scroller"></div>'),w=100,M=!1;t.append(u);a.addClass("xdsoft_scroller_box").append(t);u.on("mousedown.xdsoft_scroller",function(e){p||a.trigger("resize_scroll.xdsoft_scroller",[c]);var k=e.pageY,l=parseInt(u.css("margin-top")),q=t[0].offsetHeight;b(document.body).addClass("xdsoft_noselect");b([document.body,window]).on("mouseup.xdsoft_scroller",function J(){b([document.body,window]).off("mouseup.xdsoft_scroller",J).off("mousemove.xdsoft_scroller",
f).removeClass("xdsoft_noselect")});b(document.body).on("mousemove.xdsoft_scroller",f=function(b){b=b.pageY-k+l;0>b&&(b=0);b+u[0].offsetHeight>q&&(b=q-u[0].offsetHeight);a.trigger("scroll_element.xdsoft_scroller",[w?b/w:0])})});a.on("scroll_element.xdsoft_scroller",function(b,c){p||a.trigger("resize_scroll.xdsoft_scroller",[c,!0]);c=1<c?1:0>c||isNaN(c)?0:c;u.css("margin-top",w*c);l.css("marginTop",-parseInt((q-p)*c))}).on("resize_scroll.xdsoft_scroller",function(b,c,e){p=a[0].clientHeight;q=l[0].offsetHeight;
b=p/q;var f=b*t[0].offsetHeight;1<b?u.hide():(u.show(),u.css("height",parseInt(10<f?f:10)),w=t[0].offsetHeight-u[0].offsetHeight,!0!==e&&a.trigger("scroll_element.xdsoft_scroller",[c?c:Math.abs(parseInt(l.css("marginTop")))/(q-p)]))});a.mousewheel&&a.mousewheel(function(b,c,e,f){e=Math.abs(parseInt(l.css("marginTop")));a.trigger("scroll_element.xdsoft_scroller",[(e-20*c)/(q-p)]);b.stopPropagation();return!1});a.on("touchstart",function(a){M=e(a)});a.on("touchmove",function(b){if(M){var c=e(b),f=Math.abs(parseInt(l.css("marginTop")));
a.trigger("scroll_element.xdsoft_scroller",[(f-(c.y-M.y))/(q-p)]);b.stopPropagation();b.preventDefault()}});a.on("touchend touchcancel",function(a){M=!1})}a.trigger("resize_scroll.xdsoft_scroller",[c])})};b.fn.datetimepicker=function(f){var a=!1,e=b.isPlainObject(f)||!f?b.extend(!0,{},c,f):b.extend({},c),k=0,l=function(a){a.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function u(b){a.is(":disabled")||a.is(":hidden")||!a.is(":visible")||a.data("xdsoft_datetimepicker")||(clearTimeout(k),k=setTimeout(function(){a.data("xdsoft_datetimepicker")||
p(a);a.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",u).trigger("open.xdsoft")},100))})},p=function(c){function f(){var a=e.value?e.value:c&&c.val&&c.val()?c.val():"";a&&D.isValidDate(a=Date.parseDate(a,e.format))?k.data("changed",!0):a="";a||!1===e.startDate||(a=D.strToDateTime(e.startDate));return a?a:0}var k=b("<div "+(e.id?'id="'+e.id+'"':"")+" "+(e.style?'style="'+e.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+e.className+'"></div>'),l=b('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),
p=b('<div class="xdsoft_datepicker active"></div>'),q=b('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),Y=b('<div class="xdsoft_calendar"></div>'),V=b('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),
ja=V.find(".xdsoft_time_box").eq(0),I=b('<div class="xdsoft_time_variant"></div>'),J=b('<div class="xdsoft_scrollbar"></div>');b('<div class="xdsoft_scroller"></div>');var aa=b('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),H=b('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');q.find(".xdsoft_month span").after(aa);q.find(".xdsoft_year span").after(H);q.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(a){q.find(".xdsoft_select").hide();var c=b(this).find(".xdsoft_select").eq(0),
e=0,f=0;D.currentTime&&(e=D.currentTime[b(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]());c.show();for(var k=c.find("div.xdsoft_option"),l=0;l<k.length&&k.eq(l).data("value")!=e;l++)f+=k[0].offsetHeight;c.xdsoftScroller(f/(c.children()[0].offsetHeight-c[0].clientHeight));a.stopPropagation();return!1});q.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(a){a.stopPropagation();a.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(a){if(D&&D.currentTime)D.currentTime[b(this).parent().parent().hasClass("xdsoft_monthselect")?
"setMonth":"setFullYear"](b(this).data("value"));b(this).parent().parent().hide();k.trigger("xchange.xdsoft");e.onChangeMonth&&e.onChangeMonth.call&&e.onChangeMonth.call(k,D.currentTime,k.data("input"))});k.setOptions=function(f){e=b.extend(!0,{},e,f);f.allowTimes&&b.isArray(f.allowTimes)&&f.allowTimes.length&&(e.allowTimes=b.extend(!0,[],f.allowTimes));f.weekends&&b.isArray(f.weekends)&&f.weekends.length&&(e.weekends=b.extend(!0,[],f.weekends));!e.open&&!e.opened||e.inline||c.trigger("open.xdsoft");
e.inline&&(k.addClass("xdsoft_inline"),c.after(k).hide(),k.trigger("afterOpen.xdsoft"));e.inverseButton&&(e.next="xdsoft_prev",e.prev="xdsoft_next");e.datepicker?p.addClass("active"):p.removeClass("active");e.timepicker?V.addClass("active"):V.removeClass("active");e.value&&(c&&c.val&&c.val(e.value),D.setCurrentTime(e.value));isNaN(e.dayOfWeekStart)||0>parseInt(e.dayOfWeekStart)||6<parseInt(e.dayOfWeekStart)?e.dayOfWeekStart=0:e.dayOfWeekStart=parseInt(e.dayOfWeekStart);e.timepickerScrollbar||J.hide();
e.minDate&&/^-(.*)$/.test(e.minDate)&&(e.minDate=D.strToDateTime(e.minDate).dateFormat(e.formatDate));e.maxDate&&/^\+(.*)$/.test(e.maxDate)&&(e.maxDate=D.strToDateTime(e.maxDate).dateFormat(e.formatDate));q.find(".xdsoft_today_button").css("visibility",e.todayButton?"visible":"hidden");if(e.mask){var l=function(a,b){var c=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,
"[0-9_]{1}");return RegExp(c).test(b)};c.off("keydown.xdsoft");switch(!0){case !0===e.mask:e.mask=e.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case "string"==b.type(e.mask):l(e.mask,c.val())||c.val(e.mask.replace(/[0-9]/g,"_")),c.on("keydown.xdsoft",function(f){var k=this.value,p=f.which;switch(!0){case 48<=p&&57>=p||96<=p&&105>=p||8==p||46==p:var q;a:{try{if(document.selection&&document.selection.createRange){q=
document.selection.createRange().getBookmark().charCodeAt(2)-2;break a}else if(this.setSelectionRange){q=this.selectionStart;break a}}catch(ya){q=0;break a}q=void 0}var t=8!=p&&46!=p?String.fromCharCode(96<=p&&105>=p?p-48:p):"_";8!=p&&46!=p||!q||(q--,t="_");for(;/[^0-9_]/.test(e.mask.substr(q,1))&&q<e.mask.length&&0<q;)q+=8==p||46==p?-1:1;k=k.substr(0,q)+t+k.substr(q+1);if(""==b.trim(k))k=e.mask.replace(/[0-9]/g,"_");else if(q==e.mask.length)break;for(q+=8==p||46==p?0:1;/[^0-9_]/.test(e.mask.substr(q,
1))&&q<e.mask.length&&0<q;)q+=8==p||46==p?-1:1;if(l(e.mask,k)){if(this.value=k,k=this,k="string"==typeof k||k instanceof String?document.getElementById(k):k)k.createTextRange?(k=k.createTextRange(),k.collapse(!0),k.moveEnd(q),k.moveStart(q),k.select()):k.setSelectionRange&&k.setSelectionRange(q,q)}else""==b.trim(k)?this.value=e.mask.replace(/[0-9]/g,"_"):c.trigger("error_input.xdsoft");break;case !!~[65,67,86,90,89].indexOf(p)&&a:case !!~[27,38,40,37,39,116,17,9,13].indexOf(p):return!0}f.preventDefault();
return!1})}}if(e.validateOnBlur)c.off("blur.xdsoft").on("blur.xdsoft",function(){e.allowBlank&&!b.trim(b(this).val()).length?(b(this).val(null),k.data("xdsoft_datetime").empty()):(Date.parseDate(b(this).val(),e.format)||b(this).val(D.now().dateFormat(e.format)),k.data("xdsoft_datetime").setCurrentTime(b(this).val()));k.trigger("changedatetime.xdsoft")});e.dayOfWeekStartPrev=0==e.dayOfWeekStart?6:e.dayOfWeekStart-1;k.trigger("xchange.xdsoft")};k.data("options",e).on("mousedown.xdsoft",function(a){a.stopPropagation();
a.preventDefault();H.hide();aa.hide();return!1});var K=V.find(".xdsoft_time_box");K.append(I);K.xdsoftScroller();k.on("afterOpen.xdsoft",function(){K.xdsoftScroller()});k.append(p).append(V);!0!==e.withoutCopyright&&k.append(l);p.append(q).append(Y);b("body").append(k);var D=new function(){var a=this;a.now=function(){var a=new Date;e.yearOffset&&a.setFullYear(a.getFullYear()+e.yearOffset);return a};a.currentTime=this.now();a.isValidDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?
!1:!isNaN(a.getTime())};a.setCurrentTime=function(b){a.currentTime="string"==typeof b?a.strToDateTime(b):a.isValidDate(b)?b:a.now();k.trigger("xchange.xdsoft")};a.empty=function(){a.currentTime=null};a.getCurrentTime=function(b){return a.currentTime};a.nextMonth=function(){var b=a.currentTime.getMonth()+1;12==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()+1),b=0);a.currentTime.setDate(Math.min(Date.daysInMonth[b],a.currentTime.getDate()));a.currentTime.setMonth(b);e.onChangeMonth&&e.onChangeMonth.call&&
e.onChangeMonth.call(k,D.currentTime,k.data("input"));k.trigger("xchange.xdsoft");return b};a.prevMonth=function(){var b=a.currentTime.getMonth()-1;-1==b&&(a.currentTime.setFullYear(a.currentTime.getFullYear()-1),b=11);a.currentTime.setDate(Math.min(Date.daysInMonth[b],a.currentTime.getDate()));a.currentTime.setMonth(b);e.onChangeMonth&&e.onChangeMonth.call&&e.onChangeMonth.call(k,D.currentTime,k.data("input"));k.trigger("xchange.xdsoft");return b};a.strToDateTime=function(b){var c=[];(c=/^(\+|\-)(.*)$/.exec(b))&&
(c[2]=Date.parseDate(c[2],e.formatDate))?(b=c[2].getTime()-6E4*c[2].getTimezoneOffset(),c=new Date(D.now().getTime()+parseInt(c[1]+"1")*b)):c=b?Date.parseDate(b,e.format):a.now();a.isValidDate(c)||(c=a.now());return c};a.strtodate=function(b){b=b?Date.parseDate(b,e.formatDate):a.now();a.isValidDate(b)||(b=a.now());return b};a.strtotime=function(b){b=b?Date.parseDate(b,e.formatTime):a.now();a.isValidDate(b)||(b=a.now());return b};a.str=function(){return a.currentTime.dateFormat(e.format)}};q.find(".xdsoft_today_button").on("mousedown.xdsoft",
function(){k.data("changed",!0);D.setCurrentTime(0);k.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){c.val(D.str());k.trigger("close.xdsoft")});q.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var a=b(this),c=0,f=!1;(function ra(b){D.currentTime.getMonth();a.hasClass(e.next)?D.nextMonth():a.hasClass(e.prev)&&D.prevMonth();!f&&(c=setTimeout(ra,b?b:100))})(500);b([document.body,window]).on("mouseup.xdsoft",function G(){clearTimeout(c);f=!0;b([document.body,window]).off("mouseup.xdsoft",
G)})});V.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var a=b(this),c=0,f=!1,k=110;(function G(b){var l=ja[0].clientHeight,p=I[0].offsetHeight,q=Math.abs(parseInt(I.css("marginTop")));a.hasClass(e.next)&&p-l-e.timeHeightInTimePicker>=q?I.css("marginTop","-"+(q+e.timeHeightInTimePicker)+"px"):a.hasClass(e.prev)&&0<=q-e.timeHeightInTimePicker&&I.css("marginTop","-"+(q-e.timeHeightInTimePicker)+"px");ja.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(I.css("marginTop"))/
(p-l))]);k=10<k?10:k-10;!f&&(c=setTimeout(G,b?b:k))})(500);b([document.body,window]).on("mouseup.xdsoft",function ea(){clearTimeout(c);f=!0;b([document.body,window]).off("mouseup.xdsoft",ea)})});var P=0;k.on("xchange.xdsoft",function(a){clearTimeout(P);P=setTimeout(function(){for(var a="",c=new Date(D.currentTime.getFullYear(),D.currentTime.getMonth(),1,12,0,0),f=0,l=D.now();c.getDay()!=e.dayOfWeekStart;)c.setDate(c.getDate()-1);for(var a=a+"<table><thead><tr>",p=0;7>p;p++)a+="<th>"+e.i18n[e.lang].dayOfWeek[6<
p+e.dayOfWeekStart?0:p+e.dayOfWeekStart]+"</th>";var a=a+"</tr></thead><tbody><tr>",t=p=!1;!1!==e.maxDate&&(p=D.strtodate(e.maxDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999));!1!==e.minDate&&(t=D.strtodate(e.minDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()));for(var u,w,Q,E=[];f<D.currentTime.getDaysInMonth()||c.getDay()!=e.dayOfWeekStart||D.currentTime.getMonth()==c.getMonth();)E=[],f++,u=c.getDate(),w=c.getFullYear(),Q=c.getMonth(),E.push("xdsoft_date"),(!1!==
p&&c>p||!1!==t&&c<t)&&E.push("xdsoft_disabled"),D.currentTime.getMonth()!=Q&&E.push("xdsoft_other_month"),(e.defaultSelect||k.data("changed"))&&D.currentTime.dateFormat("d.m.Y")==c.dateFormat("d.m.Y")&&E.push("xdsoft_current"),l.dateFormat("d.m.Y")==c.dateFormat("d.m.Y")&&E.push("xdsoft_today"),(0==c.getDay()||6==c.getDay()||~e.weekends.indexOf(c.dateFormat("d.m.Y")))&&E.push("xdsoft_weekend"),a+='<td data-date="'+u+'" data-month="'+Q+'" data-year="'+w+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+
" "+E.join(" ")+'"><div>'+u+"</div></td>",c.getDay()==e.dayOfWeekStartPrev&&(a+="</tr>"),c.setDate(u+1);Y.html(a+"</tbody></table>");q.find(".xdsoft_label span").eq(0).text(e.i18n[e.lang].months[D.currentTime.getMonth()]);q.find(".xdsoft_label span").eq(1).text(D.currentTime.getFullYear());var ka="";Q=a="";c=function(a,b){var c=D.now();c.setHours(a);a=parseInt(c.getHours());c.setMinutes(b);b=parseInt(c.getMinutes());E=[];(!1!==e.maxTime&&D.strtotime(e.maxTime).getTime()<c.getTime()||!1!==e.minTime&&
D.strtotime(e.minTime).getTime()>c.getTime())&&E.push("xdsoft_disabled");(e.initTime||e.defaultSelect||k.data("changed"))&&parseInt(D.currentTime.getHours())==parseInt(a)&&(59<e.step||Math[e.roundTime](D.currentTime.getMinutes()/e.step)*e.step==parseInt(b))&&(e.defaultSelect||k.data("changed")?E.push("xdsoft_current"):e.initTime&&E.push("xdsoft_init_time"));parseInt(l.getHours())==parseInt(a)&&parseInt(l.getMinutes())==parseInt(b)&&E.push("xdsoft_today");ka+='<div class="xdsoft_time '+E.join(" ")+
'" data-hour="'+a+'" data-minute="'+b+'">'+c.dateFormat(e.formatTime)+"</div>"};if(e.allowTimes&&b.isArray(e.allowTimes)&&e.allowTimes.length)for(f=0;f<e.allowTimes.length;f++)a=D.strtotime(e.allowTimes[f]).getHours(),Q=D.strtotime(e.allowTimes[f]).getMinutes(),c(a,Q);else for(p=f=0;f<(e.hours12?12:24);f++)for(p=0;60>p;p+=e.step)a=(10>f?"0":"")+f,Q=(10>p?"0":"")+p,c(a,Q);I.html(ka);Q="";f=0;for(f=parseInt(e.yearStart,10)+e.yearOffset;f<=parseInt(e.yearEnd,10)+e.yearOffset;f++)Q+='<div class="xdsoft_option '+
(D.currentTime.getFullYear()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"</div>";H.children().eq(0).html(Q);f=0;for(Q="";11>=f;f++)Q+='<div class="xdsoft_option '+(D.currentTime.getMonth()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+e.i18n[e.lang].months[f]+"</div>";aa.children().eq(0).html(Q);b(this).trigger("generate.xdsoft")},10);a.stopPropagation()}).on("afterOpen.xdsoft",function(){if(e.timepicker){var a;I.find(".xdsoft_current").length?a=".xdsoft_current":I.find(".xdsoft_init_time").length&&
(a=".xdsoft_init_time");if(a){var b=ja[0].clientHeight,c=I[0].offsetHeight;a=I.find(a).index()*e.timeHeightInTimePicker+1;c-b<a&&(a=c-b);I.css("marginTop","-"+parseInt(a)+"px");ja.trigger("scroll_element.xdsoft_scroller",[parseInt(a)/(c-b)])}}});var E=0;Y.on("click.xdsoft","td",function(a){a.stopPropagation();E++;a=b(this);var f=D.currentTime;if(a.hasClass("xdsoft_disabled"))return!1;f.setDate(a.data("date"));f.setMonth(a.data("month"));f.setFullYear(a.data("year"));k.trigger("select.xdsoft",[f]);
c.val(D.str());(1<E||!0===e.closeOnDateSelect||0===e.closeOnDateSelect&&!e.timepicker)&&!e.inline&&k.trigger("close.xdsoft");e.onSelectDate&&e.onSelectDate.call&&e.onSelectDate.call(k,D.currentTime,k.data("input"));k.data("changed",!0);k.trigger("xchange.xdsoft");k.trigger("changedatetime.xdsoft");setTimeout(function(){E=0},200)});I.on("click.xdsoft","div",function(a){a.stopPropagation();a=b(this);var c=D.currentTime;if(a.hasClass("xdsoft_disabled"))return!1;c.setHours(a.data("hour"));c.setMinutes(a.data("minute"));
k.trigger("select.xdsoft",[c]);k.data("input").val(D.str());!e.inline&&k.trigger("close.xdsoft");e.onSelectTime&&e.onSelectTime.call&&e.onSelectTime.call(k,D.currentTime,k.data("input"));k.data("changed",!0);k.trigger("xchange.xdsoft");k.trigger("changedatetime.xdsoft")});k.mousewheel&&p.mousewheel(function(a,b,c,f){if(!e.scrollMonth)return!0;0>b?D.nextMonth():D.prevMonth();return!1});k.mousewheel&&ja.unmousewheel().mousewheel(function(a,b,c,f){if(!e.scrollTime)return!0;c=ja[0].clientHeight;f=I[0].offsetHeight;
var k=Math.abs(parseInt(I.css("marginTop"))),l=!0;0>b&&f-c-e.timeHeightInTimePicker>=k?(I.css("marginTop","-"+(k+e.timeHeightInTimePicker)+"px"),l=!1):0<b&&0<=k-e.timeHeightInTimePicker&&(I.css("marginTop","-"+(k-e.timeHeightInTimePicker)+"px"),l=!1);ja.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(I.css("marginTop"))/(f-c))]);a.stopPropagation();return l});k.on("changedatetime.xdsoft",function(){if(e.onChangeDateTime&&e.onChangeDateTime.call){var a=k.data("input");e.onChangeDateTime.call(k,
D.currentTime,a);a.trigger("change")}}).on("generate.xdsoft",function(){e.onGenerate&&e.onGenerate.call&&e.onGenerate.call(k,D.currentTime,k.data("input"))});var Z=0;c.mousewheel&&c.mousewheel(function(a,b,f,l){if(!e.scrollInput)return!0;if(!e.datepicker&&e.timepicker)return Z=I.find(".xdsoft_current").length?I.find(".xdsoft_current").eq(0).index():0,0<=Z+b&&Z+b<I.children().length&&(Z+=b),I.children().eq(Z).length&&I.children().eq(Z).trigger("mousedown"),!1;if(e.datepicker&&!e.timepicker)return p.trigger(a,
[b,f,l]),c.val&&c.val(D.str()),k.trigger("changedatetime.xdsoft"),!1});var R=function(){var a=k.data("input").offset(),c=a.top+k.data("input")[0].offsetHeight-1,e=a.left;c+k[0].offsetHeight>b(window).height()+b(window).scrollTop()&&(c=a.top-k[0].offsetHeight+1);0>c&&(c=0);e+k[0].offsetWidth>b(window).width()&&(e=a.left-k[0].offsetWidth+k.data("input")[0].offsetWidth);k.css({left:e,top:c})};k.on("open.xdsoft",function(){var a=!0;e.onShow&&e.onShow.call&&(a=e.onShow.call(k,D.currentTime,k.data("input")));
if(!1!==a&&(k.show(),k.trigger("afterOpen.xdsoft"),R(),b(window).off("resize.xdsoft",R).on("resize.xdsoft",R),e.closeOnWithoutClick))b([document.body,window]).on("mousedown.xdsoft",function la(){k.trigger("close.xdsoft");b([document.body,window]).off("mousedown.xdsoft",la)})}).on("close.xdsoft",function(a){var b=!0;e.onClose&&e.onClose.call&&(b=e.onClose.call(k,D.currentTime,k.data("input")));!1===b||e.opened||e.inline||k.hide();a.stopPropagation()}).data("input",c);var N=0;k.data("xdsoft_datetime",
D);k.setOptions(e);D.setCurrentTime(f());k.trigger("afterOpen.xdsoft");c.data("xdsoft_datetimepicker",k).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(a){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(clearTimeout(N),N=setTimeout(function(){c.is(":disabled")||c.is(":hidden")||!c.is(":visible")||(D.setCurrentTime(f()),k.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(a){a=a.which;switch(!0){case !!~[13].indexOf(a):return a=b("input:visible,textarea:visible"),k.trigger("close.xdsoft"),
a.eq(a.index(this)+1).focus(),!1;case !!~[9].indexOf(a):return k.trigger("close.xdsoft"),!0}})};b(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(b){17==b.keyCode&&(a=!0)}).on("keyup.xdsoftctrl",function(b){17==b.keyCode&&(a=!1)});return this.each(function(){var a;if(a=b(this).data("xdsoft_datetimepicker")){if("string"===b.type(f))switch(f){case "show":b(this).select().focus();a.trigger("open.xdsoft");break;case "hide":a.trigger("close.xdsoft");break;case "destroy":a=
b(this);var c=a.data("xdsoft_datetimepicker");c&&(c.data("xdsoft_datetime",null),c.remove(),a.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),b(window).off("resize.xdsoft"),b([window,document.body]).off("mousedown.xdsoft"),a.unmousewheel&&a.unmousewheel());break;case "reset":(this.value=this.defaultValue)&&a.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,e.format))||a.data("changed",!1),a.data("xdsoft_datetime").setCurrentTime(this.value)}else a.setOptions(f);
return 0}"string"!==b.type(f)&&(!e.lazyInit||e.open||e.inline?p(b(this)):l(b(this)))})}})(jQuery);Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(b){if("unixtime"==b)return parseInt(this.getTime()/1E3);null==Date.formatFunctions[b]&&Date.createNewFormat(b);return this[Date.formatFunctions[b]]()};
Date.createNewFormat=function(b){var c="format"+Date.formatFunctions.count++;Date.formatFunctions[b]=c;for(var c="Date.prototype."+c+" = function() {return ",f=!1,a,e=0;e<b.length;++e)a=b.charAt(e),f||"\\"!=a?f?(f=!1,c+="'"+String.escape(a)+"' + "):c+=Date.getFormatCode(a):f=!0;eval(c.substring(0,c.length-3)+";}")};
Date.getFormatCode=function(b){switch(b){case "d":return"String.leftPad(this.getDate(), 2, '0') + ";case "D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case "j":return"this.getDate() + ";case "l":return"Date.dayNames[this.getDay()] + ";case "S":return"this.getSuffix() + ";case "w":return"this.getDay() + ";case "z":return"this.getDayOfYear() + ";case "W":return"this.getWeekOfYear() + ";case "F":return"Date.monthNames[this.getMonth()] + ";case "m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";
case "M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case "n":return"(this.getMonth() + 1) + ";case "t":return"this.getDaysInMonth() + ";case "L":return"(this.isLeapYear() ? 1 : 0) + ";case "Y":return"this.getFullYear() + ";case "y":return"('' + this.getFullYear()).substring(2, 4) + ";case "a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case "A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case "g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case "G":return"this.getHours() + ";
case "h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case "H":return"String.leftPad(this.getHours(), 2, '0') + ";case "i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case "s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case "O":return"this.getGMTOffset() + ";case "T":return"this.getTimezone() + ";case "Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(b)+"' + "}};
Date.parseDate=function(b,c){if("unixtime"==c)return new Date(isNaN(parseInt(b))?0:1E3*parseInt(b));null==Date.parseFunctions[c]&&Date.createParser(c);return Date[Date.parseFunctions[c]](b)};
Date.createParser=function(b){var c="parse"+Date.parseFunctions.count++,f=Date.parseRegexes.length,a=1;Date.parseFunctions[b]=c;for(var c="Date."+c+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+f+"]);\nif (results && results.length > 0) {",e="",k=!1,l,p=0;p<b.length;++p)l=b.charAt(p),k||"\\"!=l?k?(k=!1,e+=String.escape(l)):(obj=Date.formatCodeToRegex(l,
a),a+=obj.g,e+=obj.s,obj.g&&obj.c&&(c+=obj.c)):k=!0;Date.parseRegexes[f]=new RegExp("^"+e+"$");eval(c+"if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}")};
Date.formatCodeToRegex=function(b,c){switch(b){case "D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case "j":case "d":return{g:1,c:"d = parseInt(results["+c+"], 10);\n",s:"(\\d{1,2})"};case "l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case "S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case "w":return{g:0,c:null,s:"\\d"};case "z":return{g:1,c:"z = parseInt(results["+c+"], 10);\n",s:"(\\d{1,3})"};case "W":return{g:0,c:null,s:"(?:\\d{2})"};case "F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+
c+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case "M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+c+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case "n":case "m":return{g:1,c:"m = parseInt(results["+c+"], 10) - 1;\n",s:"(\\d{1,2})"};case "t":return{g:0,c:null,s:"\\d{1,2}"};case "L":return{g:0,c:null,s:"(?:1|0)"};case "Y":return{g:1,c:"y = parseInt(results["+c+"], 10);\n",s:"(\\d{4})"};case "y":return{g:1,c:"var ty = parseInt(results["+c+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
s:"(\\d{1,2})"};case "a":return{g:1,c:"if (results["+c+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case "A":return{g:1,c:"if (results["+c+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case "g":case "G":case "h":case "H":return{g:1,c:"h = parseInt(results["+c+"], 10);\n",s:"(\\d{1,2})"};case "i":return{g:1,c:"i = parseInt(results["+c+"], 10);\n",s:"(\\d{2})"};case "s":return{g:1,c:"s = parseInt(results["+c+"], 10);\n",
s:"(\\d{2})"};case "O":return{g:0,c:null,s:"[+-]\\d{4}"};case "T":return{g:0,c:null,s:"[A-Z]{3}"};case "Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(b)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};
Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var b=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var c=0;c<this.getMonth();++c)b+=Date.daysInMonth[c];return b+this.getDate()};
Date.prototype.getWeekOfYear=function(){var b=this.getDayOfYear()+(4-this.getDay()),c=7-(new Date(this.getFullYear(),0,1)).getDay()+4;return String.leftPad(Math.ceil((b-c)/7)+1,2,"0")};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return 0==(b&3)&&(b%100||0==b%400&&b)};Date.prototype.getFirstDayOfMonth=function(){var b=(this.getDay()-(this.getDate()-1))%7;return 0>b?b+7:b};
Date.prototype.getLastDayOfMonth=function(){var b=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>b?b+7:b};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(b){return b.replace(/('|\\)/g,"\\$1")};
String.leftPad=function(b,c,f){b=new String(b);for(null==f&&(f=" ");b.length<c;)b=f+b;return b};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames="January February March April May June July August September October November December".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};
Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function c(a){var c=a||window.event,f=[].slice.call(arguments,1),l=0,p=0,M=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta&&(l=c.wheelDelta);c.detail&&(l=-1*c.detail);c.deltaY&&(l=M=-1*c.deltaY);c.deltaX&&(p=c.deltaX,l=-1*p);void 0!==c.wheelDeltaY&&(M=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(p=-1*c.wheelDeltaX);c=Math.abs(l);if(!e||c<e)e=c;c=Math.max(Math.abs(M),
Math.abs(p));if(!k||c<k)k=c;c=0<l?"floor":"ceil";l=Math[c](l/e);p=Math[c](p/k);M=Math[c](M/k);f.unshift(a,l,p,M);return(b.event.dispatch||b.event.handle).apply(this,f)}var f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],e,k;if(b.event.fixHooks)for(var l=f.length;l;)b.event.fixHooks[f[--l]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
a.length;b;)this.addEventListener(a[--b],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],c,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
!function(b){var c=!1;if("function"==typeof define&&define.amd&&(define(b),c=!0),"object"==typeof exports&&(module.exports=b(),c=!0),!c){var f=window.Cookies,a=window.Cookies=b();a.noConflict=function(){return window.Cookies=f,a}}}(function(){function b(){for(var b=0,f={};b<arguments.length;b++){var a=arguments[b],e;for(e in a)f[e]=a[e]}return f}return function f(a){function e(f,l,p){var k;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(p=b({path:"/"},e.defaults,p)).expires){var t=
new Date;t.setMilliseconds(t.getMilliseconds()+864E5*p.expires);p.expires=t}p.expires=p.expires?p.expires.toUTCString():"";try{k=JSON.stringify(l),/^[\{\[]/.test(k)&&(l=k)}catch(V){}l=a.write?a.write(l,f):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);f=(f=(f=encodeURIComponent(String(f))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);k="";for(var u in p)p[u]&&(k+="; "+u,!0!==p[u]&&(k+="="+p[u]));
return document.cookie=f+"="+l+k}f||(k={});u=document.cookie?document.cookie.split("; "):[];for(var w=/(%[0-9A-Z]{2})+/g,M=0;M<u.length;M++){var Q=u[M].split("="),Y=Q.slice(1).join("=");this.json||'"'!==Y.charAt(0)||(Y=Y.slice(1,-1));try{t=Q[0].replace(w,decodeURIComponent);if(Y=a.read?a.read(Y,t):a(Y,t)||Y.replace(w,decodeURIComponent),this.json)try{Y=JSON.parse(Y)}catch(V){}if(f===t){k=Y;break}f||(k[t]=Y)}catch(V){}}return k}}return e.set=e,e.get=function(a){return e.call(e,a)},e.getJSON=function(){return e.apply({json:!0},
[].slice.call(arguments))},e.defaults={},e.remove=function(a,f){e(a,"",b(f,{expires:-1}))},e.withConverter=f,e}(function(){})});"use strict";
jQuery.base64=function(b){function c(a,b){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b));if(-1===c)throw"Cannot decode base64";return c}function f(a,b){var c=a.charCodeAt(b);if(255<c)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}return{decode:function(a){var b=0,f,l,p=a.length,q=[];a=String(a);if(0===p)return a;if(0!==p%4)throw"Cannot decode base64";"="===a.charAt(p-1)&&(b=1,"="===a.charAt(p-2)&&(b=2),p-=4);for(f=0;f<p;f+=4)l=c(a,f)<<18|c(a,
f+1)<<12|c(a,f+2)<<6|c(a,f+3),q.push(String.fromCharCode(l>>16,l>>8&255,l&255));switch(b){case 1:l=c(a,f)<<18|c(a,f+1)<<12|c(a,f+2)<<6;q.push(String.fromCharCode(l>>16,l>>8&255));break;case 2:l=c(a,f)<<18|c(a,f+1)<<12,q.push(String.fromCharCode(l>>16))}return q.join("")},encode:function(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var b,c,l=[],p=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<p;b+=3)c=f(a,b)<<16|f(a,b+1)<<8|f(a,b+2),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>
18)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)),l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c&63));switch(a.length-p){case 1:c=f(a,b)<<16;l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"==");break;case 2:c=
f(a,b)<<16|f(a,b+1)<<8,l.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>6&63)+"=")}return l.join("")},VERSION:"1.0"}}(jQuery);console.log("ver 1.18");
var stateObj={url:"liveuamap.com"},drawnItems,drawControl,newsshow=!0,thislayout=[],DISQUS=null,map,miniMap,twiuser=0,areas=[],m=0,amount=0,key="",usermaker,d=0,highestZIndex=0,wascalendar=!1,g=0,setcoords,fields=[],lastid=0,updater,highlightedM=-1,isDrawActived=!1,markers=[],delta=-1,userscroll=!0,isTimelapseLoaded=!1,linkTOgsat=curSAThref,mobileOnTheMap=!1,mapsready=!1,IsAutoScrolling=!1,wassmart=!1,alreadyFeedSwipe=!1,countadded=0,indexShow=0,advlayout=[],googletag=googletag||{};
googletag.cmd=googletag.cmd||[];var adtrue_tags=window.adtrue_tags||[];function getbyddid(b,c){for(var f=0;f<c.length;f++)if(c[f].id==b)return c[f];return null}function updatefeed(){notnew||(globaltime=(new Date).getTime()/1E3,addvenues(!1))}
function click_events(){$(document).on("click",".top-bright,.tfblock .vmestolabel",function(b){$(this).toggleClass("show-socials");b.preventDefault();b.stopPropagation()});$(document).on("click",".jumpnewxt .link-jump",function(b){indexShow++;indexShow>$(".event").length-1&&(indexShow=0);var c=ovens.venues[indexShow];curid=c.id;c=[c.lat,c.lng];maps();map.setZoom(8);map.panTo(c);$("#menu_map").click();setCurrent(curid);b.preventDefault();b.stopPropagation()});$(document).on("click",".mobile-region a",
function(b){b.preventDefault();$("#menu_events").click();$("#menu_events").parent().removeClass("active");$("#modalRegions").click();$("#toggle-mobile-menu").removeAttr("checked");$(".phones").hide()});$(document).on("click",".mobile-language a",function(b){b.preventDefault();$("#menu_languages").click();$("#toggle-mobile-menu").removeAttr("checked");$("#newnav2").removeClass("menuop");$("#tab-news, .phones").hide()});$(document).on("click",".mobile-about a",function(b){b.preventDefault();tabs(5);
$("#toggle-mobile-menu").removeAttr("checked");$("#newnav2").removeClass("menuop");$("#tab-news, .phones").hide()});$(document).on("click",".nav-news",function(){$("#newnav2").removeClass("menuop");$("#toggle-mobile-menu").removeAttr("checked")});$(document).on("click","#newnav2 .select_reg_text",function(b){b.preventDefault();b.stopPropagation();$("#newnav2").toggleClass("menuop")});$(document).on("click","#regions-menu",function(b){b.preventDefault();$("#newnav2").toggleClass("menuop");$("#nav_mob_menu").removeClass("menuop")});
$("#menu_languages1").on("click",function(b){b.preventDefault();tabs(1);$("#newnav2,#nav_mob_menu").removeClass("menuop")});$(document).on("click","#mob_menu_btn",function(b){b.preventDefault();$("#nav_mob_menu").toggleClass("menuop");$("#newnav2").removeClass("menuop")});$(document).on("dblclick",".mobile-navigation .mn-up",function(b){b.preventDefault();$(".news-lent").animate({scrollTop:0},400);$(".popup-info").animate({scrollTop:0},400)});$(document).on("click",".mobile-navigation .mn-up",function(b){b.preventDefault();
$(".news-lent").animate({scrollTop:$(".news-lent").scrollTop()-400},400);$(".popup-info").animate({scrollTop:$(".popup-info").scrollTop()-400},400)});$(document).on("click",".mobile-navigation .mn-down",function(b){b.preventDefault();$(".news-lent").animate({scrollTop:$(".news-lent").scrollTop()+400},400);$(".popup-info").animate({scrollTop:$(".popup-info").scrollTop()+400},400)});$(document).on("dblclick",".mobile-navigation .mn-down",function(b){b.preventDefault();$(".news-lent").animate({scrollTop:$("#feedler").innerHeight()},
400);$(".popup-info").animate({scrollTop:$(".popup-info").innerHeight()},400)});$(document).on("click","#hidenews",function(b){b.preventDefault();for(b=0;b<markers.length;b++)map.removeLayer(markers[b].m);isMobile.any()||clearInterval(updater)});$(document).on("click","#dragterritories",function(b){b.preventDefault();$("#dragterritories").hide();for(b=0;b<fields.length;b++)fields[b].setDraggable(!0)});$(document).on("click","#menu_events",function(b){b.preventDefault();tabs(0)});$(document).on("scroll",
".news-lent",function(){});$("body,html").bind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",function(b){0<b.which||"mousedown"==b.type||"mousewheel"==b.type||$("html,body").stop()});$(".news-lent").scroll(function(){(0===$(this).scrollTop()||$(this).scrollTop()+$(this).innerHeight()>=.85*$(this)[0].scrollHeight)&&showsmart();$(".top-bright.show-socials").removeClass("show-socials");showa()});$(window).on("scroll",function(){$(".show-socials").removeClass("show-socials")});$("#feedler").scroll(function(){(0===
$(this).scrollTop()||$(this).scrollTop()+$(this).innerHeight()>=.85*$(this)[0].scrollHeight)&&showsmart();showa();50<$(this).scrollTop()?($("#tab-news").slideUp(),$(".phones").slideUp(),isMobile.any()||feHeight(56)):($("#tab-news").slideDown(),$(".phones").slideDown(),isMobile.any()||feHeight(175));$(".nextpage").index()<$(".event").last().index()&&$("#feedler").append($(".nextpage"));$(".show-socials").removeClass("show-socials")});$(document).keyup(function(b){27==b.keyCode&&($(".popup-box").fadeOut(),
isMobile.any()&&($(".mobile-navigation").show(),$(".wrapper").show()))});$(document).on("click",".comment-link",function(b){b.preventDefault();showcomments($(this).attr("data-id"));return!1});$(document).on("click",".dd_1 .li_dd1 a.y",function(b){b.preventDefault();$(this).parent().hasClass("show")?$(".dd_1 .li_dd1").removeClass("show"):($(".dd_1 .li_dd1").removeClass("show"),$(this).parent().addClass("show"));$("#time").scrollTop($(this).position().top)});$(document).on("click",".dd_2 .li_dd2 a.m",
function(b){b.preventDefault();$(this).parent().hasClass("show")?$(".dd_2 .li_dd2").removeClass("show"):($(".dd_2 .li_dd2").removeClass("show"),$(this).parent().addClass("show"));$("#time").scrollTop($(this).position().top)});$(document).on("click",".gotofeed",function(b){b.preventDefault();tabs(0)});$(document).on("click",".dd_3 li a",function(b){b.preventDefault();$(".dd_3 li a").removeClass("color");$(this).addClass("color");b=$(this).attr("data-date");if("undefined"===typeof b||!1===b)b=$(this).prev().attr("data-date");
$("#data_d").val(b);var c=b.split("."),f=c[0],a=c[1],c=c[2];$(".gotofeed").remove();$(this).after('<a href="#" class="gotofeed">'+getl(27)+"</a>");change_my_url("liveuamap_time",wwwpath+curlang+"/time/"+b);c=new Date(c,Math.round(a)-1,Math.round(f),0,0,0);globaltime=c.getTime()/1E3;curid=lastid=0;isMobile.any()&&$(this).hasClass("d")||maps();b=map.getCenter();f=map.getZoom();isMobile.any()||clearInterval(updater);notnew=!0;0<$("#map_canvas").length&&(map.eachLayer(function(a){void 0!==a&&void 0===
a._url&&"undefined"==typeof a._layers&&map.removeLayer(a)}),drawnItems.eachLayer(function(a){void 0!==a&&void 0===a._url&&"undefined"==typeof a._layers&&drawnItems.removeLayer(a)}),$(".event").remove(),map.panTo(b),map.setZoom(f),thislayout=[],wassmart=!1,nullmarkers(),addvenues(!0),$(".boxselect").hide())});$("#menu_languages1").on("click",function(b){b.preventDefault();tabs(1);$("#newnav2").removeClass("menuop")});$(document).on("click","#menu_languages",function(b){b.preventDefault();tabs(1)});
$(document).on("click","#menu_map",function(b){b.preventDefault();tabs(2);maps()});$(document).on("click","#menu_timelapse",function(b){b.preventDefault();tabs(3)});$(document).on("click","#toptime",function(b){b.preventDefault();tabs(3)});$(document).on("click","#menu_legend",function(b){b.preventDefault();tabs(4)});$(document).on("click","#menu_about",function(b){b.preventDefault();tabs(5)});$(document).on("click","#menu_admin",function(b){b.preventDefault();tabs(6)});$(document).on("click",".close_measure, .popup-box-measure .popup-bg",
function(b){$(".popup-box-measure").remove();b.preventDefault()});$(document).on("click",".legend_filter",function(b){b.preventDefault();$(this).toggleClass("bold")});$(document).on("click","#apply_leg_filter",function(b){b.preventDefault();var c=[];$(".legend_filter.bold").each(function(){c.push($(this).data("cid"))});curlat=roundNumber(map.getCenter().lat,6);curlng=roundNumber(map.getCenter().lng,6);zoom=map.getZoom();window.location=wwwpath+"?filter_cat="+c.join(",")+"&ll="+curlat+","+curlng+"&zoom="+
zoom});$(document).on("click","#prevday",function(b){isMobile.any()||clearInterval(updater);notnew=!0;if(0<$("#map_canvas").length){if(void 0!=map){var c=map.getCenter(),f=map.getZoom();map.eachLayer(function(a){void 0!==a&&void 0===a._url&&map.removeLayer(a)})}$("#feedler").html("");globaltime=ovens.venues[ovens.venues.length-1].globaltime;addvenuesPrevious();void 0!=map&&(map.panTo(c),map.setZoom(f),Measure.refresh())}b.preventDefault()});$(document).on("click",".tim",function(){$(".boxselect").show()});
$(document).on("click",".video.yt",function(b){b.preventDefault();b=$(this).attr("data-id");showcomments(b)});$(document).on("click","#showcomentslink",function(b){b.preventDefault();commentsBlock($(this).attr("data-id"),$(this).attr("data-link"))});$(document).on("click",".close,.onthemap",function(b){b.preventDefault();$(".show-socials").removeClass("show-socials");$(".popup-box").fadeOut();isMobile.any()&&($(".mobile-navigation").show(),$(".wrapper").show());$(".popup-text h2 iframe").remove();
640>$(window).width()&&(b=getvenuebyId($(".map-link").attr("data-id")),curid=b.id,b=[b.lat,b.lng],maps(),map.setZoom(8),map.panTo(b),$("#menu_map").click(),setCurrent(curid));change_my_url("Liveuamap",wwwpath)});$(document).on("click",".popup-bg",function(b){b.preventDefault();$(".popup-box").fadeOut();isMobile.any()&&($(".wrapper").show(),$(".mobile-navigation").show());$(".popup-text h2 iframe").remove()});$(document).on("click",".sc",function(){$(".scobox").hide()});$(document).on("click",".event",
function(){curid=$(this).attr("id").split("-")[1];($(this).hasClass("selected")||isMobile.any())&&showcomments(curid);setCurrent(curid);640>=$(window).width()&&($("div.mnu a").removeClass("inside"),$("#maplegend").hide(),$("#map").removeClass("inside"),$("#map").addClass("inside"))});$(document).on("click","#topl",function(){$("#maplegend").stop().animate({scrollTop:0})});$(document).on("click","#info",function(b){$("#feedler").hide();$("#mapadd").hide();$("#infobox").show();$("#settingstab").hide();
$("#filterbox").hide();$("#maplegend").show();$("div.mnu a").removeClass("inside");$(this).addClass("inside");b.preventDefault();$("div.tweet div.header").html(getl(6))});$(document).on("click","#filter",function(b){$("#feedler").hide();$("#mapadd").hide();$("#infobox").hide();$("#settingstab").hide();$("#filterbox").show();$("#maplegend").show();$("div.mnu a").removeClass("inside");$(this).addClass("inside");b.preventDefault();$("div.tweet div.header").html(getl(7))});$(document).on("click","#list",
function(b){$("div.mnu a").removeClass("inside");$("#mapadd").hide();$(this).addClass("inside");$("#infobox").hide();$("#settingstab").hide();$("#filterbox").hide();$("#feedler").show();$("#maplegend").show();$("div.tweet div.header").html(getl(5));b.preventDefault()});$(document).on("click","#goliqpay",function(b){b.preventDefault();document.location.href=wwwpath+"card?sum="+$("#txtamount").val()});$(document).on("click","#map",function(b){$("div.mnu a").removeClass("inside");$("#mapadd").hide();
$(this).addClass("inside");$("#maplegend").hide();b.preventDefault();$("div.tweet div.header").html(getl(8))});$(document).on("click",".map-link",function(b){$(".show-socials").removeClass("show-socials");maps();var c=getvenuebyId($(this).attr("data-id"));curid=c.id;var f=[c.lat,c.lng];$(".popup-box").fadeOut();map.setZoom(9);map.panTo(f);isMobile.any()&&($(".wrapper").show(),$(".mobile-navigation").show(),$("#menu_map").click());c=window.matchMedia("(orientation: portrait)").matches;c!==orientation&&
(setTimeout(function(){map.invalidateSize();miniMap.invalidateSize();map.setZoom(9);map.panTo(f)},400),orientation=c);setCurrent(curid);b.preventDefault()});$(document).on("click",".twis",function(b){var c=getvenuebyId($(this).attr("data-id")),f=c.name+" "+videolink(c),a=c.twitpic;streamPublishTwi(c.name,f+" "+a,a,c.link);b.preventDefault()});$(document).on("click",".fbs",function(b){var c=getvenuebyId($(this).attr("data-id"));streamPublishFb(c.name,c.name,c.twitpic,c.link);b.preventDefault()});$(document).on("click",
".twi",function(b){var c=getvenuebyId($(this).attr("data-id")),f=c.name+" "+videolink(c),a=null==c.twitpic?"":c.twitpic;streamPublishTwi(c.name,f+" "+a,a,c.link);b.preventDefault()});$(document).on("click",".twi_sharemap",function(b){var c="Watch my map at "+$("title").text(),f=$(".popup-input-measure").val();streamPublishTwi(c,c,"",f);b.preventDefault()});$(document).on("click",".fb",function(b){var c=getvenuebyId($(this).attr("data-id"));streamPublishFb(c.name,c.name,null==c.twitpic?"":c.twitpic,
c.link);b.preventDefault()});$(document).on("click",".fb_sharemap",function(b){var c="Watch my map at "+$("title").text(),f=$(".popup-input-measure").val();streamPublishFb(c,c,"",f);b.preventDefault()});$(document).on("click",".ok",function(b){var c=$("select[name=datac] option:selected").val(),f=$("select[name=datam] option:selected").val(),a=$("select[name=datag] option:selected").val();globaltime=(new Date(a,Math.round(f)-1,Math.round(c),0,0,0)).getTime()/1E3;curid=lastid=0;isMobile.any()||clearInterval(updater);
notnew=!0;0<$("#map_canvas").length&&(c=map.getCenter(),f=map.getZoom(),map.eachLayer(function(a){void 0!==a&&void 0===a._url&&map.removeLayer(a)}),$(".event").remove(),addvenues(!0),map.setZoom(f),map.panTo(c),$(".boxselect").hide());b.preventDefault()});$(document).on("click",".user-msg .user-msg-agree",function(b){$.ajax({url:wwwpath+"ajax/do?act=confirmCookie",context:document.body,dataType:"JSON"});$(".user-msg").fadeOut(100)});$(document).on("click",".send",function(b){$(".scro").show();$(".adminmain").hide()})}
function getTimelapse(){isTimelapseLoaded||$.ajax({url:wwwpath+"ajax/do?act=timeline",context:document.body,dataType:"JSON"}).done(function(b){isTimelapseLoaded=!0;1==b.code?($("#time > .selects-block").html(b.html),wascalendar||calendar()):console.log(b.error)})}
function maps(){if(!mapsready&&($(".wrapper, #map_canvas").show(),mapsready=!0,0<$("#map_canvas").length)){var b=getParameterByName("ll");if(void 0!=b&&""!=b){var c=b.split(";");2>c.length&&(c=b.split(","));lat=c[0];lng=c[1]}b=Math.round(getParameterByName("zoom"));0<b&&(zoom=b);center=[curlat,curlng];0!=lng&&(curlat=lat,curlng=lng,center=[lat,lng]);isMobile.any()&&(zoom-=2);var f=L.tileLayer("https://maps.liveuamap.com/osm_tiles/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://liveuamap.com">LiveuaMap</a> <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
minZoom:2,maxZoom:16}),a=L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'\u00a9 <a href="https://www.mapbox.com/about/maps/">Mapbox</a> \u00a9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',maxZoom:18,id:"mapbox.satellite",accessToken:"pk.eyJ1Ijoicm96aGtvdnNreSIsImEiOiJjaXU4bjViNXQwMDBwMnpwOG02d2I1ZXl4In0.go07VBjWlwm4sd3TjMXnkw"}),
e=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'\u00a9 <a href="https://www.mapbox.com/about/maps/">Mapbox</a> \u00a9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',maxZoom:18,id:"mapbox/streets-v12",accessToken:"pk.eyJ1Ijoicm96aGtvdnNreSIsImEiOiJjaXU4bXI1MXEwMDB6MnptemdyY3cwdDU3In0.CiAT1kod1kpe-q47ruiOrQ"}),k=L.tileLayer("https://mt1.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",
{attribution:'Map data &copy; <a href="https://maps.google.com">Google</a>',minZoom:2,maxZoom:18}),l=L.tileLayer("https://maps.liveuamap.com/osm_tiles/{z}/{x}/{y}.png");map=L.map("map_canvas",{zoomControl:!1,zoomAnimation:!1,worldCopyJump:!0,layers:[f]}).setView(center,zoom);linkTOgsat=curSAThref+"?zoom="+zoom+"&ll="+curlat+","+curlng;linkTOgsat=linkTOgsat.replace("on?","on&");b=L.tileLayer("https://maps.liveuamap.com/osm_tiles/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://liveuamap.com">LiveuaMap</a> <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
minZoom:0,maxZoom:11});$(document).on("click",".leaflet-control-layers-list .leaflet-control-layers-base label:last",function(){location.href=linkTOgsat});c={};f={LiveUAmap:f,Satellite:a,Terrain:e,"Google Satellite with Leaflet":k,"Google Satellite":l};curuserPayed&&L.control.layers(f,c,{position:"bottomleft"}).addTo(map);map.on("move",moveendmap);map.on("moveend",moveendmap);L.Path.CLIP_PADDING=1;map.getRenderer(map).options.padding=100;L.control.zoom({position:"bottomleft"}).addTo(map);L.control.mapCenterCoord({latlngFormat:"DMS",
template:"{y} {x}",position:"bottomright",latlngDesignators:!0}).addTo(map);drawnItems=L.featureGroup().addTo(map);drawControl=new L.Control.Draw({position:"bottomleft",draw:{polyline:!1,marker:!1,circle:!1,rectangle:!1,polygon:{metric:!0,allowIntersection:!0,showArea:!0}}});map.on(L.Draw.Event.CREATED,function(a){drawnItems.addLayer(a.layer)});drawPolygons();$(document).on("click",".territory",function(){var a=$(this).css("background-color");drawControl.setDrawingOptions({polygon:{metric:!0,showArea:!0,
shapeOptions:{color:a}},poliline:{shapeOptions:{color:a}},rectangle:{metric:!0,showArea:!0,shapeOptions:{color:a}},circle:{shapeOptions:{color:a}}})});c=L.Control.extend({options:{position:"bottomleft"},onAdd:function(a){a=L.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom");var b=L.DomUtil.create("div","leaflet-bar",a),b=L.DomUtil.create("a","gotoothermap leaflet-bar",b);b.href=curSAThref;-1<curSAThref.indexOf("?")&&(b.href=curSAThref+"&zoom="+zoom+"&ll="+curlat+","+curlng);
b.innerHTML="SAT";b.title="Satellite";return a}});curuserPayed||map.addControl(new c);L.Control.hidenews({position:"bottomleft"}).addTo(map);Measure=L.control.polylineMeasure({position:"bottomleft",clearMeasurementsOnStop:!1}).addTo(map);Measure.drawPoints();map.addControl(drawControl);L.control.scale({position:"bottomright"}).addTo(map);miniMap=(new L.Control.MiniMap(b,{toggleDisplay:!0,position:"bottomright"})).addTo(map);dovenues2(ovens,!0);for(b=0;b<kmls.length;b++)c=new L.KML(kmls[b],{async:!0}),
map.addLayer(c)}}function moveendmap(){var b=map.getCenter(),c="&";0>curSAThref.indexOf("?")&&(c="?");linkTOgsat=curSAThref+c+"zoom="+map.getZoom()+"&ll="+b.lat+","+b.lng;$(".gotoothermap").attr("href",linkTOgsat)}
function drawPolygons(){if(1<polygonses.length){var b=JSON.parse(polygonses),c;for(c in b)if(2<b[c].latlngs.length){var f=new L.Polygon(b[c].latlngs,{stroke:!0,color:b[c].color,fill:!0,opacity:.7,weight:3,clickable:!0});f.on("click",function(a){areaeditmode&&a.enableEdit()});f.on("draw:drawstop",function(a){console.log(a)});drawnItems.addLayer(f)}}}
function mobSwiper(){isMobile.any()&&($(".popup-box .marker-time").after('<div class="swiper">< swipe or tap here ></div>'),$(".popup-text .swiper").swipe({tap:function(b,c){indexShow++;indexShow>$(".event").length-1&&(indexShow=0);showcomments(ovens.venues[indexShow].id)},swipe:function(b,c,f,a,e,k){for(b=0;b<ovens.venues.length;b++)if(ovens.venues[b].id===l){indexShow=b;break}"right"==c?(vis=1,indexShow++,indexShow>ovens.venues.length-1&&(indexShow=0)):(vis=-1,indexShow--,0>indexShow&&(indexShow=
ovens.venues.length-1));var l=ovens.venues[indexShow].id;showcomments(l)}}),$(".event .swiper").swipe({tap:function(b,c){indexShow++;indexShow>$(".event").length-1&&(indexShow=0);$(this).parent().hide();$(".event:eq("+indexShow+")").show()},swipe:function(b,c,f,a,e,k){b=0;"left"==c?(b=1,indexShow++,indexShow>$(".event").length-1&&(indexShow=0)):"right"==c?(b=-1,indexShow--,0>indexShow&&(indexShow=$(".event").length-1)):"down"!=c&&"none"!=c&&null!=c||$(this).parent().click();0!=b&&($(this).parent().hide(),
$(".event:eq("+indexShow+")").show())},threshold:0}))}
$(document).ready(function(){$("#showpatterns").on("click",function(b){b.preventDefault();b=[];for(var c=0;c<areas.length;c++){var a=new L.StripePattern({angle:25*c});b.push(a);b[c].addTo(map);areas[c].setStyle({fillPattern:b[c],stroke:!0,fillOpacity:.2})}});$(".legendrow img, .bs64").each(function(){$(this).attr("data-src")&&$(this).attr("src","data:image/svg+xml;base64,"+returnsvg($(this).attr("data-src"),!1))});$(".bgma").each(function(){$(this).attr("data-src")&&($(this).css("background",'url("data:image/svg+xml;base64,'+
returnsvg($(this).attr("data-src"),!1)+'") no-repeat'),$(this).css("background-size","contain"))});moment.locale(curlang);topmenu();mobSwiper();tabs(0);click_events();if(0<$(".rgn.active").length){var b=$(".rgn.active").position().left-100;0<b&&$(".nav").css("left",-b+"px")}size();0<ovens.venues.length&&$("#feedler").html("");!isMobile.any()||680<$(window).width()?maps():dovenues2(ovens,!0);0!=curid&&(isMobile.any()&&(maps(),b=getvenuebyId(curid),curid=b.id,b=[b.lat,b.lng],$(".popup-box").hide(),
map.setZoom(8),map.panTo(b),$(".wrapper").show(),$(".mobile-navigation").show(),$("#menu_map").click()),setCurrent(curid));showa();isMobile.any()&&!1!==getQueryVariable("ll")&&$("#menu_map").click();setTimeout(function(){$(window).resize()},2500);isMobile.any()||setInterval(function(){var b=$(window).height();450>b&&(b=1E3);$("#feedler").css("height",b+"px")},500)});
function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),f=0;f<c.length;f++){var a=c[f].split("=");if(decodeURIComponent(a[0])==b)return decodeURIComponent(a[1])}console.log("Query variable %s not found",b);return!1}
function showstarting(b){userscroll=!1;var c=30;isMobile.any()&&(c=4);0>b&&(b=0);var f=0;if(b<thislayout.length){for(var a=b;a<b+c;a++)if(void 0!==thislayout[a]){if(0===thislayout[a].status){for(var e=!0,k=0;k<thislayout.length;k++)if(1===thislayout[k].status)if(thislayout[k].sortorder===thislayout[a].sortorder-1){$("#"+thislayout[k].trg).after(thislayout[a].html);e=!1;f++;break}else if(thislayout[k].sortorder===thislayout[a].sortorder+1){$("#"+thislayout[k].trg).before(thislayout[a].html);e=!1;f++;
break}e&&1>$(".event[data-id='"+thislayout[a].id+"']").length&&$("#feedler").append(thislayout[a].html);thislayout[a].status=1}}else break;isMobile.any()&&"undefined"!=typeof advlayout[countadded]&&0==advlayout[countadded].status&&0<f&&(b=".event:not(.passby):eq("+(3*countadded+2)+")",0==$(b).length&&(b=".event:not(.passby):last"),$(b).hasClass("passby")||(advlayout[countadded].script?($(b).after(advlayout[countadded].html),vscript(advlayout[countadded],advlayout[countadded].trg)):$(b).after(advlayout[countadded].html),
advlayout[countadded].status=1,countadded++))}userscroll=!0}var PREBID_TIMEOUT=700,MAX_RETRIES=20;function vscript(b,c){var f=b.ob;null==f&&(f=$.parseJSON(b.html));if(""!=f.beforescript){var a=document.createElement("script");a.text=f.beforescript;document.getElementById(c).appendChild(a)}""!=f.afterscript&&(a=document.createElement("script"),a.text=f.afterscript,document.getElementById(c).appendChild(a))}
function showatposition(b){for(var c=0,f=0;f<thislayout.length;f++)thislayout[f].id===b&&(c=f);return c}
function showsmart(){if(!isMobile.any()){if(wassmart)return!0;wassmart=!0;for(var b=0;b<thislayout.length;b++)showstarting(b);return!0}var c="#feedler";isMobile.any()&&(c=".news-lent");if(-1===delta)showstarting(0);else if(0<$(c).scrollTop()-delta){for(var f=0,b=0;b<thislayout.length;b++)1===thislayout[b].status&&(f=b);for(b=f;b<thislayout.length;b++)if(0===thislayout[b].status){f=b;break}showstarting(f)}else if(0!=f){for(b=f=0;b<thislayout.length;b++)if(1===thislayout[b].status){f=b;break}showstarting(f-
4)}delta=$(c).scrollTop();isMobile.any()||$("#feedler").append($(".nextpage"))}function fvObj_add(){if(mapsready)for(var b=0;b<fvObjects.length;b++){var c=fvObjects[b],f="data:image/svg+xml;base64,"+getSVG(c.svg.svg_id,c.fillcolor),f=new (L.Icon.extend({options:{iconUrl:f,iconSize:[c.svg.width,c.svg.height],iconAnchor:[c.svg.width/2,c.svg.height/2]}})),f=L.marker([c.lat,c.lng],{icon:f});f.bindPopup(c.name).addTo(map);fvObjLayer.push(f)}}
function removeFvObjs(){for(var b=0;b<fvObjLayer.length;b++)map.removeLayer(fvObjLayer[b]);fvObjLayer=[]}
function drawField(b){for(var c=[],f=0;f<b.points.length;f++)c.push([b.points[f].lat,b.points[f].lng]);switch(Math.round(b.type_id)){case 24:for(var a=[],e=0;e<b.points.length;e+=3)a.push([b.points[e],b.points[e+1],b.points[e+2]]);a=a.map(function(a){return[a[0],a[1]]});L.heatLayer(a).addTo(map);break;case 4:c=L.polygon(c,{});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity});c.addTo(map);areas.push(c);break;
case 6:var k=[];if(isMyReg)for(e=0;e<b.points.length;e++){c=[];for(f=0;f<b.points[e].length;f+=2)c.push([b.points[e][f],b.points[e][f+1]]);c=L.polygon(c,{id:b.id,vpath:e});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity,fill:"url(/images/cb/0.png)"});""!==b.description&&c.bindTooltip(b.description,{sticky:!1,opacity:.8});c.addTo(map);areas.push(c)}else{for(e=0;e<b.points.length;e++){c=[];for(f=0;f<b.points[e].length;f+=
2)c.push([b.points[e][f],b.points[e][f+1]]);k.push(c)}c=L.polygon(k,{});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity,fill:"url(/images/cb/0.png)"});if("FORWARD_CLOSED_ARROW"!=b.symbolpath){e=new L.Pattern({width:25,height:25,color:b.fillcolor});switch(b.symbolpath){case "FIRE":a=new L.PatternPath({d:"m8.48675,19.072586c0.335586,0.579323 0.758949,1.129898 1.269774,1.650921c0.510942,0.520976 1.027254,0.970244 1.549521,1.347616c0.522189,0.377561 1.118869,0.75026 1.790082,1.118898l-0.011246,-0.013548l0.044789,0.013548c-0.499774,-1.150197 -0.749544,-2.156365 -0.749544,-3.019024c0,-0.458332 0.091459,-0.891928 0.2743,-1.300504c0.182645,-0.409001 0.421207,-0.775421 0.715845,-1.098553c0.294755,-0.323415 0.621016,-0.646829 0.978938,-0.970292c0.357883,-0.323698 0.715806,-0.671849 1.07412,-1.044548c0.357922,-0.37284 0.6843,-0.76834 0.978898,-1.186121c0.294637,-0.417875 0.533161,-0.923273 0.716079,-1.516286c0.182645,-0.593061 0.274104,-1.240079 0.274104,-1.940772c0,-0.880598 -0.102705,-1.707192 -0.307647,-2.479969c-0.205137,-0.772683 -0.475519,-1.448922 -0.811027,-2.028387c-0.335508,-0.579465 -0.758714,-1.129898 -1.269931,-1.650826c-0.510903,-0.521164 -1.027215,-0.970433 -1.549364,-1.347711c-0.522189,-0.377372 -1.11883,-0.75026 -1.790003,-1.118662l0.011129,0.013596l-0.033543,-0.013596c0.492173,1.167947 0.73822,2.174398 0.73822,3.018883c0,0.458238 -0.091342,0.891834 -0.274104,1.300551c-0.182801,0.408812 -0.421403,0.774902 -0.715962,1.098458c-0.294677,0.323415 -0.620937,0.646876 -0.978938,0.970433c-0.358118,0.323415 -0.716158,0.67166 -1.07412,1.0445c-0.358001,0.37284 -0.684261,0.768246 -0.978938,1.185933c-0.294559,0.417875 -0.533161,0.923273 -0.715962,1.516286c-0.182645,0.593061 -0.274104,1.240079 -0.274104,1.940772c0,0.880598 0.102314,1.707239 0.307451,2.479922c0.205176,0.77273 0.475597,1.449158 0.811183,2.028482l0.000001,0z",
color:b.fillcolor,fill:!0});break;case "STRIPE":e=new L.StripePattern({weight:b.strokeweight,color:b.fillcolor,opacity:b.strokeopacity});stripes.addTo(map);break;case "NUCLEAR":a=new L.PatternPath({d:"m15.392692,12.61212l6.812616,0c0.263363,0 0.47681,-0.213447 0.47681,-0.47681c0,-1.788784 -0.477556,-3.544415 -1.381074,-5.0771c-0.876698,-1.487425 -2.130002,-2.730671 -3.624318,-3.595263c-0.109517,-0.063513 -0.239709,-0.080648 -0.362078,-0.048054c-0.122183,0.032781 -0.226485,0.112684 -0.289625,0.222201l-3.406774,5.90053c-0.296144,-0.108586 -0.615756,-0.167815 -0.949151,-0.167815c-0.333209,0 -0.653007,0.059229 -0.949151,0.167815l-3.406029,-5.899226c-0.131682,-0.228161 -0.423169,-0.306202 -0.651331,-0.17452c-1.549075,0.894206 -2.83069,2.185692 -3.706457,3.734581c-0.849691,1.503071 -1.299681,3.209903 -1.301357,4.936479c-0.000186,0.126466 0.050102,0.247904 0.139504,0.337492c0.089402,0.089402 0.21084,0.139691 0.337306,0.139691l6.814106,0c0.11436,0.655242 0.459675,1.232071 0.949337,1.642575l-3.40696,5.900902c-0.06314,0.109517 -0.080276,0.239709 -0.047495,0.361892s0.112497,0.226299 0.222015,0.289439c1.523186,0.879492 3.249575,1.343078 4.998315,1.343078c0.029614,0 0.059415,-0.000186 0.089216,-0.000372c1.726575,-0.015645 3.429869,-0.479418 4.925862,-1.341216c0.109704,-0.06314 0.189607,-0.167256 0.222574,-0.289625c0.032781,-0.122183 0.015645,-0.252374 -0.047681,-0.361892l-3.407519,-5.90202c0.489662,-0.41069 0.834977,-0.987519 0.949337,-1.642761zm1.066118,-6.087156l1.147139,-1.986772c2.421489,1.577945 3.956596,4.237467 4.109883,7.120308l-6.32314,0c-0.11436,-0.655242 -0.459861,-1.231885 -0.949523,-1.642575l2.015642,-3.49096zm-8.726004,-1.986027l3.162222,5.477174c-0.489662,0.410504 -0.834977,0.987147 -0.949337,1.642389l-6.324258,0c0.155708,-2.886007 1.691373,-5.545343 4.111373,-7.119563zm9.047293,15.670302c-2.577198,1.308063 -5.648342,1.307876 -8.221442,-0.000745l3.161291,-5.475498c0.296144,0.108586 0.615942,0.167815 0.949151,0.167815c0.333395,0 0.653007,-0.059229 0.949151,-0.167815l3.16185,5.476243zm-4.111,-6.262049c-0.997763,0 -1.809831,-0.810764 -1.811694,-1.808155c0,-0.001304 0.000186,-0.002421 0.000186,-0.003725c0,-0.001118 -0.000186,-0.002421 -0.000186,-0.003539c0.001863,-0.997391 0.81393,-1.808341 1.811694,-1.808341c0.999067,0 1.81188,0.812813 1.81188,1.81188s-0.812813,1.81188 -1.81188,1.81188z",
color:b.fillcolor,fill:!0});break;default:a=new L.PatternCircle({x:12,y:12,radius:10,fill:!0})}void 0!=a&&e.addShape(a);e.addTo(map);c.setStyle({fillPattern:e,fillColor:b.fillcolor,stroke:!0,color:b.fillcolor,fillOpacity:b.fillopacity})}""!==b.description&&c.bindPopup(b.description);c.addTo(map);areas.push(c)}break;case 13:c=L.polyline(c,{});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity});c.addTo(map);areas.push(c);
break;case 14:c=L.polyline(c,{});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity});"FORWARD_CLOSED_ARROW"!=b.symbolpath&&(e=b.symbolpath.split(";"),c.setStyle({color:b.fillcolor,weight:b.strokeweight,opacity:b.strokeopacity,dashArray:e[0],lineJoin:e[1]}));""!==b.description&&c.bindPopup(b.description);c.addTo(map);areas.push(c);break;case 25:c=L.polyline.antPath(c,{delay:400,dashArray:[10,20],weight:b.strokeweight,
color:b.strokecolor,pulseColor:b.fillcolor,paused:!1,reverse:!1});""!==b.description&&c.bindPopup(b.description);map.addLayer(c);areas.push(c);break;case 614:c=L.polyline(c,{});c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,opacity:b.strokeopacity});c.addTo(map);areas.push(c);break;case 15:c=L.circle([b.lat,b.lng],Math.round(b.picture)),c.setStyle({clickable:!1,fillColor:b.fillcolor,fillOpacity:b.fillopacity,color:b.strokecolor,weight:b.strokeweight,
opacity:b.strokeopacity}),c.addTo(map),areas.push(c)}}function clearFields(){for(var b=0;b<areas.length;b++)map.removeLayer(areas[b]);areas=[]}
function dovenues2(b,c){if(c)ovens=b;else for(var f=0;f<b.venues.length;f++)ovens.venues.push(b.venues[f]);$("#toptime").html("<span>"+ovens.datac+" "+ovens.datam+" "+ovens.datay);c&&clearFields();fvObj_add();var a=[];if(1>document.location.href.indexOf("/areas"))for(f=0;f<b.venues.length;f++){var e=b.venues[f];a.push(e.id);var k=null;if(0<e.points.length)for(var l=0;l<e.points.length;l++)k=addmarker(e,e.points[l].lat,e.points[l].lng),null!==k&&markers.push({m:k,v:e});else k=addmarker(e,e.lat,e.lng),
null!==k&&markers.push({m:k,v:e})}mapsready&&null!==b.fields&&void 0!==b.fields&&getFields(b.fields);if(c&&0<blocks.length){for(f=0;f<blocks.length;f++)blocks[f].done=!1;blocks=shuffle(blocks);for(f=e=0;f<ovens.venues.length;f++)e>blocks.length&&(e=0),addmblock(f,a,e),e++}for(f=0;f<thislayout.length;f++)thislayout[f].sortorder=f;first&&0<$("#maplegend").length&&(setCurrent(curid),imagesLoaded(document.querySelector("#maplegend"),function(a){0!=curid&&showpopup(curid)}));isMobile.any()||(clearInterval(updater),
updater=setInterval(updatefeed,12E4));f=new Date;f=f.today()+" "+f.timeNow();$(".updated,.nextpage").remove();$(".date-update").html(getl(3)+" "+f+"");showsmart();showa();0<ovens.venues.length&&$("#feedler").append('<div class="nextpage"><a href="#" id="prevday">SHOW previous</a></div>');first=!1;$.getScript("https://liveuamapcom.disqus.com/count.js");"undefined"!==typeof twttr&&null!==twttr&&twttr.widgets.load()}
function addvenuesPrevious(){$.ajax({url:wwwpath+"ajax/do?act=prevday&id="+thislayout[thislayout.length-1].id,context:document.body,dataType:"JSON"}).done(function(b){0!=b.globaltime?(globaltime=b.globaltime,thislayout=[],wassmart=!1,countadded=0,advlayout=[],fvObjects=b.fvObjects,dovenues2(b,!0)):$("#feedler").append('<div class="nextpage">No events!</div>')})}
function addvenues(b){$.ajax({url:wwwpath+"ajax/do?act=pts&curid="+curid+"&time="+globaltime+"&last="+lastid,context:document.body,dataType:"html"}).done(function(c){c=getBack(c,livemap);0!=c.globaltime&&(globaltime=c.globaltime,thislayout=[],countadded=0,wassmart=!1,advlayout=[],dovenues2(c,b))})}$(window).resize(function(){size();topmenu()});
function nullmarkers(){for(var b=0;b<markers.length;b++){var c=markers[b];map.removeLayer(c.m)}for(b=0;b<fields.length;b++)c=fields[b],map.removeLayer(c);markers=[];fields=[];dontclear=!1}function clearmarkers(){for(var b=0;b<markers.length;b++){var c=markers[b];if(null!=c&&null!=c.m){var f=L.icon({iconUrl:"data:image/svg+xml;base64,"+returnsvg(c.v.picpath,!1),iconSize:[c.v.picw,c.v.pich],iconAnchor:[c.v.picw/2,c.v.pich/2]});c.m.setIcon(f)}}}
function setCurrent(b){if(mapsready&&curid)for(clearmarkers(),b=0;b<markers.length;b++){var c=markers[b];if(c.v.id==curid){8>map.getZoom()&&map.setZoom(8);map.panTo(c.m.getLatLng());var f=L.icon({iconUrl:"data:image/svg+xml;base64,"+returnsvg(c.v.picpath_over,!0),iconSize:[c.v.picwo,c.v.picho],iconAnchor:[c.v.picwo/2,c.v.picho/2]});c.m.setIcon(f);showpopup(c.v.id);isMobile.any()&&(c.m.openPopup(),$(".jumpnewxt").remove(),$(".leaflet-popup-content").after('<div class="jumpnewxt"><a href="#" class="link-jump" data-id="'+
c.v.id+'">watch next</a></div>'))}}}
function addmarker(b,c,f){addpopup(b.id,b.time,b.name,b.description,b.source,b.link,b.city,b.picture,b.link,b.target,b);if(!mapsready)return null;var a=L.icon({className:b.picpath,iconUrl:"data:image/svg+xml;base64,"+returnsvg(b.picpath,!1),iconSize:[b.picw,b.pich],iconAnchor:[b.picw/2,b.pich/2]}),e=!1;if(null!==b.runway)var e=!0,k=L.Marker.movingMarker(b.runway.pt,b.runway.tm,b.runway.an,{autostart:!1,loop:!0,icon:a,title:b.name,riseOnHover:!0});else k=L.marker([c,f],{icon:a,title:b.name,riseOnHover:!0});
var l=function(a){void 0==a&&(a=this);clearmarkers();var c=a.getLatLng();7>map.getZoom()&&map.setZoom(7);map.panTo([c.lat,c.lng]);highlightedM==b.id&&showcomments(b.id);highlightedM=b.id;c=L.icon({iconUrl:"data:image/svg+xml;base64,"+returnsvg(b.picpath_over,!0),iconSize:[b.picwo,b.picho],iconAnchor:[b.picwo/2,b.picho/2]});640>=$(window).width()&&($("div.mnu a").removeClass("inside"),$("#maplegend").show(),$("#list").addClass("inside"));showpopup(b.id);null!=a&&void 0!=a&&a.setIcon(c);if(0<b.points.length)for(a=
0;a<markers.length;a++)markers[a].v.id==b.id&&markers[a].m.setIcon(c)};isMobile.any()&&(c=$("<div>"+b.name+"</div>").click(function(){l(k)})[0],k.bindPopup(c));k.addTo(map);k.on("click",function(){e&&(this.isRunning()?this.stop():this.start());l(this)});return k}
function size(){$(".boxselect").css({left:$(window).width()/2-300});560>$(window).height()?$(".adminmain").css({overflowY:"scroll"}):$(".adminmain").css({overflowY:"visible"});700<$(window).width()?($("#map_canvas").css("width",$(window).width()-394+"px"),$("#map_canvas").attr("width",$(window).width()-394+"px"),$("#map_canvas").show()):(1>$(".mobile-navigation").length&&$("body").prepend('<div class="mobile-navigation"><a href="#" class="mn-up"></a><a href="#" class="mn-down"></a></div>'),$("#map_canvas").css("width",
$(window).width()+"px"),$("#map_canvas").attr("width",$(window).width()+"px"))}function change_my_url(b,c){void 0!=c&&(wwwfullpath=c,c.indexOf("liveuamap")&&(c=c.split(".com/")[1]),history.pushState(stateObj,b,wwwpath+""+c))}
function showpopup(b){var c=showatposition(b);showstarting(c);change_my_url("liveuamap",$("#post-"+b).attr("data-link"));$(".sselected").removeClass("sselected");$(".rgn").each(function(){$(this).attr("data-lid")==$("#post-"+b).attr("data-resource")&&$(this).addClass("sselected")});$(".selected").removeClass("selected");$("#post-"+b).addClass("selected");var f=150;640>=$(window).width()&&(f=100);$("#infobox").hide();$("#filterbox").hide();$("#feedler").show();if(!isMobile.any()){var a=$("#feedler").scrollTop()+
$("#post-"+b).position().top-f;void 0!=$("#post-"+b)&&0<$("#post-"+b).length&&$("#feedler").stop().animate({scrollTop:a},function(){a=$("#feedler").scrollTop()+$("#post-"+b).position().top-f;$("#feedler").scrollTop(a)})}for(var c=map.getPanes().markerPane.childNodes,e=0;e<c.length;e++)c[e].style.zIndex=c[e]._leaflet_pos.y;for(c=0;c<markers.length;c++)if(markers[c].v.id==b&&null!=markers[c].m._icon){markers[c].m._icon.style.zIndex=markers[c].m._icon._leaflet_pos.y+30;break}$(window).width()}
function addpopup(b,c,f,a,e,k,l,p,q,t,u){for(c=0;c<thislayout.length;c++)if(thislayout[c].id==b)return;c="";""!=p&&(c='<label><img src="'+p+'" /></label>');p=u.link;a=getl(2);f=linkify(f);k="";if(0!=u.videotype&&""!=u.video)switch(u.videotype){case 1:k='<div class="video yt" style="background:url(https://img.youtube.com/vi/'+u.video+'/mqdefault.jpg) center no-repeat" data-id="'+u.id+'"><img src="'+wwwpath+'images/thumbnail_you.png"/></div>';break;default:k='<div class="video_default" style="background:url(/images/picture_videos.png) center no-repeat"></div>'}l=
moment(1E3*u.timestamp).fromNow();q=getinfo(u);f='<div  data-link="'+p+'" data-twitpic="'+u.twitpic+'" data-id="'+b+'" id="post-'+b+'" class="event cat'+u.color_id+' sourcees"><div class="time top-info" ><img src="data:image/svg+xml;base64,'+returnsvg(u.picpath)+'"/><span class="date_add">'+l+'</span><div class="top-right">'+(0<e.length?'<a rel="nofollow noopener" class="source-link" href="'+e+'" target="_blank"><span class="source"></span>'+a+"</a>":"")+"</div>"+(isMyReg?'<span class="editevent">'+
getl(20)+"</span>":"")+"</div>"+q+'<div class="title">'+f+"</div>"+k+'<div class="img ">'+c+'</div><div class="bottom-info" title=""><div class="top-left"><a href="'+p+'" data-id="'+u.id+'" class="comment-link">'+getl(16)+'</a></div><div class="top-bright"><label>'+getl(0)+'</label><a data-id="'+u.id+'" class="facebook-icon fb" href="#"></a><a data-id="'+u.id+'" class="twitter-icon twi" href="#"></a></div></div></div>';thislayout.unshift({id:b,status:0,sortorder:thislayout.length,trg:"post-"+b,html:f});
lastid<b&&(lastid=b)}
(function(){function b(){}function c(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype,e=this,k=e.EventEmitter;a.getListeners=function(a){var b,c,e=this._getEvents();if("object"==typeof a)for(c in b={},e)e.hasOwnProperty(c)&&a.test(c)&&(b[c]=e[c]);else b=e[a]||(e[a]=[]);return b};a.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c};a.getListenersAsObject=
function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};a.addListener=function(a,b){var e,f=this.getListenersAsObject(a),k="object"==typeof b;for(e in f)f.hasOwnProperty(e)&&-1===c(f[e],b)&&f[e].push(k?b:{listener:b,once:!1});return this};a.on=f("addListener");a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};a.once=f("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var b=0;a.length>
b;b+=1)this.defineEvent(a[b]);return this};a.removeListener=function(a,b){var e,f,k=this.getListenersAsObject(a);for(f in k)k.hasOwnProperty(f)&&(e=c(k[f],b),-1!==e&&k[f].splice(e,1));return this};a.off=f("removeListener");a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};a.manipulateListeners=function(a,b,c){var e,f,k=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=
typeof b||b instanceof RegExp)for(e=c.length;e--;)k.call(this,b,c[e]);else for(e in b)b.hasOwnProperty(e)&&(f=b[e])&&("function"==typeof f?k.call(this,e,f):a.call(this,e,f));return this};a.removeEvent=function(a){var b,c=typeof a,e=this._getEvents();if("string"===c)delete e[a];else if("object"===c)for(b in e)e.hasOwnProperty(b)&&a.test(b)&&delete e[b];else delete this._events;return this};a.removeAllListeners=f("removeEvent");a.emitEvent=function(a,b){var c,e,f,k,l=this.getListenersAsObject(a);for(f in l)if(l.hasOwnProperty(f))for(e=
l[f].length;e--;)c=l[f][e],!0===c.once&&this.removeListener(a,c.listener),k=c.listener.apply(this,b||[]),k===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};a.trigger=f("emitEvent");a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};b.noConflict=function(){return e.EventEmitter=k,b};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){function c(a){var c=b.event;return c.target=c.target||c.srcElement||a,c}var f=document.documentElement,a=function(){};f.addEventListener?a=function(a,b,c){a.addEventListener(b,c,!1)}:f.attachEvent&&(a=function(a,b,e){a[b+e]=e.handleEvent?function(){var b=c(a);e.handleEvent.call(e,b)}:function(){var b=c(a);e.call(a,b)};a.attachEvent("on"+b,a[b+e])});var e=function(){};f.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:f.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(q){a[b+c]=void 0}});f={bind:a,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):b.eventie=f})(this);
(function(b,c){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(f,a){return c(b,f,a)}):"object"==typeof exports?module.exports=c(b,require("eventEmitter"),require("eventie")):b.imagesLoaded=c(b,b.EventEmitter,b.eventie)})(window,function(b,c,f){function a(a,b){for(var c in b)a[c]=b[c];return a}function e(a){var b=[];if("[object Array]"===w.call(a))b=a;else if("number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b}
function k(b,c,f){if(!(this instanceof k))return new k(b,c);"string"==typeof b&&(b=document.querySelectorAll(b));this.elements=e(b);this.options=a({},this.options);"function"==typeof c?f=c:a(this.options,c);f&&this.on("always",f);this.getImages();q&&(this.jqDeferred=new q.Deferred);var l=this;setTimeout(function(){l.check()})}function l(a){this.img=a}function p(a){this.src=a;M[a]=this}var q=b.jQuery,t=b.console,u=void 0!==t,w=Object.prototype.toString;k.prototype=new c;k.prototype.options={};k.prototype.getImages=
function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var e=c.nodeType;if(e&&(1===e||9===e||11===e))for(var c=c.querySelectorAll("img"),e=0,f=c.length;f>e;e++)this.addImage(c[e])}};k.prototype.addImage=function(a){a=new l(a);this.images.push(a)};k.prototype.check=function(){function a(a,f){return b.options.debug&&u&&t.log("confirm",a,f),b.progress(a),c++,c===e&&b.complete(),!0}var b=this,c=0,e=this.images.length;if(this.hasAnyBroken=
!1,!e)return this.complete(),void 0;for(var f=0;e>f;f++){var k=this.images[f];k.on("confirm",a);k.check()}};k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})};k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred)b.jqDeferred[b.hasAnyBroken?
"reject":"resolve"](b)})};q&&(q.fn.imagesLoaded=function(a,b){return(new k(this,a,b)).jqDeferred.promise(q(this))});l.prototype=new c;l.prototype.check=function(){var a=M[this.img.src]||new p(this.img.src);if(a.isConfirmed)return this.confirm(a.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0});a.check()};l.prototype.confirm=
function(a,b){this.isLoaded=a;this.emit("confirm",this,b)};var M={};return p.prototype=new c,p.prototype.check=function(){if(!this.isChecked){var a=new Image;f.bind(a,"load",this);f.bind(a,"error",this);a.src=this.src;this.isChecked=!0}},p.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},p.prototype.onload=function(a){this.confirm(!0,"onload");this.unbindProxyEvents(a)},p.prototype.onerror=function(a){this.confirm(!1,"onerror");this.unbindProxyEvents(a)},p.prototype.confirm=
function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)},p.prototype.unbindProxyEvents=function(a){f.unbind(a.target,"load",this);f.unbind(a.target,"error",this)},k});function streamPublishTwi(b,c,f,a){ga("send","event","twishare","click");b="http://twitter.com/share?url="+encodeURIComponent(a);b+="&text="+encodeURIComponent(c);b+="&image="+encodeURIComponent(f);window.open(b+"&noparse=true","","toolbar=0,status=0,width=626,height=436")}
function streamPublishFb(b,c,f,a){ga("send","event","fbshare","click");b=screen.height/2-150;c=screen.width/2-225;window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(a),"sharer","top="+b+",left="+c+",toolbar=0,status=0,width=450,height=300")}
function linkify(b){var c;(c=b.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/))&&11==c[7].length?b=b.replace(/(?:https:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/g,""):(c=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,b=b.replace(c,'<a href="$1" rel="nofollow noopener" target="_blank">$1</a>'),c=/(^|[^\/])(www\.[\S]+(\b|$))/gim,b=b.replace(c,'$1<a rel="nofollow noopener" href="http://$2" target="_blank">$2</a>'),c=
/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,b=b.replace(c,'<a  href="mailto:$1">$1</a>'));return b}Date.prototype.today=function(){return(10>this.getDate()?"0":"")+this.getDate()+"/"+(10>this.getMonth()+1?"0":"")+(this.getMonth()+1)+"/"+this.getFullYear()};Date.prototype.timeNow=function(){return(10>this.getHours()?"0":"")+this.getHours()+":"+(10>this.getMinutes()?"0":"")+this.getMinutes()+":"+(10>this.getSeconds()?"0":"")+this.getSeconds()};
function getParameterByName(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(location.search);return null===b?"":decodeURIComponent(b[1].replace(/\+/g," "))}
function roundNumber(b,c){b+="";if(-1<b.indexOf(".")&&b.split(".")[1].length>c){var f=b.split(".")[1].split("");if(4<f[c]){var a;for(a=c-1;-1<a;a--)if(9!=f[a]){f[a]=1*f[a]+1+"";break}else f[a]="0";f.length=c;f=f.join("");-1==a?(b=b.split(".")[0],"-"!=b[0]?++b:--b,b=b+"."+f):b=b.split(".")[0]+"."+f}else b=b.substring(0,b.indexOf(".")+c+1)}return 1*b}
var isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPod/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()}};function shuffle(b){for(var c,f,a=b.length;a;c=Math.floor(Math.random()*a),f=b[--a],b[a]=b[c],b[c]=f);return b}
function topmenu(){if(!isMobile.any()){var b=$(window).height();550>b&&(b=document.body.clientHeight);550>b&&(b=700);var c=Math.round(b-170)+"px",f=Math.round(b-200)+"px";550<Math.round(b-170)&&100<parseInt(c)?$("#feedler,#about,#admin").css("height",c):($("#feedler,#about,#admin").css("height","550px"),f=Math.round(document.body.clientHeight-194)+"px");$("#language,#time,#legend").css("height",f)}}
function showa(){var b="#feedler";isMobile.any()&&(b=".news-lent");var c=$("#top").height();500>c&&(c=500);b=Math.round($(b).scrollTop()/c);if(!isMobile.any())for(c=0;7>c;c++)if(b+c<advlayout.length){var f=".event:eq("+(3*(b+c+1)+countadded-1)+")";0==$(f).length&&(f=".event:last");$(f).hasClass("passby")||0!=advlayout[b+c].status||(advlayout[b+c].script?(advlayout[b+c].status=1,$(f).after(advlayout[b+c].html),vscript(advlayout[b+c],advlayout[b+c].trg)):($(f).after(advlayout[b+c].html),advlayout[b+
c].status=1),countadded++)}}
function tabs(b){$("#tab-news").slideDown();$(".phones").slideDown();isMobile.any()?$(".news-lent").scrollTop(0):feHeight(175);$(".scrolnav").addClass("scroll0");$("#scroller").stop().animate({scrollTop:0});7!=b&&($(".nav-news li").removeClass("active"),$(".scrotabs").hide());$(".news-lent").removeClass("showmap");$("#scroller").show();$(".mobile-navigation").hide();""==$("#lngplace").html()&&$("#lngplace").html('<iframe style="width:340px;height:270px;border:0px none;" src="/show?a=19"></iframe>');switch(b){case 0:isMobile.any()&&
($("#map_canvas").hide(),$(".mobile-navigation").show());$(".head-box #menu_events").parent().addClass("active");$(".mobile-menu #menu_events").parent().addClass("active");$("#feedler").show();$(".date-update").show();$("#tab-header").html(getl(5));break;case 1:isMobile.any()&&$("#map_canvas").hide();$(".head-box #menu_languages").parent().addClass("active");$(".mobile-menu #menu_languages").parent().addClass("active");$(".date-update").hide();$("#language").show();$("#tab-header").html(getl(17));
break;case 2:$(".mobile-navigation").hide();$(".phones").slideUp();$("#map_canvas").show();$(".head-box #menu_map").parent().addClass("active");$(".mobile-menu #menu_map").parent().addClass("active");$("#scroller").hide();$(".news-lent").addClass("showmap");$(".date-update").hide();break;case 3:isMobile.any()&&$("#map_canvas").hide();$(".head-box #menu_timelapse").parent().addClass("active");$(".mobile-menu #menu_timelapse").parent().addClass("active");$(".date-update").hide();$("#tab-header").html(getl(18));
$("#time").show();break;case 4:isMobile.any()&&$("#map_canvas").hide();$(".head-box #menu_legend").parent().addClass("active");$(".mobile-menu #menu_legend").parent().addClass("active");$(".date-update").hide();$("#tab-header").html(getl(19));$("#legend").show();break;case 5:isMobile.any()&&$("#map_canvas").hide();$(".head-box #menu_about").parent().addClass("active");$(".mobile-menu #menu_about").parent().addClass("active");$(".date-update").hide();$("#tab-header").html(getl(6));$("#about").show();
break;case 6:isMobile.any()&&$("#map_canvas").hide();$(".head-box #menu_admin").parent().addClass("active");$(".mobile-menu #menu_admin").parent().addClass("active");$(".date-update").hide();$("#tab-header").html("Admin panel");$("#admin").show();break;case 7:isMobile.any()&&$("#map_canvas").hide(),$(".head-box #menu_about").parent().addClass("active"),$(".mobile-menu #menu_about").parent().addClass("active"),$("#about").show().animate({"margin-right":"0"},400)}680<$(window).width()&&$("#map_canvas").show()}
function getvenuebyId(b){for(var c=0;c<ovens.venues.length;c++)if(ovens.venues[c].id==b)return ovens.venues[c];return!1}function convertDMS(b,c){var f=Math.abs(b),a=Math.floor(f),e=Math.abs(c),k=Math.floor(e);return a+"\u00b0"+Math.floor(60*(f-a))+"\u2032"+(0<b?"N":"S")+" "+k+"\u00b0"+Math.floor(60*(e-k))+"\u2032"+(0<c?"E":"W")}var twitterloaded=!1;
function showcomments(b){if(isMobile.any()&&!mobileOnTheMap)mobileOnTheMap=!0;else if(b=getvenuebyId(b),!1!==b){change_my_url("liveuamap",b.link);var c=moment(1E3*b.timestamp).fromNow(),f="";""!=b.picture&&(f='<img src="'+b.picture+'"/>');if(null!=b.ps)for(var a=0;a<b.ps.length;a++)b.ps[a]!=b.picture&&(f+='<img src="'+b.ps[a]+'"/>');a="";if(0!=b.videotype&&""!=b.video){switch(b.videotype){case 10:case 5:a=720>window.innerWidth?'<iframe src="'+b.video+'" width="320" height="240" frameborder="0" allowfullscreen></iframe>':
'<iframe src="'+b.video+'" width="720" height="365" frameborder="0" allowfullscreen></iframe>';break;case 11:a=720>window.innerWidth?'<iframe src="https://www.facebook.com/plugins/video.php?href='+b.video+'&width=179&show_text=false&appId=443055022383233&height=343" width="320" height="179" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>':'<iframe src="https://www.facebook.com/plugins/video.php?href='+b.video+'&width=720&show_text=false&appId=443055022383233&height=343" width="720" height="343" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>';
break;case 1:a=720>window.innerWidth?'<iframe class="vidos" width="320" height="180" src="https://www.youtube-nocookie.com/embed/'+b.video+'?rel=0" frameborder="0" allowfullscreen></iframe>':'<iframe class="vidos" width="720" height="365" src="https://www.youtube-nocookie.com/embed/'+b.video+'?rel=0" frameborder="0" allowfullscreen></iframe>';break;case 2:if(!twitterloaded){twitterloaded=!0;a=document.createElement("script");a.async=!0;a.src="https://platform.twitter.com/widgets.js";var e=!1;a.onload=
a.onreadystatechange=function(){e||this.readyState&&"complete"!=this.readyState||(e=!0)};(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}a=720>window.innerWidth?'<div class="video vidos" style="width:320px"><blockquote hide_thread="true" class="twitter-video"><p><a href="'+b.video+'">'+b.video+'</a></p>&mdash;<a href="'+b.source+'"></a></blockquote></div>':'<div class="video vidos" style="width:719px"><blockquote hide_thread="true" class="twitter-video"><p><a href="'+
b.video+'">'+b.video+'</a></p>&mdash;<a href="'+b.source+'"></a></blockquote></div>';break;case 3:a=720>window.innerWidth?'<div class="video vidos"><iframe class="vine-embed"  width="320" height="180"  src="https://'+b.video+'/embed/simple" frameborder="0" allowfullscreen></iframe></div>':'<div class="video vidos"><iframe class="vine-embed"  width="719" height="600"  src="https://'+b.video+'/embed/simple" frameborder="0" allowfullscreen></iframe></div>';break;case 12:a='<div class="video vidos">'+
b.video+"</div>"}720>window.innerWidth&&($(".vidos").attr("width","100%"),$(".vidos").attr("height","auto"))}$(".popup-box .map-link").attr("data-id",b.id);$(".popup-box .fb").attr("data-id",b.id);$(".popup-box .twi").attr("data-id",b.id);$(".popup-box .source-link").attr("href",b.source);$("title").html(b.name+" - "+wwwpath.replace(RegExp("[/]","g"),""));$(".popup-box .popup-text h2").html(b.name);$(".popup-box .popup-text .popup_video").html(a);$(".popup-box .popup-text .popup_imgi").html(f);$(".popup-box .status").remove();
$(".popup-box .popup-text h2").before(getinfo(b));$(".tagas").remove();f="<div class='tagas'>";""!=b.location&&void 0!=b.location&&(f+="<strong>"+b.location+"</strong>");$.isArray(b.otherregions)||(b.otherregions=JSON.parse(b.otherregions));for(a=0;a<b.otherregions.length;a++)f+="<a href='"+b.otherregions[a].link+"'>#"+b.otherregions[a].name+"</a>";f+="</div>";$(".popup-text .clearfix").after(f);$(".alsoLangs").remove();var f="<div class='alsoLangs'>",k=b.langs.split(",");if(0<k.length&&0<k[0].length){var f=
f+("<p>"+getl(24)+"</p>"),l=b.link.split("/");if("en"!=b.lang){l[3]="en";var p=l.join("/"),f=f+("<a href='"+p+"'>English</a> ")}for(a=0;a<k.length;a++)k[a]!=b.lang&&(l[3]=k[a],p=l.join("/"),f+="<a href='"+p+"'>"+b.langNames[a]+"</a> ")}f+="</div>";$(".popup-text .tagas").after(f);$(".moresources").remove();f="<div class='moresources'>";k=b.moreSources;if(0<k.length&&0<k[0].length)for(f+="<p>"+getl(26)+"</p>",a=0;a<k.length;a++)f+=k[a];f+="</div>";$(".popup-text .alsoLangs").after(f);$(".popup-box .popup-text label").html("");
$(".popup-box .popup-text .marker-time").html('<img src="data:image/svg+xml;base64,'+returnsvg(b.picpath,!1)+'"/>'+c+' - <a href="'+wwwpath+"?zoom=11&ll="+b.lat+","+b.lng+'">'+convertDMS(b.lat,b.lng)+"</a>");$(".popup-box .popup-text .source-link").attr("href",b.source);$(".popup-box").show();$(".popup-info").scrollTop(0);isMobile.any()&&($(".mobile-navigation").hide(),$(".wrapper").hide());$("#disqus_thread").html("");$("#disqus_thread").hide();$(".showmorecomments").show();$(".aplace").show();$("#showcomentslink").attr("data-id",
b.id);$("#showcomentslink").attr("data-link",b.link);"undefined"!==typeof twttr&&null!==twttr&&twttr.widgets.load();void 0!=window.instgrm&&window.instgrm.Embeds.process()}}
function commentsBlock(b,c){$(".showmorecomments").hide();$(".aplace").hide();if(b<=fbCommsID&&1>curuser||!1!==cursettings&&1==cursettings.gm_disqus)$(".fb-comments").remove(),null!==DISQUS&&disqus_go(b);else{$("#disqus_thread").html("");$(".fb-comments").remove();var f='<div class="fb-comments" data-width="100%" data-href="'+c+'" data-numposts="5"></div>';$(".popup-text .fbcomms").append(f);if(window.isFBInitialized)FB.XFBML.parse();else $(document).on("fbload",function(){window.isFBInitialized=
!0;FB.XFBML.parse()})}$("#disqus_thread").show()}var usedbrfr4=[];function getbrfr4(){for(var b=0;b<blocks.length;b++){var c=Math.round(Math.random(0,1)*(blocks.length-1)),c=blocks[c];if(null!=c&&!(-1<usedbrfr4.indexOf(c.id))&&290==Math.round(c.height))return usedbrfr4.push(c.id),c}}
function videolink(b){if(0!=b.videotype&&""!=b.video)switch(b.videotype){case 1:return"https://www.youtube.com/watch?v="+b.video;case 2:return b.video;case 3:return"https://"+b.video;case 4:return"https://"+b.video;case 5:return"https://"+b.video;case 12:return b.video}return""}
function getinfo(b){var c="";""!=b.description&&null!=b.description&&(b.description='<span class="dscr">'+b.description+"</span>");null==b.description&&(b.description="");switch(Math.round(b.status_id)){case 1:c="<div class='status rumor'>This information is not confirmed, possible fake or hoax"+b.description+"</div>";break;case 2:c="<div class='status fake'>This information is confirmed fake, displayed to avoid further sharing"+b.description+"</div>";break;case 10:c="<div class='status fake'>This information is old and does not reflect recent events"+
b.description+"</div>";break;case 3:c="<div class='status truth'>This is confirmed and verified "+b.description+"</div>";break;case 5:c="<div class='status vertising'>The following is a paid commercial  "+b.description+"</div>";break;case 6:c="<div class='status location'>Location of this event is not known "+b.description+"</div>";break;case 8:c="<div class='status graphic'>Warning! This event contains graphic media, scenes of explicit violence or gore.  Is intended for mature audiences. "+b.description+
"</div>";break;case 9:c="<div class='status propaganda'>This event is known propaganda, displayed for awareness "+b.description+"</div>";break;case 11:c="<div class='status propaganda'>The source is well-known state propaganda agency, entity or personality. Please  be aware, even if particular information or statement is not propaganda and is true, do not rely on this source without proper objective analysis of facts to form a judgment. "+b.description+"</div>";break;case 12:c="<div class='status propaganda'>The source is state-funded media. Please, be aware, do not rely on this source without proper objective analysis of facts to form a judgment. "+
b.description+"</div>"}return c}
function addmblock(b,c,f){var a=blocks[f];if(void 0!==a){b=advlayout.length;banhide_url=0<curuser?"https://me.liveuamap.com/payments":"https://me.liveuamap.com/welcome";f='<a href="'+banhide_url+'" title="'+getl(31)+'" class="banhide">'+getl(31)+"</a>";var e='<a href="https://me.liveuamap.com/payments/turnadv" title="'+getl(33)+'" class="banhidebo">'+getl(33)+"</a>";curuserPayed&&(f="");var k="";!1!==a.height&&(k='style="height:'+a.height+'px"');a.script?(a=$.parseJSON(a.html),advlayout.splice(c.length-
1,0,{id:-1,trg:"spost-"+b,html:'<div  data-link="" '+k+' data-id="" id="spost-'+b+'" class="event passby">'+f+a.body+e+"</div>",status:0,ob:a,script:!0,sortorder:c.length-1})):advlayout.splice(c.length-1,0,{id:-1,trg:"spost-"+b,html:'<div  data-link="" '+k+' data-id="" id="spost-'+b+'"  class="event passby">'+f+a.html+e+"</div>",status:0,script:!1,sortorder:c.length-1})}}
function calendar(){var b=$(".dd_3 .d").first().attr("data-date").split("."),c=new Date;c.setDate(c.getDate()-1);for(b=new Date(b[2],b[1],b[0],0,0,0);b<c;){var f=$.format.date(b,"dd.MM.yyyy");b.setDate(b.getDate()+1);var a=$.format.date(b,"dd.MM.yyyy");0==$("[data-date='"+a+"']").length&&$("[data-date='"+f+"']").parent().after('<li class=""><a class="d" href="/'+curlang+"/time/"+a+'" data-date="'+a+'">'+$.format.date(b,"dd")+"</a></li>")}wascalendar=!0}
function resizeIframe(b){b.style.height=b.contentWindow.document.body.scrollHeight+"px"}var mambatimer=5;function mamba(){mambatimer=5;$("#closeMWa").hide();$("#closeMWa").after('<span id="timer">'+mambatimer+"</span>");setTimeout(mamba_mbt,1E3)}function mamba_mbt(){mambatimer--;0<mambatimer?($("#timer").html(mambatimer),setTimeout(mamba_mbt,1E3)):($("#timer").hide(),$("#closeMWa").show())};</script>
</body>
</html>
