<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>button.html</title>
</head>
<body>

<script>
!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=237)}({14:function(t,e,a){"use strict";function i(){return"undefined"!=typeof utag_data&&void 0!==utag_data.pageName?utag_data.pageName:""}function n(){return"undefined"!=typeof utag_data&&"cliente"===utag_data.userType}function o(t,e,a,i=null){t&&a&&"undefined"!=typeof utag_data&&(utag_data.event_zone=t,utag_data.event_name=a,utag_data.event_type=e,null!==i&&(utag_data.tealium_event=i),utag.track("link",utag_data))}function r(){if("undefined"!=typeof utag_data){var t=document.getElementById("js-data-layer-script");if(t){var e=document.createElement("script");e.type="text/javascript",e.id="js-data-layer-script";var a=document.createTextNode("var utag_data = "+JSON.stringify(utag_data,null,"  ")+";");e.appendChild(a),t.parentNode.replaceChild(e,t)}}}t.exports={methods:{buildDataLayerView:function(t,e){if("undefined"!=typeof utag_data){var a=$(".js-data-layer").data("layer-"+t);if(""!==a){utag_data.pageName=a.pageName,utag_data.pageType=a.pageType;var i=a.pageType.split(":");utag_data.checkoutStep=i[1].replace("paso",""),utag_data.pageVirtual=window.location.protocol+"//"+utag_data["dom.domain"]+utag_data["dom.pathname"],"/"!==utag_data["dom.pathname"].slice(-1)&&(utag_data.pageVirtual+="/"),utag_data.pageVirtual+=a.stepID}utag_data.tealium_event="checkout",Object.keys(e).length&&Object.keys(e).forEach(t=>{utag_data[t]=e[t]}),utag.track("view",utag_data),r()}},buildDataLayerEventLinkCheckout:function(t,e,a,i=null){"undefined"!=typeof utag_data&&(t="tiendaOnline:"+t,n()&&(t="areaCliente:"+t),o(t,e,a,i))},buildDataLayerEventLink:o,getProductName:function(){return"undefined"!=typeof utag_data&&void 0!==utag_data.product_name?utag_data.product_name:""},buildDataLayerViewGeneral:function(t){"undefined"!=typeof utag_data&&(Object.keys(t).forEach(e=>{utag_data[e]=t[e]}),utag.track("view",utag_data),r())},getProductCategory:function(){return"undefined"!=typeof utag_data&&void 0!==utag_data.product_category?utag_data.product_category:""},getPageCategory:function(){return"undefined"!=typeof utag_data&&void 0!==utag_data.pageCategory?utag_data.pageCategory:""},getPageType:function(){return"undefined"!=typeof utag_data&&"undefined"!==utag_data.pageType?utag_data.pageType:""},getPageName:i,getPageNameWithoutWebOrange:function(){return i().replace("web:orange:","").replace("tiendaOnline:","")},removeDataLayerViewGeneralData:function(t,e=[]){"undefined"!=typeof utag_data&&(Object.keys(t).forEach(t=>{-1===e.indexOf(t)&&delete utag_data[t]}),utag.track("view",utag_data),r())},addProductToDataLayer:function(t){return new Promise((function(e,a){if(null!==t.tokenname&&null!==t.token&&null!==t.category&&"undefined"!=typeof utag_data){var i={};i.id=t.category,i[t.tokenname]=t.token,$.ajax({url:t.url,type:"post",data:i,dataType:"json"}).done(t=>{t&&Object.keys(t.data).length&&Object.keys(t.data).forEach(e=>{utag_data[e]=t.data[e]}),e()}).fail(()=>{a()})}else a()}))},isClient:n,replaceScript:r}}},203:function(t,e,a){"use strict";function i(t){return t.item_id&&t.item_name?[{item_id:t.item_id,item_name:t.item_name,affiliation:t.affiliation,coupon:t.coupon,discount:t.discount,index:t.index||0,item_brand:t.item_brand,item_category:t.item_category,item_list_id:t.item_list_id,item_list_name:t.item_list_name,item_variant:t.item_variant,price:t.price||0,quantity:t.quantity||1}]:[]}function n(t){return[{item_id:t.item_id,item_name:t.item_name,affiliation:t.affiliation,coupon:t.coupon,creative_name:t.creative_name,creative_slot:t.creative_slot,discount:t.discount,index:t.index||0,item_brand:t.item_brand,item_category:t.item_category,item_list_id:t.item_list_id,item_list_name:t.item_list_name,item_variant:t.item_variant,price:t.price||0,promotion_id:t.promotion_id,promotion_name:t.promotion_name,quantity:t.quantity||1}]}function o(t,e,a,i,o=null){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_promotion",eventModel:{creative_name:t,creative_slot:e,promotion_id:a,promotion_name:i,items:n(o)}})}function r(t,e,a,i,o=null){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"select_promotion",eventModel:{creative_name:t,creative_slot:e,promotion_id:a,promotion_name:i,items:n(o)}})}function d(t,e,a){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_item",eventModel:{currency:t,value:e,items:i(a)}})}function u(t,e,a=null){window.dataLayer=window.dataLayer||[];const n=a?a.map(t=>i(t)):[];window.dataLayer.push({event:"view_item_list",eventModel:{item_list_id:t,item_list_name:e,items:n}})}t.exports={buildDataViewPromotion:o,buildDataViewItem:d,buildAnalitic:function(t,e){switch(t){case"view_item":d(e.currency,e.value,e.items);break;case"view_promotion":e.items.item_id&&e.items.item_name&&o(e.creative_name,e.creative_slot,e.promotion_id,e.promotion_name,e.items);break;case"select_promotion":r(e.creative_name,e.creative_slot,e.promotion_id,e.promotion_name,e.items);break;case"view_item_list":u(e.item_list_id,e.item_list_name,e.items)}},buildDataViewItemList:u,buildItemsView:i,buildDataSelectPromotion:r,buildItemsPromotion:n}},237:function(t,e,a){"use strict";var i=a(14),n=a(203);function o(){$(".js-datalayer-btn").on("click",(function(){var t=$(this).data("event-zone"),e=$(this).data("event-name");i.methods.buildDataLayerEventLink(t,"clickbutton",e);var a={},o=$(this).closest(".data-layout").find(".data-layout__input");o.length&&(a.creative_name=o.data("creative-name"),a.creative_slot=o.data("creative-slot"),a.promotion_id=o.data("promo-id"),a.promotion_name=o.data("promo-name"),a.items={item_id:o.data("promo-id"),item_name:o.data("promo-name"),creative_name:o.data("creative-name"),creative_slot:o.data("creative-slot"),promotion_id:o.data("promo-id"),promotion_name:o.data("promo-name")},n.buildAnalitic("select_promotion",a))}))}$(document).ready((function(){o()})),t.exports={functions:{handleBtnOnClick:o}}}});
</script>

</body>
</html>
