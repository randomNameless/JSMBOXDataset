<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popup.html</title>
</head>
<body>

<script>
$(document).ready(function() {
  $('.popupCloseButton').on('click', function() {
    $('.hover_bkgr_fricc').addClass('popupclose');
    
    setTimeout(function(){
      $('.hover_bkgr_fricc').css('display', 'none');
    }, 400);
  });
  
  var modal = document.getElementById('myModal');	
  
  $(document).on('click touchstart', function(e) {
    if (e.target == modal) {
      $('.hover_bkgr_fricc').addClass('popupclose');
      
      setTimeout(function(){
        modal.style.display = 'none';
      }, 400);
    }
  });
  
  
  function setPopupCloseButtonPosition() {
    var popupDiv = $('#myModal div:first')[0];
    var popUpCoordinate = popupDiv.getBoundingClientRect();

    var scrollbarWidthOffset = popupDiv.offsetWidth - popupDiv.clientWidth;
    
    $('.popupCloseButton').css('top', popUpCoordinate.top);
    $('.popupCloseButton').css('left', popUpCoordinate.right - 30 - scrollbarWidthOffset);
  }
  
  setPopupCloseButtonPosition();
  
  $(window).on('load resize', setPopupCloseButtonPosition);
});
</script>

</body>
</html>
