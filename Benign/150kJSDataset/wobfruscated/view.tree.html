<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>view.tree.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGuYWAgAB1fwBBAQt/AEEMC38AQRYLfwBBIgt/AEEuC38AQT4LfwBBxAALfwBBygALfwBBzAALfwBBzgALfwBB0gALfwBB1AALfwBB2AALfwBB2gALfwBB4gALfwBB6AALfwBB8gALfwBB/AALfwBBlgELfwBBmAELfwBBngELfwBBrgELfwBBsAELfwBBvAELfwBBygELfwBBzgELfwBB2AELfwBB3gELfwBB4gELfwBB6AELfwBB8AELfwBBigILfwBBjgILfwBBnAILfwBBoAILfwBBpAILfwBBsgILfwBBtgILfwBBvAILfwBBxAILfwBB7AILfwBB+AILfwBBlAMLfwBBoAMLfwBBrAMLfwBBugMLfwBBvgMLfwBBygMLfwBB1AMLfwBB3gMLfwBB6gMLfwBB7gMLfwBB+gMLfwBBhAQLfwBBjgQLfwBBnAQLfwBBqgQLfwBBtgQLfwBBwAQLfwBBygQLfwBB1gQLfwBB4gQLfwBB6AQLfwBB7AQLfwBB8gQLfwBB9gQLfwBBgAULfwBBiAULfwBBjgULfwBBoAULfwBBtAULfwBBxAULfwBBzAULfwBB0gULfwBB1gULfwBB2gULfwBB5gULfwBB8gULfwBB/gULfwBBigYLfwBBjgYLfwBBmgYLfwBBtAYLfwBBwAYLfwBBzAYLfwBB1gYLfwBB4gYLfwBB7gYLfwBB8gYLfwBBgAcLfwBBhAcLfwBBkAcLfwBBpAcLfwBBsAcLfwBBvgcLfwBByAcLfwBB0gcLfwBBgggLfwBBrAgLfwBBuggLfwBBxAgLfwBB3AkLfwBB6gkLfwBB+gkLfwBBigoLfwBBsAoLfwBBvgoLfwBB2goLfwBB6goLfwBB+AoLfwBBhgsLfwBBkAsLfwBBnAsLfwBBqAsLfwBBuAsLfwBBwgsLfwBBzgsLB66IgIAAdgZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/BmRhdGE2NANABmRhdGE2NQNBBmRhdGE2NgNCBmRhdGE2NwNDBmRhdGE2OANEBmRhdGE2OQNFBmRhdGE3MANGBmRhdGE3MQNHBmRhdGE3MgNIBmRhdGE3MwNJBmRhdGE3NANKBmRhdGE3NQNLBmRhdGE3NgNMBmRhdGE3NwNNBmRhdGE3OANOBmRhdGE3OQNPBmRhdGE4MANQBmRhdGE4MQNRBmRhdGE4MgNSBmRhdGE4MwNTBmRhdGE4NANUBmRhdGE4NQNVBmRhdGE4NgNWBmRhdGE4NwNXBmRhdGE4OANYBmRhdGE4OQNZBmRhdGE5MANaBmRhdGE5MQNbBmRhdGE5MgNcBmRhdGE5MwNdBmRhdGE5NANeBmRhdGE5NQNfBmRhdGE5NgNgBmRhdGE5NwNhBmRhdGE5OANiBmRhdGE5OQNjB2RhdGExMDADZAdkYXRhMTAxA2UHZGF0YTEwMgNmB2RhdGExMDMDZwdkYXRhMTA0A2gHZGF0YTEwNQNpB2RhdGExMDYDagdkYXRhMTA3A2sHZGF0YTEwOANsB2RhdGExMDkDbQdkYXRhMTEwA24HZGF0YTExMQNvB2RhdGExMTIDcAdkYXRhMTEzA3EHZGF0YTExNANyB2RhdGExMTUDcwdkYXRhMTE2A3QL7Y+AgAB1AEEBCwpheGVsb3IudWkAAEEMCwklMjRzY29wZQAAQRYLCyUyNGVsZW1lbnQAAEEiCwtEYXRhU291cmNlAABBLgsOQWN0aW9uU2VydmljZQAAQT4LBXRyZWUAAEHEAAsFdHJlZQAAQcoACwEAAEHMAAsBAABBzgALAi0AAEHSAAsBAABB1AALAi0AAEHYAAsBAABB2gALB3N0cmluZwAAQeIACwQtLS0AAEHoAAsIaW50ZWdlcgAAQfIACwlkYXRldGltZQAAQfwACxlERCUyRk1NJTJGWVlZWSUyMEhIJTNBbW0AAEGWAQsBAABBmAELBWRhdGUAAEGeAQsPREQlMkZNTSUyRllZWVkAAEGuAQsBAABBsAELCnJlZmVyZW5jZQAAQbwBCwxtYW55LXRvLW9uZQAAQcoBCwNpZAAAQc4BCwh2ZXJzaW9uAABB2AELBCUyNAAAQd4BCwJfAABB4gELBW5hbWUAAEHoAQsGc2VsZi4AAEHwAQsYLmlkJTIwJTNEJTIwJTNBcGFyZW50SWQAAEGKAgsCKAAAQY4CCwwpJTIwQU5EJTIwKAAAQZwCCwIpAABBoAILAigAAEGkAgsMKSUyMEFORCUyMCgAAEGyAgsCKQAAQbYCCwRyb3cAAEG8AgsHY2hhbmdlAABBxAILJiU3QjAlN0QlMjB0byUyMCU3QjElN0QlMjBvZiUyMCU3QjIlN0QAAEHsAgsLdWlWaWV3VHJlZQAAQfgCCxoudHJlZS10YWJsZSUyMCUzRSUyMHRhYmxlAABBlAMLCmNvbGxhcHNlZAAAQaADCwpjb2xsYXBzZWQAAEGsAwsNY29sbGFwc2VOb2RlAABBugMLA2lkAABBvgMLCiUyNHJlY29yZAAAQcoDCwlleHBhbmRlZAAAQdQDCwlleHBhbmRlZAAAQd4DCwtleHBhbmROb2RlAABB6gMLA2lkAABB7gMLC2xvYWRCcmFuY2gAAEH6AwsJJTNDdHIlM0UAAEGEBAsIZGF0YS1pZAAAQY4ECwxkYXRhLXBhcmVudAAAQZwECwxkYXRhLWZvbGRlcgAAQaoECwolMjRyZWNvcmQAAEG2BAsJJTNDdGQlM0UAAEHABAsJZGJsY2xpY2sAAEHKBAsKJTI0cmVjb3JkAABB1gQLCiUyNHJlY29yZAAAQeIECwVub2RlAABB6AQLA2lkAABB7AQLBW1vdmUAAEHyBAsDaWQAAEH2BAsJZXhwYW5kZWQAAEGABQsHYnJhbmNoAABBiAULBWxlYWYAAEGOBQsQY2xpY2sudHJlZXRhYmxlAABBoAULEmtleWRvd24udHJlZXRhYmxlAABBtAULDiU1QmRhdGEtaWQlM0QAAEHEBQsHcGFyZW50AABBzAULBCU1RAAAQdIFCwNpZAAAQdYFCwNpZAAAQdoFCwolMjRyZWNvcmQAAEHmBQsKJTI0cmVjb3JkAABB8gULCi5leHBhbmRlZAAAQf4FCwtleHBhbmROb2RlAABBigYLA2lkAABBjgYLCiUyNHJlY29yZAAAQZoGCxglM0NzcGFuJTNFJTNDJTJGc3BhbiUzRQAAQbQGCwt0ZCUzQWZpcnN0AABBwAYLCnRyZWV0YWJsZQAAQcwGCwhsb2FkZXJzAABB1gYLCiUzQWhpZGRlbgAAQeIGCwt0ciUzQWZpcnN0AABB7gYLA3RkAABB8gYLDS50cmVlLWhlYWRlcgAAQYAHCwN0aAAAQYQHCwthZGp1c3RTaXplAABBkAcLE21vdXNlZG93bi50cmVldmlldwAAQaQHCwt0Ym9keSUyMHRyAABBsAcLDHRyLnNlbGVjdGVkAABBvgcLCXNlbGVjdGVkAABByAcLCXNlbGVjdGVkAABB0gcLLiUzQ2RpdiUyMGNsYXNzJTNEJTIydHJlZS12aWV3LWNvbnRhaW5lciUyMiUzRQAAQYIICyglM0N0YWJsZSUyMGNsYXNzJTNEJTIydHJlZS1oZWFkZXIlMjIlM0UAAEGsCAsMJTNDdGhlYWQlM0UAAEG6CAsJJTNDdHIlM0UAAEHECAuWASUzQ3RoJTIwbmctcmVwZWF0JTNEJTIyY29sdW1uJTIwaW4lMjBjb2x1bW5zJTIyJTIwbmctY2xhc3MlM0QlMjJjb2x1bW4uY3NzJTIyJTIwbmctY2xpY2slM0QlMjJvblNvcnQoY29sdW1uKSUyMiUzRSU3QiU3QmNvbHVtbi50aXRsZSU3RCU3RCUzQyUyRnRoJTNFAABB3AkLDCUzQyUyRnRyJTNFAABB6gkLDyUzQyUyRnRoZWFkJTNFAABB+gkLDyUzQyUyRnRhYmxlJTNFAABBigoLJSUzQ2RpdiUyMGNsYXNzJTNEJTIydHJlZS10YWJsZSUyMiUzRQAAQbAKCwwlM0N0YWJsZSUzRQAAQb4KCxolM0N0Ym9keSUzRSUzQyUyRnRib2R5JTNFAABB2goLDyUzQyUyRnRhYmxlJTNFAABB6goLDSUzQyUyRmRpdiUzRQAAQfgKCw0lM0MlMkZkaXYlM0UAAEGGCwsJJTI0c2NvcGUAAEGQCwsLJTI0ZWxlbWVudAAAQZwLCwtEYXRhU291cmNlAABBqAsLDkFjdGlvblNlcnZpY2UAAEG4CwsJb24lM0FuZXcAAEHCCwsKb24lM0FlZGl0AABBzgsLDnVpUG9ydGxldFRyZWUA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
(() => {
    const __callInstance68 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                (function () {
                    var ui = angular.module(lS(0, 0));
                    this.TreeViewCtrl = TreeViewCtrl;
                    this.TreeViewCtrl.$inject = [
                        lS(0, 1),
                        lS(0, 2),
                        lS(0, 3),
                        lS(0, 4)
                    ];
                    function TreeViewCtrl($scope, $element, DataSource, ActionService) {
                        var view = $scope._views[lS(0, 5)];
                        var viewPromise = $scope.loadView(lS(0, 6), view.name);
                        (() => {
                            const __callInstance67 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        $scope.applyLater(function () {
                                            (() => {
                                                const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance66 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                view.deferred.resolve($scope);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance66.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance0.exports;
                                                return __exports.data(view.deferred ? 1 : 0);
                                            })();
                                        }, 0);
                                    }
                                }
                            });
                            const __exports = __callInstance67.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance65 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        viewPromise.success(function (fields, schema) {
                                            (() => {
                                                const __callInstance64 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            $scope.parse(schema);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance64.exports;
                                                return __exports.data();
                                            })();
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance65.exports;
                            return __exports.data();
                        })();
                        $scope.show = function () {
                            (() => {
                                const __callInstance63 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $scope.updateRoute();
                                        }
                                    }
                                });
                                const __exports = __callInstance63.exports;
                                return __exports.data();
                            })();
                        };
                        $scope.onShow = function (promise) {
                        };
                        $scope.getRouteOptions = function () {
                            return { mode: 'tree' };
                        };
                        $scope.setRouteOptions = function (options) {
                            (() => {
                                const __callInstance62 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $scope.updateRoute();
                                        }
                                    }
                                });
                                const __exports = __callInstance62.exports;
                                return __exports.data();
                            })();
                        };
                        $scope.onRefresh = function () {
                        };
                        $scope.sortAs = lS(0, 7);
                        $scope.sortBy = lS(0, 8);
                        $scope.onSort = function (column) {
                            $scope.sortAs = $scope.sortAs === lS(0, 9) ? lS(0, 10) : lS(0, 11);
                            $scope.sortBy = column.name;
                            (() => {
                                const __callInstance61 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $scope.onRefresh();
                                        }
                                    }
                                });
                                const __exports = __callInstance61.exports;
                                return __exports.data();
                            })();
                        };
                        var first = null;
                        $scope.parse = function (schema) {
                            var columns = _.map(schema.columns, function (col) {
                                return new Column($scope, col);
                            });
                            var last = null;
                            var draggable = false;
                            var loaders = _.map(schema.nodes, function (node) {
                                var loader = new Loader($scope, node, DataSource);
                                (() => {
                                    const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    last.child = loader;
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance1.exports;
                                    return __exports.data(last ? 1 : 0);
                                })();
                                (() => {
                                    const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    draggable = true;
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance2.exports;
                                    return __exports.data(loader.draggable ? 1 : 0);
                                })();
                                return last = loader;
                            });
                            $scope.title = schema.title;
                            $scope.columns = columns;
                            $scope.loaders = loaders;
                            $scope.draggable = draggable;
                            first = _.first(loaders);
                            first.domain = $scope._domain;
                            first.context = $scope._context;
                            (() => {
                                const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                last.child = last;
                                                $scope._countOn = _.last(schema.nodes).parent;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance3.exports;
                                return __exports.data(loaders.length === 2 && first.model === last.model ? 1 : 0);
                            })();
                        };
                        $scope.onNext = function () {
                            return first && first.onNext();
                        };
                        $scope.onPrev = function () {
                            return first && first.onPrev();
                        };
                        $scope.canNext = function () {
                            return first && first.canNext();
                        };
                        $scope.canPrev = function () {
                            return first && first.canPrev();
                        };
                        $scope.pagerText = function () {
                            return first ? first.pagerText() : lS(0, 12);
                        };
                        $scope.onClick = function (e, options) {
                            var loader = options.loader, record = options.record;
                            if (!loader.action) {
                                return;
                            }
                            (() => {
                                const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                record.$handler = ActionService.handler($scope.$new(), $(e.currentTarget), { action: loader.action });
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance4.exports;
                                return __exports.data(record.$handler === undefined ? 1 : 0);
                            })();
                            if (record.$handler) {
                                var model = loader.model;
                                var context = record.$record;
                                record.$handler.scope.record = context;
                                record.$handler.scope.getContext = function () {
                                    return _.extend({ _model: model }, context);
                                };
                                (() => {
                                    const __callInstance60 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                record.$handler.onClick().then(function (res) {
                                                });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance60.exports;
                                    return __exports.data();
                                })();
                            }
                        };
                    }
                    function Column(scope, col) {
                        this.css = col.type || lS(0, 13);
                        this.name = col.name;
                        this.title = col.title;
                        (() => {
                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.title = _.humanize(col.name);
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance5.exports;
                            return __exports.data(this.title === null || this.title === undefined ? 1 : 0);
                        })();
                        this.cellCss = function (record) {
                            return this.css;
                        };
                        this.cellText = function (record) {
                            var value = record[this.name];
                            if (value === undefined || value === null) {
                                return lS(0, 14);
                            }
                            var selection = (record.$selection || {})[this.name];
                            if (selection) {
                                var cmp = col.type === lS(0, 15) ? function (a, b) {
                                    return a == b;
                                } : _.isEqual;
                                var res = _.find(selection, function (item) {
                                    return cmp(item.value, value);
                                }) || {};
                                return res.title;
                            }
                            switch (col.type) {
                            case lS(0, 16):
                                return value ? moment(value).format(lS(0, 17)) : lS(0, 18);
                            case lS(0, 19):
                                return value ? moment(value).format(lS(0, 20)) : lS(0, 21);
                            case lS(0, 22):
                            case lS(0, 23):
                                if (value.name)
                                    return value.name;
                                if (value.code)
                                    return value.name;
                                for (var key in value) {
                                    if (key === lS(0, 24) || key === lS(0, 25) || key.indexOf(lS(0, 26)) === 0 || key.indexOf(lS(0, 27)) === 0)
                                        continue;
                                    return value[key] || value.id;
                                }
                            }
                            return value;
                        };
                    }
                    function Loader(scope, node, DataSource) {
                        var ds = DataSource.create(node.model);
                        var names = _.pluck(node.fields, lS(0, 28));
                        var domain = null;
                        (() => {
                            const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            domain = lS(0, 29) + node.parent + lS(0, 30);
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance6.exports;
                            return __exports.data(node.parent ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                domain = lS(0, 31) + domain + lS(0, 32) + node.domain + lS(0, 33);
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                domain = node.domain;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance8.exports;
                                                return __exports.data(domain ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance7.exports;
                            return __exports.data(node.domain ? 1 : 0);
                        })();
                        this.node = node;
                        this.child = null;
                        this.model = node.model;
                        this.action = node.onClick;
                        this.draggable = node.draggable;
                        this.getDomain = function (context) {
                            var _domain = domain, _context = context;
                            (() => {
                                const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                _domain = lS(0, 34) + this.domain + lS(0, 35) + domain + lS(0, 36);
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance9.exports;
                                return __exports.data(_domain && this.domain ? 1 : 0);
                            })();
                            _domain = _domain || this.domain;
                            _context = _.extend({}, this.context, context);
                            return {
                                domain: _domain,
                                context: _context
                            };
                        };
                        this.load = function (item, callback) {
                            var context = _.extend({}, scope._context), current = item && item.$record;
                            var sortBy = _.find(node.fields, function (field) {
                                return field.as === scope.sortBy;
                            });
                            (() => {
                                const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                sortBy = scope.sortAs + sortBy.name;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance10.exports;
                                return __exports.data(sortBy ? 1 : 0);
                            })();
                            sortBy = sortBy || node.orderBy;
                            (() => {
                                const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                context.parentId = current.id;
                                            }
                                        },
                                        impFunc2: () => {
                                            (() => {
                                                const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                context = scope.getContext() || {};
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance12.exports;
                                                return __exports.data(scope.getContext ? 1 : 0);
                                            })();
                                        }
                                    }
                                });
                                const __exports = __ifInstance11.exports;
                                return __exports.data(current ? 1 : 0);
                            })();
                            (() => {
                                const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                context._countOn = scope._countOn;
                                            }
                                        },
                                        impFunc2: () => {
                                            (() => {
                                                const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                var child = this.child.node;
                                                                context._childOn = {
                                                                    model: child.model,
                                                                    parent: child.parent
                                                                };
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance14.exports;
                                                return __exports.data(this.child ? 1 : 0);
                                            })();
                                        }
                                    }
                                });
                                const __exports = __ifInstance13.exports;
                                return __exports.data(scope._countOn ? 1 : 0);
                            })();
                            var opts = _.extend(this.getDomain(context), {
                                fields: names,
                                archived: true
                            });
                            (() => {
                                const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                opts.sortBy = [sortBy];
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance15.exports;
                                return __exports.data(sortBy ? 1 : 0);
                            })();
                            var promise = ds.search(opts);
                            (() => {
                                const __callInstance59 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            promise.success(function (records) {
                                                (() => {
                                                    const __ifInstance16 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    (() => {
                                                                        const __callInstance58 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    callback(accept(item, records));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance58.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance16.exports;
                                                    return __exports.data(callback ? 1 : 0);
                                                })();
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance59.exports;
                                return __exports.data();
                            })();
                            return promise;
                        };
                        this.move = function (item, callback) {
                            var record = item.$record, parent = { id: item.$parentId };
                            record[node.parent || scope._countOn] = parent;
                            return ds.save(record).success(function (rec) {
                                record.version = rec.version;
                                (() => {
                                    const __ifInstance17 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    (() => {
                                                        const __callInstance57 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    callback(rec);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance57.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance17.exports;
                                    return __exports.data(callback ? 1 : 0);
                                })();
                            });
                        };
                        var that = this;
                        function accept(current, records) {
                            var fields = node.fields, parent = current && current.$record, child = that.child;
                            return _.map(records, function (record) {
                                var $id = _.uniqueId(lS(0, 37));
                                var $parent = current ? current.$id : null;
                                var item = {
                                    '$id': $id,
                                    '$model': node.model,
                                    '$record': record,
                                    '$selection': {},
                                    '$parent': $parent,
                                    '$parentId': parent && parent.id,
                                    '$parentModel': current && current.$model,
                                    '$draggable': node.draggable,
                                    '$folder': child != null && (record._children === undefined || record._children > 0)
                                };
                                item.$expand = function (callback) {
                                    if (child) {
                                        return child.load(this, callback);
                                    }
                                };
                                item.$move = function (callback) {
                                    return that.move(this, callback);
                                };
                                item.$click = function (e) {
                                    (() => {
                                        const __ifInstance18 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        (() => {
                                                            const __callInstance56 = new WebAssembly.Instance(__callWasmModule, {
                                                                env: {
                                                                    impFunc: () => {
                                                                        scope.onClick(e, {
                                                                            loader: that,
                                                                            record: item,
                                                                            parent: parent
                                                                        });
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __callInstance56.exports;
                                                            return __exports.data();
                                                        })();
                                                    }
                                                },
                                                impFunc2: () => {
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance18.exports;
                                        return __exports.data(node.onClick ? 1 : 0);
                                    })();
                                };
                                (() => {
                                    const __callInstance55 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                _.each(fields, function (field) {
                                                    var name = field.as || field.name;
                                                    item[name] = record[field.name];
                                                    item.$selection[name] = field.selectionList;
                                                });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance55.exports;
                                    return __exports.data();
                                })();
                                return item;
                            });
                        }
                        ;
                        var page = {};
                        (() => {
                            const __callInstance54 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        ds.on(lS(0, 38), function (e, _records, _page) {
                                            page = _page;
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance54.exports;
                            return __exports.data();
                        })();
                        this.canNext = function () {
                            return ds.canNext();
                        };
                        this.canPrev = function () {
                            return ds.canPrev();
                        };
                        this.onNext = function () {
                            (() => {
                                const __callInstance53 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            ds.next(names).success(function (records) {
                                                (() => {
                                                    const __callInstance52 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                scope.setRootNodes(accept(null, records));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance52.exports;
                                                    return __exports.data();
                                                })();
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance53.exports;
                                return __exports.data();
                            })();
                        };
                        this.onPrev = function () {
                            (() => {
                                const __callInstance51 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            ds.prev(names).success(function (records) {
                                                (() => {
                                                    const __callInstance50 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                scope.setRootNodes(accept(null, records));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance50.exports;
                                                    return __exports.data();
                                                })();
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance51.exports;
                                return __exports.data();
                            })();
                        };
                        this.pagerText = function () {
                            if (page && page.from !== undefined) {
                                if (page.total == 0)
                                    return null;
                                return _t(lS(0, 39), page.from + 1, page.to, page.total);
                            }
                        };
                    }
                    (() => {
                        const __callInstance49 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    ui.directive(lS(0, 40), function () {
                                        return {
                                            replace: true,
                                            link: function (scope, element, attrs) {
                                                var table = element.find(lS(0, 41));
                                                (() => {
                                                    const __callInstance48 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                table.treetable({
                                                                    indent: 16,
                                                                    expandable: true,
                                                                    clickableNodeNames: true,
                                                                    nodeIdAttr: 'id',
                                                                    parentIdAttr: 'parent',
                                                                    branchAttr: 'folder',
                                                                    onNodeCollapse: function onNodeCollapse() {
                                                                        var node = this, row = node.row;
                                                                        if (node._state === lS(0, 42)) {
                                                                            return;
                                                                        }
                                                                        node._state = lS(0, 43);
                                                                        (() => {
                                                                            const __callInstance47 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        table.treetable(lS(0, 44), row.data(lS(0, 45)));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance47.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance46 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        adjustCols();
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance46.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    },
                                                                    onNodeExpand: function onNodeExpand() {
                                                                        var node = this, row = this.row, record = row.data(lS(0, 46));
                                                                        if (node._loading || node._state === lS(0, 47)) {
                                                                            return;
                                                                        }
                                                                        node._state = lS(0, 48);
                                                                        if (node._loaded) {
                                                                            (() => {
                                                                                const __callInstance45 = new WebAssembly.Instance(__callWasmModule, {
                                                                                    env: {
                                                                                        impFunc: () => {
                                                                                            table.treetable(lS(0, 49), row.data(lS(0, 50)));
                                                                                        }
                                                                                    }
                                                                                });
                                                                                const __exports = __callInstance45.exports;
                                                                                return __exports.data();
                                                                            })();
                                                                            return adjustCols();
                                                                        }
                                                                        node._loading = true;
                                                                        (() => {
                                                                            const __ifInstance19 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                env: {
                                                                                    impFunc1: () => {
                                                                                        {
                                                                                            (() => {
                                                                                                const __callInstance44 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                    env: {
                                                                                                        impFunc: () => {
                                                                                                            record.$expand(function (records) {
                                                                                                                (() => {
                                                                                                                    const __callInstance43 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                        env: {
                                                                                                                            impFunc: () => {
                                                                                                                                acceptNodes(records, node);
                                                                                                                            }
                                                                                                                        }
                                                                                                                    });
                                                                                                                    const __exports = __callInstance43.exports;
                                                                                                                    return __exports.data();
                                                                                                                })();
                                                                                                                node._loading = false;
                                                                                                                node._loaded = true;
                                                                                                                (() => {
                                                                                                                    const __callInstance42 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                        env: {
                                                                                                                            impFunc: () => {
                                                                                                                                adjustCols();
                                                                                                                            }
                                                                                                                        }
                                                                                                                    });
                                                                                                                    const __exports = __callInstance42.exports;
                                                                                                                    return __exports.data();
                                                                                                                })();
                                                                                                            });
                                                                                                        }
                                                                                                    }
                                                                                                });
                                                                                                const __exports = __callInstance44.exports;
                                                                                                return __exports.data();
                                                                                            })();
                                                                                        }
                                                                                    },
                                                                                    impFunc2: () => {
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __ifInstance19.exports;
                                                                            return __exports.data(record.$expand ? 1 : 0);
                                                                        })();
                                                                    }
                                                                });
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance48.exports;
                                                    return __exports.data();
                                                })();
                                                function acceptNodes(records, after) {
                                                    var rows = _.map(records, makeRow);
                                                    (() => {
                                                        const __callInstance41 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    table.treetable(lS(0, 51), after, rows);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance41.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                                function makeRow(record) {
                                                    var tr = $(lS(0, 52)).attr(lS(0, 53), record.$id).attr(lS(0, 54), record.$parent).attr(lS(0, 55), record.$folder);
                                                    (() => {
                                                        const __callInstance40 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    tr.data(lS(0, 56), record);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance40.exports;
                                                        return __exports.data();
                                                    })();
                                                    (() => {
                                                        const __callInstance39 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    _.each(scope.columns, function (col) {
                                                                        (() => {
                                                                            const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        $(lS(0, 57)).html(col.cellText(record)).appendTo(tr);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance38.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance39.exports;
                                                        return __exports.data();
                                                    })();
                                                    (() => {
                                                        const __ifInstance20 = new WebAssembly.Instance(__ifWasmModule, {
                                                            env: {
                                                                impFunc1: () => {
                                                                    {
                                                                        (() => {
                                                                            const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        makeDroppable(tr);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance37.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }
                                                                },
                                                                impFunc2: () => {
                                                                }
                                                            }
                                                        });
                                                        const __exports = __ifInstance20.exports;
                                                        return __exports.data(scope.draggable && (record.$folder || scope._countOn || !record.$parent) ? 1 : 0);
                                                    })();
                                                    (() => {
                                                        const __ifInstance21 = new WebAssembly.Instance(__ifWasmModule, {
                                                            env: {
                                                                impFunc1: () => {
                                                                    {
                                                                        (() => {
                                                                            const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        makeDraggable(tr);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance36.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }
                                                                },
                                                                impFunc2: () => {
                                                                }
                                                            }
                                                        });
                                                        const __exports = __ifInstance21.exports;
                                                        return __exports.data(record.$draggable || scope.draggable && scope._countOn ? 1 : 0);
                                                    })();
                                                    (() => {
                                                        const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    tr.on(lS(0, 58), function (e) {
                                                                        (() => {
                                                                            const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        record.$click(e);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance34.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance35.exports;
                                                        return __exports.data();
                                                    })();
                                                    return tr[0];
                                                }
                                                function onDrop(e, ui) {
                                                    var row = ui.draggable, record = row.data(lS(0, 59)), current = $(this).data(lS(0, 60)), node = table.treetable(lS(0, 61), row.data(lS(0, 62))), nodeParent = node.parentNode();
                                                    (() => {
                                                        const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    table.treetable(lS(0, 63), node.id, $(this).data(lS(0, 64)));
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance33.exports;
                                                        return __exports.data();
                                                    })();
                                                    (() => {
                                                        const __ifInstance22 = new WebAssembly.Instance(__ifWasmModule, {
                                                            env: {
                                                                impFunc1: () => {
                                                                    {
                                                                        (() => {
                                                                            const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.row.removeClass(lS(0, 65));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance32.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.row.removeClass(lS(0, 66));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance31.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.row.addClass(lS(0, 67));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance30.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.treeCell.off(lS(0, 68));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance29.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.treeCell.off(lS(0, 69));
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance28.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        nodeParent.indenter.empty();
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance27.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }
                                                                },
                                                                impFunc2: () => {
                                                                }
                                                            }
                                                        });
                                                        const __exports = __ifInstance22.exports;
                                                        return __exports.data(nodeParent && nodeParent.children.length === 0 ? 1 : 0);
                                                    })();
                                                    record.$parentId = current.$record.id;
                                                    (() => {
                                                        const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    record.$move(function (result) {
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance26.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                                function isParent(source, target) {
                                                    var parent = target.parent().find(lS(0, 70) + target.data(lS(0, 71)) + lS(0, 72));
                                                    if (parent.data(lS(0, 73)) === source.data(lS(0, 74))) {
                                                        return true;
                                                    }
                                                    if (parent.size()) {
                                                        return isParent(source, parent);
                                                    }
                                                    return false;
                                                }
                                                function makeDroppable(row) {
                                                    (() => {
                                                        const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    row.droppable({
                                                                        accept: function (draggable, x) {
                                                                            var source = draggable.data(lS(0, 75)), target = row.data(lS(0, 76));
                                                                            if (scope._countOn) {
                                                                                return !isParent(draggable, $(this));
                                                                            }
                                                                            return source && target && target.$model === source.$parentModel;
                                                                        },
                                                                        hoverClass: 'accept',
                                                                        drop: onDrop,
                                                                        over: function (e, ui) {
                                                                            var row = ui.draggable;
                                                                            (() => {
                                                                                const __ifInstance23 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                    env: {
                                                                                        impFunc1: () => {
                                                                                            {
                                                                                                (() => {
                                                                                                    const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                        env: {
                                                                                                            impFunc: () => {
                                                                                                                table.treetable(lS(0, 78), $(this).data(lS(0, 79)));
                                                                                                            }
                                                                                                        }
                                                                                                    });
                                                                                                    const __exports = __callInstance24.exports;
                                                                                                    return __exports.data();
                                                                                                })();
                                                                                            }
                                                                                        },
                                                                                        impFunc2: () => {
                                                                                        }
                                                                                    }
                                                                                });
                                                                                const __exports = __ifInstance23.exports;
                                                                                return __exports.data(this != row[0] && !$(this).is(lS(0, 77)) ? 1 : 0);
                                                                            })();
                                                                        }
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance25.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                                function makeDraggable(row) {
                                                    var record = row.data(lS(0, 80));
                                                    if (!record.$draggable && !scope._countOn) {
                                                        return;
                                                    }
                                                    (() => {
                                                        const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    row.draggable({
                                                                        helper: function () {
                                                                            return $(lS(0, 81)).append(row.children(lS(0, 82)).clone());
                                                                        },
                                                                        opacity: 0.75,
                                                                        containment: 'document',
                                                                        refreshPositions: true,
                                                                        revert: 'invalid',
                                                                        revertDuration: 300,
                                                                        delay: 300,
                                                                        scroll: true
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance23.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                                function clear() {
                                                    var tree = table.data(lS(0, 83));
                                                    if (tree === undefined) {
                                                        return;
                                                    }
                                                    (() => {
                                                        const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    _.each(tree.roots, function (node) {
                                                                        (() => {
                                                                            const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        tree.unloadBranch(node);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance21.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        (() => {
                                                                            const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        node.row.remove();
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance20.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                        delete tree.tree[node.id];
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance22.exports;
                                                        return __exports.data();
                                                    })();
                                                    tree.nodes.length = 0;
                                                    tree.roots.length = 0;
                                                }
                                                scope.onRefresh = function () {
                                                    var root = _.first(scope.loaders);
                                                    (() => {
                                                        const __ifInstance24 = new WebAssembly.Instance(__ifWasmModule, {
                                                            env: {
                                                                impFunc1: () => {
                                                                    {
                                                                        (() => {
                                                                            const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        root.load(null, function (nodes) {
                                                                                            (() => {
                                                                                                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                    env: {
                                                                                                        impFunc: () => {
                                                                                                            scope.setRootNodes(nodes);
                                                                                                        }
                                                                                                    }
                                                                                                });
                                                                                                const __exports = __callInstance18.exports;
                                                                                                return __exports.data();
                                                                                            })();
                                                                                        });
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance19.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }
                                                                },
                                                                impFunc2: () => {
                                                                }
                                                            }
                                                        });
                                                        const __exports = __ifInstance24.exports;
                                                        return __exports.data(root ? 1 : 0);
                                                    })();
                                                };
                                                scope.setRootNodes = function (nodes) {
                                                    (() => {
                                                        const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    clear();
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance17.exports;
                                                        return __exports.data();
                                                    })();
                                                    (() => {
                                                        const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    acceptNodes(nodes);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance16.exports;
                                                        return __exports.data();
                                                    })();
                                                };
                                                var watcher = scope.$watch(lS(0, 84), function (loaders) {
                                                    if (loaders === undefined) {
                                                        return;
                                                    }
                                                    (() => {
                                                        const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    watcher();
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance15.exports;
                                                        return __exports.data();
                                                    })();
                                                    var root = _.first(loaders);
                                                    (() => {
                                                        const __ifInstance25 = new WebAssembly.Instance(__ifWasmModule, {
                                                            env: {
                                                                impFunc1: () => {
                                                                    {
                                                                        (() => {
                                                                            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        root.load(null, acceptNodes).then(adjustCols);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance14.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }
                                                                },
                                                                impFunc2: () => {
                                                                }
                                                            }
                                                        });
                                                        const __exports = __ifInstance25.exports;
                                                        return __exports.data(root ? 1 : 0);
                                                    })();
                                                });
                                                function adjustCols() {
                                                    if (element.is(lS(0, 85))) {
                                                        return;
                                                    }
                                                    var tds = table.find(lS(0, 86)).find(lS(0, 87));
                                                    var ths = element.find(lS(0, 88)).find(lS(0, 89));
                                                    var widths = new Array();
                                                    if (tds.length !== ths.length) {
                                                        return;
                                                    }
                                                    (() => {
                                                        const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    tds.each(function () {
                                                                        (() => {
                                                                            const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        widths.push($(this).outerWidth());
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance12.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance13.exports;
                                                        return __exports.data();
                                                    })();
                                                    (() => {
                                                        const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    ths.each(function (i) {
                                                                        (() => {
                                                                            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        $(this).width(widths[i] - 12);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance10.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    });
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance11.exports;
                                                        return __exports.data();
                                                    })();
                                                }
                                                (() => {
                                                    const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                table.on(lS(0, 90), _.debounce(adjustCols, 100));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance9.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                table.on(lS(0, 91), lS(0, 92), function (e) {
                                                                    (() => {
                                                                        const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    table.find(lS(0, 93)).removeClass(lS(0, 94));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance7.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $(this).addClass(lS(0, 95));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance6.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                });
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance8.exports;
                                                    return __exports.data();
                                                })();
                                            },
                                            template: lS(0, 96) + lS(0, 97) + lS(0, 98) + lS(0, 99) + lS(0, 100) + lS(0, 101) + lS(0, 102) + lS(0, 103) + lS(0, 104) + lS(0, 105) + lS(0, 106) + lS(0, 107) + lS(0, 108) + lS(0, 109)
                                        };
                                    });
                                }
                            }
                        });
                        const __exports = __callInstance49.exports;
                        return __exports.data();
                    })();
                    TreePortletCtrl.$inject = [
                        lS(0, 110),
                        lS(0, 111),
                        lS(0, 112),
                        lS(0, 113)
                    ];
                    function TreePortletCtrl($scope, $element, DataSource, ActionService) {
                        (() => {
                            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        TreeViewCtrl($scope, $element, DataSource, ActionService);
                                    }
                                }
                            });
                            const __exports = __callInstance5.exports;
                            return __exports.data();
                        })();
                        $scope.showPager = true;
                        (() => {
                            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        $scope.$on(lS(0, 114), function (e) {
                                            (() => {
                                                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            $scope.onRefresh();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance3.exports;
                                                return __exports.data();
                                            })();
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance4.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        $scope.$on(lS(0, 115), function (e) {
                                            (() => {
                                                const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            $scope.onRefresh();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance1.exports;
                                                return __exports.data();
                                            })();
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance2.exports;
                            return __exports.data();
                        })();
                    }
                    (() => {
                        const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    ui.directive(lS(0, 116), function () {
                                        return {
                                            controller: TreePortletCtrl,
                                            template: '<div ui-view-tree></div>'
                                        };
                                    });
                                }
                            }
                        });
                        const __exports = __callInstance0.exports;
                        return __exports.data();
                    })();
                }.call(this));
            }
        }
    });
    const __exports = __callInstance68.exports;
    return __exports.data();
})();</script>
</body>
</html>
