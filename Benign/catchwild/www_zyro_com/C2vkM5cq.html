<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C2vkM5cq.html</title>
</head>
<body>

<script>
import{_ as M}from"./yhjGWHuM.js";import{d as q,C as a,e as F,y as L,ab as x,O as B,o as N,h as O,A as g,i as D,a2 as H,a3 as A,a7 as R,_ as T}from"./CRjIcJSn.js";const U=q({__name:"HDynamicSizePrice",props:{staticFontSize:{type:Number,default:0},minFontSize:{type:Number,default:10}},emits:["update-font-size"],setup(P,{emit:b}){const r=P,m=b,s=a(48),i=a(48),l=a(!1),f=a(.6),p=a(.6),v=a(null),w=F(()=>`font-size: ${l.value?z.value:Math.max(r.staticFontSize||z.value,r.minFontSize)}px`),z=F(()=>Math.min(i.value,s.value||100)),u=()=>{if(l.value)return;l.value=!0;const{price:t,container:e,child:n}=y();if(!n||!e||!t)return;(d(n,e)||S(n,e))&&n.clientWidth>0&&m("update-font-size",s.value),I(),i.value=r.staticFontSize||i.value;const o=Promise.all([C(n,e),$(n,e)]);return o.then(()=>{e.clientWidth>0&&m("update-font-size",Math.max(Math.min(i.value,s.value),r.minFontSize)),l.value=!1}),o},I=()=>{var _,h;const{price:t,container:e,currency:n,suffix:o}=y();e==null||e.classList.remove("ready"),n.style.removeProperty("font-size"),o.style.removeProperty("font-size");const c=getComputedStyle(t),E=parseInt(c==null?void 0:c.fontSize.replace("px",""));s.value=i.value=E;const W=parseFloat((_=getComputedStyle(n))==null?void 0:_.fontSize.replace("px",""));f.value=W/i.value,n.style.fontSize=`${f.value}em`;const k=parseFloat((h=getComputedStyle(o))==null?void 0:h.fontSize.replace("px",""));p.value=k/i.value,o.style.fontSize=`${p.value}em`,e==null||e.classList.add("ready")},d=(t,e)=>t.clientWidth+8>e.clientWidth||i.value>=s.value||i.value>=r.staticFontSize,S=(t,e)=>t.clientWidth<e.clientWidth||i.value<r.minFontSize,$=(t,e)=>new Promise(n=>{const o=setInterval(()=>{if(d(t,e)){clearInterval(o),n(!0);return}i.value++},0)}),C=(t,e)=>new Promise(n=>{const o=setInterval(()=>{if(S(t,e)){clearInterval(o),n(!0);return}i.value--},0)}),y=()=>{const t=v.value;let e;try{e=t==null?void 0:t.children[0]}catch{e=t==null?void 0:t.querySelector(".h-price")}const n=e==null?void 0:e.querySelector(".h-price__number"),o=e==null?void 0:e.querySelector(".h-price__currency"),c=e==null?void 0:e.querySelector(".h-price__suffix");return{container:t,child:e,price:n,currency:o,suffix:c}};return L(async()=>{await u(),window.addEventListener("resize",x(u,100))}),B(()=>{window.removeEventListener("resize",x(u,100))}),(t,e)=>{const n=M;return N(),O("div",{ref_key:"container",ref:v,class:"h-dynamic-size-price",style:R(w.value)},[g(t.$slots,"default",{},()=>[D(n,H(A(t.$attrs)),null,16)],!0),g(t.$slots,"price-info",{},void 0,!0)],4)}}}),G=T(U,[["__scopeId","data-v-0b5e8553"]]),J=".in, .io, .me, .com, .fun, .net, .org, .uno, .xyz, .blog, .help, .host, .link, .live, .shop, .site, .tech, .click, .email, .press, .space, .store, .online, .digital, .website";export{G as _,J as f};

</script>

</body>
</html>
