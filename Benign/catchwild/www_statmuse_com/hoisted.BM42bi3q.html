<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hoisted.BM42bi3q.html</title>
</head>
<body>

<script>
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/auto-track.CdgvYwKe.js","_astro/useragent.CXUJVp29.js","_astro/_commonjsHelpers.BosuxZz1.js","_astro/v4.BMZcCXU4.js","_astro/stores.BVRDUShV.js","_astro/index.3whys8t3.js","_astro/index.BCD_IYbu.js","_astro/index.CiIwfE_L.js","_astro/index.EsNec-MD.js","_astro/is-plan-event-enabled.DeNtQvA5.js","_astro/index.DNA9ceDH.js","_astro/index.DS-owmIT.js","_astro/index._x6AO1Ou.js"])))=>i.map(i=>d[i]);
import{a as hn}from"./useragent.CXUJVp29.js";import{g as pn,c as D}from"./_commonjsHelpers.BosuxZz1.js";import{i as ce,v as vn}from"./v4.BMZcCXU4.js";import{a as mn,s as At}from"./stores.BVRDUShV.js";import"./index.3whys8t3.js";const yn="modulepreload",gn=function(e){return"/"+e},tr={},$=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=Promise.allSettled(r.map(l=>{if(l=gn(l),l in tr)return;tr[l]=!0;const f=l.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${v}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":yn,f||(y.as="script"),y.crossOrigin="",y.href=l,s&&y.setAttribute("nonce",s),document.head.appendChild(y),f)return new Promise((g,b)=>{y.addEventListener("load",g),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var lt=function(e,t){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lt(e,t)};function z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var w=function(){return w=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},w.apply(this,arguments)};function Er(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function A(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(v){try{f(n.next(v))}catch(y){a(y)}}function l(v){try{f(n.throw(v))}catch(y){a(y)}}function f(v){v.done?o(v.value):i(v.value).then(s,l)}f((n=n.apply(e,t||[])).next())})}function E(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(v){return l([f,v])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(v){f=[6,v],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function F(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Et=function(){function e(){this.callbacks={}}return e.prototype.on=function(t,r){return this.callbacks[t]?this.callbacks[t].push(r):this.callbacks[t]=[r],this},e.prototype.once=function(t,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(t,i),r.apply(n,o)};return this.on(t,i),this},e.prototype.off=function(t,r){var n,i=(n=this.callbacks[t])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[t]=o,this},e.prototype.emit=function(t){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[t])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},e}();function ft(e,t,r){t.split&&(t=t.split("."));for(var n=0,i=t.length,o=e,a,s;n<i&&(s=t[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof t?a:t[n]*0!==0||~(""+t[n]).indexOf(".")?{}:[]}var se=function(e){z(t,e);function t(r,n){var i=e.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return t}(Error);function le(e){return typeof e=="string"}function dt(e){return typeof e=="number"}function ve(e){return typeof e=="function"}function Ir(e){return e!=null}function V(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}var It="is not a string",bn="is not an object",Tr="is nil";function wn(e){var t=".userId/anonymousId/previousId/groupId",r=function(i){var o,a,s;return(s=(a=(o=i.userId)!==null&&o!==void 0?o:i.anonymousId)!==null&&a!==void 0?a:i.groupId)!==null&&s!==void 0?s:i.previousId},n=r(e);if(Ir(n)){if(!le(n))throw new se(t,It)}else throw new se(t,Tr)}function _n(e){if(!Ir(e))throw new se("Event",Tr);if(typeof e!="object")throw new se("Event",bn)}function Sn(e){if(!le(e.type))throw new se(".type",It)}function An(e){if(!le(e.event))throw new se(".event",It)}function En(e,t){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},t);e.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function In(e){return new Promise(function(t){return setTimeout(t,e)})}function Tn(e,t,r){var n=function(){try{return Promise.resolve(t(e))}catch(i){return Promise.reject(i)}};return In(r).then(function(){return En(n(),1e3)}).catch(function(i){e?.log("warn","Callback Error",{error:i}),e?.stats.increment("callback_error")}).then(function(){return e})}function Pn(e){var t=Math.random()+1,r=e.minTimeout,n=r===void 0?500:r,i=e.factor,o=i===void 0?2:i,a=e.attempt,s=e.maxTimeout,l=s===void 0?1/0:s;return Math.min(t*n*Math.pow(o,a),l)}var Pr="onRemoveFromFuture",Tt=function(e){z(t,e);function t(r,n,i){var o=e.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i??{},o}return t.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var s=r.updateAttempts(a);return s>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return r.getAttempts(a)-r.getAttempts(s)}),o},t.prototype.pushWithBackoff=function(r){var n=this;if(this.getAttempts(r)===0)return this.push(r)[0];var i=this.updateAttempts(r);if(i>this.maxAttempts||this.includes(r))return!1;var o=Pn({attempt:i-1});return setTimeout(function(){n.queue.push(r),n.future=n.future.filter(function(a){return a.id!==r.id}),n.emit(Pr)},o),this.future.push(r),!0},t.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},t.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},t.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(Et),ie=256,Ne=[],Fe;for(;ie--;)Ne[ie]=(ie+256).toString(16).substring(1);function Pt(){var e=0,t,r="";if(!Fe||ie+16>256){for(Fe=Array(e=256);e--;)Fe[e]=256*Math.random()|0;e=ie=0}for(;e<16;e++)t=Fe[ie+e],e==6?r+=Ne[t&15|64]:e==8?r+=Ne[t&63|128]:r+=Ne[t],e&1&&e>1&&e<11&&(r+="-");return ie++,r}var On=function(){function e(){this._logs=[]}return e.prototype.log=function(t,r,n){var i=new Date;this._logs.push({level:t,message:r,time:i,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(r,n){var i,o,a,s=w(w({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var l=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[l]&&(l="".concat(l,"-").concat(Math.random())),w(w({},r),(i={},i[l]=s,i))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},e}(),xn=function(e){var t={gauge:"g",counter:"c"};return t[e]},Or=function(){function e(){this.metrics=[]}return e.prototype.increment=function(t,r,n){r===void 0&&(r=1),this.metrics.push({metric:t,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(t,r,n){this.metrics.push({metric:t,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var t=this.metrics.map(function(r){return w(w({},r),{tags:r.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:xn(t.type),e:t.timestamp}})},e}(),Dn=function(e){z(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.gauge=function(){},t.prototype.increment=function(){},t.prototype.flush=function(){},t.prototype.serialize=function(){return[]},t}(Or),we=function(){function e(t){var r,n,i;this.retry=(r=t.retry)!==null&&r!==void 0?r:!0,this.type=(n=t.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=t.reason)!==null&&i!==void 0?i:""}return e}(),$e=function(){function e(t,r,n,i){r===void 0&&(r=Pt()),n===void 0&&(n=new Dn),i===void 0&&(i=new On),this.attempts=0,this.event=t,this._id=r,this.logger=i,this.stats=n}return e.system=function(){},e.prototype.isSame=function(t){return t.id===this.id},e.prototype.cancel=function(t){throw t||new we({reason:"Context Cancel"})},e.prototype.log=function(t,r,n){this.logger.log(t,r,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(t,r){var n;if(t.split(".")[0]==="integrations"){var i=t.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return ft(this.event,t,r),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(t){this._failedDelivery=t},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();function Cn(e,t){var r={};return e.forEach(function(n){var i,o=void 0;{var a=n[t];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(r[o]=F(F([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Mn=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},Ln=function(){var e,t,r=0;return{done:function(){return e},run:function(n){var i=n();return Mn(i)&&(++r===1&&(e=new Promise(function(o){return t=o})),i.finally(function(){return--r===0&&t()})),i}}};function Fn(e){return A(this,void 0,void 0,function(){var t;return E(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e()];case 1:return[2,r.sent()];case 2:return t=r.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}function Te(e,t){e.log("debug","plugin",{plugin:t.name});var r=new Date().getTime(),n=t[e.event.type];if(n===void 0)return Promise.resolve(e);var i=Fn(function(){return n.apply(t,[e])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(t.name)]),o}).catch(function(o){if(o instanceof we&&o.type==="middleware_cancellation")throw o;return o instanceof we?(e.log("warn",o.type,{plugin:t.name,error:o}),o):(e.log("error","plugin Error",{plugin:t.name,error:o}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),o)});return i}function Rn(e,t){return Te(e,t).then(function(r){if(r instanceof $e)return r;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(r)})}var jn=function(e){z(t,e);function t(r){var n=e.call(this)||this;return n.criticalTasks=Ln(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(Pr,function(){n.scheduleFlush(0)}),n}return t.prototype.register=function(r,n,i){return A(this,void 0,void 0,function(){var o=this;return E(this,function(a){switch(a.label){case 0:return[4,Promise.resolve(n.load(r,i)).then(function(){o.plugins.push(n)}).catch(function(s){if(n.type==="destination"){o.failedInitializations.push(n.name),console.warn(n.name,s),r.log("warn","Failed to load destination",{plugin:n.name,error:s});return}throw s})];case 1:return a.sent(),[2]}})})},t.prototype.deregister=function(r,n,i){return A(this,void 0,void 0,function(){var o;return E(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(r){return A(this,void 0,void 0,function(){var n;return E(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},t.prototype.subscribeToDelivery=function(r){return A(this,void 0,void 0,function(){var n=this;return E(this,function(i){return[2,new Promise(function(o){var a=function(s,l){s.isSame(r)&&(n.off("flush",a),o(s))};n.on("flush",a)})]})})},t.prototype.dispatchSingle=function(r){return A(this,void 0,void 0,function(){var n=this;return E(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},t.prototype.isEmpty=function(){return this.queue.length===0},t.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},t.prototype.deliver=function(r){return A(this,void 0,void 0,function(){var n,i,o,a;return E(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=s.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=s.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},t.prototype.enqueuRetry=function(r,n){var i=!(r instanceof we)||r.retry;return i?this.queue.pushWithBackoff(n):!1},t.prototype.flush=function(){return A(this,void 0,void 0,function(){var r,n,i;return E(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(b){var _,I,S;if(b.type!=="destination"&&b.name!=="Segment.io")return!0;var m=void 0;return(_=b.alternativeNames)===null||_===void 0||_.forEach(function(p){r[p]!==void 0&&(m=r[p])}),(S=(I=r[b.name])!==null&&I!==void 0?I:m)!==null&&S!==void 0?S:(b.name==="Segment.io"?!0:r.All)!==!1}),i=Cn(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,l=s===void 0?[]:s,f=i.destination,v=f===void 0?[]:f,y=i.after,g=y===void 0?[]:y;return{before:a,enrichment:l,destinations:v,after:g}},t.prototype.flushOne=function(r){var n,i;return A(this,void 0,void 0,function(){var o,a,s,l,f,v,_,y,g,b,_,I,S,m,p;return E(this,function(c){switch(c.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,l=0,f=a,c.label=1;case 1:return l<f.length?(v=f[l],[4,Rn(r,v)]):[3,4];case 2:_=c.sent(),_ instanceof $e&&(r=_),this.emit("message_enriched",r,v),c.label=3;case 3:return l++,[3,1];case 4:y=0,g=s,c.label=5;case 5:return y<g.length?(b=g[y],[4,Te(r,b)]):[3,8];case 6:_=c.sent(),_ instanceof $e&&(r=_),this.emit("message_enriched",r,b),c.label=7;case 7:return y++,[3,5];case 8:return I=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),S=I.destinations,m=I.after,[4,new Promise(function(u,h){setTimeout(function(){var d=S.map(function(P){return Te(r,P)});Promise.all(d).then(u).catch(h)},0)})];case 9:return c.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),p=m.map(function(u){return Te(r,u)}),[4,Promise.all(p)];case 10:return c.sent(),[2,r]}})})},t}(Et),Nn=function(e,t){var r=Date.now()-e;return Math.max((t??300)-r,0)};function kn(e,t,r,n){return A(this,void 0,void 0,function(){var i,o;return E(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:o=a.sent(),a.label=4;case 4:return n?.callback?[4,Tn(o,n.callback,Nn(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n?.debug&&o.flush(),[2,o]}})})}function Un(e,t,r,n){var i,o=[e,t,r,n],a=V(e)?e.event:e;if(!a||!le(a))throw new Error("Event missing");var s=V(e)?(i=e.properties)!==null&&i!==void 0?i:{}:V(t)?t:{},l={};ve(r)||(l=r??{}),V(e)&&!ve(t)&&(l=t??{});var f=o.find(ve);return[a,s,l,f]}function rr(e,t,r,n,i){var o,a,s=null,l=null,f=[e,t,r,n,i],v=f.filter(le);v[0]!==void 0&&v[1]!==void 0&&(s=v[0],l=v[1]),v.length===1&&(s=null,l=v[0]);var y=f.find(ve),g=f.filter(function(I){return l===null?V(I):V(I)||I===null}),b=(o=g[0])!==null&&o!==void 0?o:{},_=(a=g[1])!==null&&a!==void 0?a:{};return[s,l,b,_,y]}var nr=function(e){return function(){for(var t,r,n,i,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=null;l=(n=(t=a.find(le))!==null&&t!==void 0?t:(r=a.find(dt))===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:e.id();var f=a.filter(function(b){return l===null?V(b):V(b)||b===null}),v=(i=f[0])!==null&&i!==void 0?i:{},y=(o=f[1])!==null&&o!==void 0?o:{},g=a.find(ve);return[l,v,y,g]}};function $n(e,t,r,n){dt(e)&&(e=e.toString()),dt(t)&&(t=t.toString());var i=[e,t,r,n],o=i.filter(le),a=o[0],s=a===void 0?e:a,l=o[1],f=l===void 0?null:l,v=i.filter(V)[0],y=v===void 0?{}:v,g=i.find(ve);return[s,f,y,g]}function Ot(){return typeof window<"u"}function Ha(){return!Ot()}function qn(){return Ot()?window.navigator.onLine:!0}function Pe(){return!qn()}function Bn(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return a},get:function(v){return s[v.toLowerCase()]},has:function(v){return v.toLowerCase()in s}}}};for(var f in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(v,y,g){o.push(y=y.toLowerCase()),a.push([y,g]),s[y]=s[y]?s[y]+","+g:g}),r(l())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(f,t.headers[f]);i.send(t.body||null)})}var xt=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},He=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=xt();return(r&&r.fetch||Bn).apply(void 0,e)},Ke="1.55.0",xr="api.segment.io/v1",zn=function(e,t,r){var n=t.reduce(function(i,o){var a=o.split(":"),s=a[0],l=a[1];return i[s]=l,i},{});return{type:"Counter",metric:e,value:1,tags:w(w({},n),{library:"analytics.js",library_version:"npm:next-".concat(Ke)})}};function nt(e){console.error("Error sending segment performance metrics",e)}var Hn=function(){function e(t){var r=this,n,i,o,a;if(this.host=(n=t?.host)!==null&&n!==void 0?n:xr,this.sampleRate=(i=t?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=t?.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=t?.maxQueueSize)!==null&&a!==void 0?a:20,this.queue=[],this.sampleRate>0){var s=!1,l=function(){s||(s=!0,r.flush().catch(nt),s=!1,setTimeout(l,r.flushTimer))};l()}}return e.prototype.increment=function(t,r){if(t.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=zn(t,r);this.queue.push(n),t.includes("error")&&this.flush().catch(nt)}},e.prototype.flush=function(){return A(this,void 0,void 0,function(){var t=this;return E(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){nt(n),t.sampleRate=0})];case 1:return r.sent(),[2]}})})},e.prototype.send=function(){return A(this,void 0,void 0,function(){var t,r,n;return E(this,function(i){return t={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="https://".concat(this.host,"/m"),[2,He(n,{headers:r,body:JSON.stringify(t),method:"POST"})]})})},e}(),Re,Dr=function(e){z(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.initRemoteMetrics=function(r){Re=new Hn(r)},t.prototype.increment=function(r,n,i){e.prototype.increment.call(this,r,n,i),Re?.increment(r,i??[])},t}(Or),me=function(e){z(t,e);function t(r,n){return e.call(this,r,n,new Dr)||this}return t.system=function(){return new this({type:"track",event:"system"})},t}($e),Cr={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(m,p){var c=m[0],u=m[1],h=m[2],d=m[3];c+=(u&h|~u&d)+p[0]-680876936|0,c=(c<<7|c>>>25)+u|0,d+=(c&u|~c&h)+p[1]-389564586|0,d=(d<<12|d>>>20)+c|0,h+=(d&c|~d&u)+p[2]+606105819|0,h=(h<<17|h>>>15)+d|0,u+=(h&d|~h&c)+p[3]-1044525330|0,u=(u<<22|u>>>10)+h|0,c+=(u&h|~u&d)+p[4]-176418897|0,c=(c<<7|c>>>25)+u|0,d+=(c&u|~c&h)+p[5]+1200080426|0,d=(d<<12|d>>>20)+c|0,h+=(d&c|~d&u)+p[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,u+=(h&d|~h&c)+p[7]-45705983|0,u=(u<<22|u>>>10)+h|0,c+=(u&h|~u&d)+p[8]+1770035416|0,c=(c<<7|c>>>25)+u|0,d+=(c&u|~c&h)+p[9]-1958414417|0,d=(d<<12|d>>>20)+c|0,h+=(d&c|~d&u)+p[10]-42063|0,h=(h<<17|h>>>15)+d|0,u+=(h&d|~h&c)+p[11]-1990404162|0,u=(u<<22|u>>>10)+h|0,c+=(u&h|~u&d)+p[12]+1804603682|0,c=(c<<7|c>>>25)+u|0,d+=(c&u|~c&h)+p[13]-40341101|0,d=(d<<12|d>>>20)+c|0,h+=(d&c|~d&u)+p[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,u+=(h&d|~h&c)+p[15]+1236535329|0,u=(u<<22|u>>>10)+h|0,c+=(u&d|h&~d)+p[1]-165796510|0,c=(c<<5|c>>>27)+u|0,d+=(c&h|u&~h)+p[6]-1069501632|0,d=(d<<9|d>>>23)+c|0,h+=(d&u|c&~u)+p[11]+643717713|0,h=(h<<14|h>>>18)+d|0,u+=(h&c|d&~c)+p[0]-373897302|0,u=(u<<20|u>>>12)+h|0,c+=(u&d|h&~d)+p[5]-701558691|0,c=(c<<5|c>>>27)+u|0,d+=(c&h|u&~h)+p[10]+38016083|0,d=(d<<9|d>>>23)+c|0,h+=(d&u|c&~u)+p[15]-660478335|0,h=(h<<14|h>>>18)+d|0,u+=(h&c|d&~c)+p[4]-405537848|0,u=(u<<20|u>>>12)+h|0,c+=(u&d|h&~d)+p[9]+568446438|0,c=(c<<5|c>>>27)+u|0,d+=(c&h|u&~h)+p[14]-1019803690|0,d=(d<<9|d>>>23)+c|0,h+=(d&u|c&~u)+p[3]-187363961|0,h=(h<<14|h>>>18)+d|0,u+=(h&c|d&~c)+p[8]+1163531501|0,u=(u<<20|u>>>12)+h|0,c+=(u&d|h&~d)+p[13]-1444681467|0,c=(c<<5|c>>>27)+u|0,d+=(c&h|u&~h)+p[2]-51403784|0,d=(d<<9|d>>>23)+c|0,h+=(d&u|c&~u)+p[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,u+=(h&c|d&~c)+p[12]-1926607734|0,u=(u<<20|u>>>12)+h|0,c+=(u^h^d)+p[5]-378558|0,c=(c<<4|c>>>28)+u|0,d+=(c^u^h)+p[8]-2022574463|0,d=(d<<11|d>>>21)+c|0,h+=(d^c^u)+p[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,u+=(h^d^c)+p[14]-35309556|0,u=(u<<23|u>>>9)+h|0,c+=(u^h^d)+p[1]-1530992060|0,c=(c<<4|c>>>28)+u|0,d+=(c^u^h)+p[4]+1272893353|0,d=(d<<11|d>>>21)+c|0,h+=(d^c^u)+p[7]-155497632|0,h=(h<<16|h>>>16)+d|0,u+=(h^d^c)+p[10]-1094730640|0,u=(u<<23|u>>>9)+h|0,c+=(u^h^d)+p[13]+681279174|0,c=(c<<4|c>>>28)+u|0,d+=(c^u^h)+p[0]-358537222|0,d=(d<<11|d>>>21)+c|0,h+=(d^c^u)+p[3]-722521979|0,h=(h<<16|h>>>16)+d|0,u+=(h^d^c)+p[6]+76029189|0,u=(u<<23|u>>>9)+h|0,c+=(u^h^d)+p[9]-640364487|0,c=(c<<4|c>>>28)+u|0,d+=(c^u^h)+p[12]-421815835|0,d=(d<<11|d>>>21)+c|0,h+=(d^c^u)+p[15]+530742520|0,h=(h<<16|h>>>16)+d|0,u+=(h^d^c)+p[2]-995338651|0,u=(u<<23|u>>>9)+h|0,c+=(h^(u|~d))+p[0]-198630844|0,c=(c<<6|c>>>26)+u|0,d+=(u^(c|~h))+p[7]+1126891415|0,d=(d<<10|d>>>22)+c|0,h+=(c^(d|~u))+p[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,u+=(d^(h|~c))+p[5]-57434055|0,u=(u<<21|u>>>11)+h|0,c+=(h^(u|~d))+p[12]+1700485571|0,c=(c<<6|c>>>26)+u|0,d+=(u^(c|~h))+p[3]-1894986606|0,d=(d<<10|d>>>22)+c|0,h+=(c^(d|~u))+p[10]-1051523|0,h=(h<<15|h>>>17)+d|0,u+=(d^(h|~c))+p[1]-2054922799|0,u=(u<<21|u>>>11)+h|0,c+=(h^(u|~d))+p[8]+1873313359|0,c=(c<<6|c>>>26)+u|0,d+=(u^(c|~h))+p[15]-30611744|0,d=(d<<10|d>>>22)+c|0,h+=(c^(d|~u))+p[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,u+=(d^(h|~c))+p[13]+1309151649|0,u=(u<<21|u>>>11)+h|0,c+=(h^(u|~d))+p[4]-145523070|0,c=(c<<6|c>>>26)+u|0,d+=(u^(c|~h))+p[11]-1120210379|0,d=(d<<10|d>>>22)+c|0,h+=(c^(d|~u))+p[2]+718787259|0,h=(h<<15|h>>>17)+d|0,u+=(d^(h|~c))+p[9]-343485551|0,u=(u<<21|u>>>11)+h|0,m[0]=c+m[0]|0,m[1]=u+m[1]|0,m[2]=h+m[2]|0,m[3]=d+m[3]|0}function o(m){var p=[],c;for(c=0;c<64;c+=4)p[c>>2]=m.charCodeAt(c)+(m.charCodeAt(c+1)<<8)+(m.charCodeAt(c+2)<<16)+(m.charCodeAt(c+3)<<24);return p}function a(m){var p=[],c;for(c=0;c<64;c+=4)p[c>>2]=m[c]+(m[c+1]<<8)+(m[c+2]<<16)+(m[c+3]<<24);return p}function s(m){var p=m.length,c=[1732584193,-271733879,-1732584194,271733878],u,h,d,P,N,H;for(u=64;u<=p;u+=64)i(c,o(m.substring(u-64,u)));for(m=m.substring(u-64),h=m.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<h;u+=1)d[u>>2]|=m.charCodeAt(u)<<(u%4<<3);if(d[u>>2]|=128<<(u%4<<3),u>55)for(i(c,d),u=0;u<16;u+=1)d[u]=0;return P=p*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(P[2],16),H=parseInt(P[1],16)||0,d[14]=N,d[15]=H,i(c,d),c}function l(m){var p=m.length,c=[1732584193,-271733879,-1732584194,271733878],u,h,d,P,N,H;for(u=64;u<=p;u+=64)i(c,a(m.subarray(u-64,u)));for(m=u-64<p?m.subarray(u-64):new Uint8Array(0),h=m.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<h;u+=1)d[u>>2]|=m[u]<<(u%4<<3);if(d[u>>2]|=128<<(u%4<<3),u>55)for(i(c,d),u=0;u<16;u+=1)d[u]=0;return P=p*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),N=parseInt(P[2],16),H=parseInt(P[1],16)||0,d[14]=N,d[15]=H,i(c,d),c}function f(m){var p="",c;for(c=0;c<4;c+=1)p+=n[m>>c*8+4&15]+n[m>>c*8&15];return p}function v(m){var p;for(p=0;p<m.length;p+=1)m[p]=f(m[p]);return m.join("")}v(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function m(p,c){return p=p|0||0,p<0?Math.max(p+c,0):Math.min(p,c)}ArrayBuffer.prototype.slice=function(p,c){var u=this.byteLength,h=m(p,u),d=u,P,N,H,C;return c!==r&&(d=m(c,u)),h>d?new ArrayBuffer(0):(P=d-h,N=new ArrayBuffer(P),H=new Uint8Array(N),C=new Uint8Array(this,h,P),H.set(C),N)}}();function y(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function g(m,p){var c=m.length,u=new ArrayBuffer(c),h=new Uint8Array(u),d;for(d=0;d<c;d+=1)h[d]=m.charCodeAt(d);return p?h:u}function b(m){return String.fromCharCode.apply(null,new Uint8Array(m))}function _(m,p,c){var u=new Uint8Array(m.byteLength+p.byteLength);return u.set(new Uint8Array(m)),u.set(new Uint8Array(p),m.byteLength),u}function I(m){var p=[],c=m.length,u;for(u=0;u<c-1;u+=2)p.push(parseInt(m.substr(u,2),16));return String.fromCharCode.apply(String,p)}function S(){this.reset()}return S.prototype.append=function(m){return this.appendBinary(y(m)),this},S.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var p=this._buff.length,c;for(c=64;c<=p;c+=64)i(this._hash,o(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},S.prototype.end=function(m){var p=this._buff,c=p.length,u,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(u=0;u<c;u+=1)h[u>>2]|=p.charCodeAt(u)<<(u%4<<3);return this._finish(h,c),d=v(this._hash),m&&(d=I(d)),this.reset(),d},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(m,p){var c=p,u,h,d;if(m[c>>2]|=128<<(c%4<<3),c>55)for(i(this._hash,m),c=0;c<16;c+=1)m[c]=0;u=this._length*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(u[2],16),d=parseInt(u[1],16)||0,m[14]=h,m[15]=d,i(this._hash,m)},S.hash=function(m,p){return S.hashBinary(y(m),p)},S.hashBinary=function(m,p){var c=s(m),u=v(c);return p?I(u):u},S.ArrayBuffer=function(){this.reset()},S.ArrayBuffer.prototype.append=function(m){var p=_(this._buff.buffer,m),c=p.length,u;for(this._length+=m.byteLength,u=64;u<=c;u+=64)i(this._hash,a(p.subarray(u-64,u)));return this._buff=u-64<c?new Uint8Array(p.buffer.slice(u-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(m){var p=this._buff,c=p.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<c;h+=1)u[h>>2]|=p[h]<<(h%4<<3);return this._finish(u,c),d=v(this._hash),m&&(d=I(d)),this.reset(),d},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var m=S.prototype.getState.call(this);return m.buff=b(m.buff),m},S.ArrayBuffer.prototype.setState=function(m){return m.buff=g(m.buff,!0),S.prototype.setState.call(this,m)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(m,p){var c=l(new Uint8Array(m)),u=v(c);return p?I(u):u},S})})(Cr);var Kn=Cr.exports;const Vn=pn(Kn);var Wn=function(){function e(t){this.user=t}return e.prototype.track=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{event:t,type:"track",properties:r,options:w({},n),integrations:w({},i)}))},e.prototype.page=function(t,r,n,i,o){var a,s={type:"page",properties:w({},n),options:w({},i),integrations:w({},o)};return t!==null&&(s.category=t,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=t),r!==null&&(s.name=r),this.normalize(w(w({},this.baseEvent()),s))},e.prototype.screen=function(t,r,n,i,o){var a={type:"screen",properties:w({},n),options:w({},i),integrations:w({},o)};return t!==null&&(a.category=t),r!==null&&(a.name=r),this.normalize(w(w({},this.baseEvent()),a))},e.prototype.identify=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{type:"identify",userId:t,traits:r,options:w({},n),integrations:w({},i)}))},e.prototype.group=function(t,r,n,i){return this.normalize(w(w({},this.baseEvent()),{type:"group",traits:r,options:w({},n),integrations:w({},i),groupId:t}))},e.prototype.alias=function(t,r,n,i){var o={userId:t,type:"alias",options:w({},n),integrations:w({},i)};return r!==null&&(o.previousId=r),t===void 0?this.normalize(w(w({},o),this.baseEvent())):this.normalize(w(w({},this.baseEvent()),o))},e.prototype.baseEvent=function(){var t={integrations:{},options:{}},r=this.user;return r.id()&&(t.userId=r.id()),r.anonymousId()&&(t.anonymousId=r.anonymousId()),t},e.prototype.context=function(t){var r,n,i,o=["integrations","anonymousId","timestamp","userId"],a=(r=t.options)!==null&&r!==void 0?r:{};delete a.integrations;var s=Object.keys(a),l=(i=(n=t.options)===null||n===void 0?void 0:n.context)!==null&&i!==void 0?i:{},f={};return s.forEach(function(v){v!=="context"&&(o.includes(v)?ft(f,v,a[v]):ft(l,v,a[v]))}),[l,f]},e.prototype.normalize=function(t){var r,n,i;!((r=t.options)===null||r===void 0)&&r.anonymousId&&this.user.anonymousId(t.options.anonymousId);var o=Object.keys((n=t.integrations)!==null&&n!==void 0?n:{}).reduce(function(_,I){var S,m;return w(w({},_),(S={},S[I]=!!(!((m=t.integrations)===null||m===void 0)&&m[I]),S))},{}),a=w(w({},o),(i=t.options)===null||i===void 0?void 0:i.integrations),s=this.context(t),l=s[0],f=s[1];t.options;var v=Er(t,["options"]),y=w(w(w({timestamp:new Date},v),{context:l,integrations:a}),f),g="ajs-next-"+Vn.hash(JSON.stringify(y)+Pt()),b=w(w({},y),{messageId:g});return b},e}(),W={getItem:function(){},setItem:function(){},removeItem:function(){}};try{W=Ot()&&window.localStorage?window.localStorage:W}catch(e){console.warn("Unable to access localStorage",e)}function Mr(e){var t=W.getItem(e);return(t?JSON.parse(t):[]).map(function(r){return new me(r.event,r.id)})}function Jn(e,t){var r=Mr(e),n=F(F([],t,!0),r,!0),i=n.reduce(function(o,a){var s;return w(w({},o),(s={},s[a.id]=a,s))},{});W.setItem(e,JSON.stringify(Object.values(i)))}function Lr(e){var t=W.getItem(e);return t?JSON.parse(t):{}}function Yn(e,t){var r=Lr(e);W.setItem(e,JSON.stringify(w(w({},r),t)))}function ir(e){W.removeItem(e)}var Gn=function(){return new Date().getTime()};function ht(e,t,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(e,":lock"),o=function(f){return new Date().getTime()>f},a=W.getItem(i),s=a?JSON.parse(a):null,l=s===null||o(s);if(l){W.setItem(i,JSON.stringify(Gn()+n)),t(),W.removeItem(i);return}!l&&r<3?setTimeout(function(){ht(e,t,r+1)},n):console.error("Unable to retrieve lock")}var Dt=function(e){z(t,e);function t(r,n){var i=e.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),s=[],l={};return ht(n,function(){try{s=Mr(o),l=Lr(a),ir(o),ir(a),i.queue=F(F([],s,!0),i.queue,!0),i.seen=w(w({},l),i.seen)}catch(f){console.error(f)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var f=F(F([],i.queue,!0),i.future,!0);try{ht(n,function(){Jn(o,f),Yn(a,i.seen)})}catch(v){console.error(v)}}}),i}return t}(Tt),Xn=function(e){z(t,e);function t(r){return e.call(this,typeof r=="string"?new Dt(4,r):r)||this}return t.prototype.flush=function(){return A(this,void 0,void 0,function(){return E(this,function(r){return Pe()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(jn);function Ct(e){for(var t=e.constructor.prototype,r=0,n=Object.getOwnPropertyNames(t);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);o&&typeof o.value=="function"&&(e[i]=e[i].bind(e))}}return e}/*! js-cookie v3.0.1 | MIT */function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Qn={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function pt(e,t){function r(i,o,a){if(!(typeof document>"u")){a=je({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,a[l]!==!0&&(s+="="+a[l].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var l=o[s].split("="),f=l.slice(1).join("=");try{var v=decodeURIComponent(l[0]);if(a[v]=e.read(f,v),i===v)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",je({},o,{expires:-1}))},withAttributes:function(i){return pt(this.converter,je({},this.attributes,i))},withConverter:function(i){return pt(je({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var G=pt(Qn,{path:"/"});function Zn(e){var t=e.hostname,r=t.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function ei(e){try{return new URL(e)}catch{return}}function Fr(e){var t=ei(e);if(t)for(var r=Zn(t),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(G.set(i,"1",a),G.get(i))return G.remove(i,a),o}catch{return}}}var ti=365,Rr=function(){function e(t){t===void 0&&(t=e.defaults),this.options=w(w({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:ti,domain:Fr(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(t){var r;try{var n=G.get(t);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return null}},e.prototype.set=function(t,r){typeof r=="string"?G.set(t,r,this.opts()):r===null?G.remove(t,this.opts()):G.set(t,JSON.stringify(r),this.opts())},e.prototype.remove=function(t){return G.remove(t,this.opts())},e}(),ri=function(){function e(){}return e.prototype.localStorageWarning=function(t,r){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(r))},e.prototype.get=function(t){var r;try{var n=localStorage.getItem(t);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return this.localStorageWarning(t,"unavailable"),null}},e.prototype.set=function(t,r){try{localStorage.setItem(t,JSON.stringify(r))}catch{this.localStorageWarning(t,"full")}},e.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch{this.localStorageWarning(t,"unavailable")}},e}(),Mt=function(){function e(){this.cache={}}return e.prototype.get=function(t){var r;return(r=this.cache[t])!==null&&r!==void 0?r:null},e.prototype.set=function(t,r){this.cache[t]=r},e.prototype.remove=function(t){delete this.cache[t]},e}(),R={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function jr(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(t){return Object.values(R).includes(t)})}function ni(e){return typeof e=="object"&&e.name!==void 0}var oe=function(){function e(t){this.stores=t}return e.prototype.get=function(t){for(var r=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(r=o.get(t),r!=null)return r}catch(a){console.warn("Can't access ".concat(t,": ").concat(a))}}return null},e.prototype.set=function(t,r){this.stores.forEach(function(n){try{n.set(t,r)}catch(i){console.warn("Can't set ".concat(t,": ").concat(i))}})},e.prototype.clear=function(t){this.stores.forEach(function(r){try{r.remove(t)}catch(n){console.warn("Can't remove ".concat(t,": ").concat(n))}})},e.prototype.getAndSync=function(t){var r=this.get(t),n=typeof r=="number"?r.toString():r;return this.set(t,n),n},e}();function vt(e){var t=e.map(function(r){var n,i;switch(ni(r)?(n=r.name,i=r.settings):n=r,n){case R.Cookie:return new Rr(i);case R.LocalStorage:return new ri;case R.Memory:return new Mt;default:throw new Error("Unknown Store Type: ".concat(r))}});return t}function Nr(e,t){return e.map(function(r){return t&&r===R.Cookie?{name:r,settings:t}:r})}var re={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},kr=function(){function e(t,r){t===void 0&&(t=re);var n=this,i,o,a,s;this.options={},this.id=function(f){if(n.options.disable)return null;var v=n.identityStore.getAndSync(n.idKey);if(f!==void 0){n.identityStore.set(n.idKey,f);var y=f!==v&&v!==null&&f!==null;y&&n.anonymousId(null)}var g=n.identityStore.getAndSync(n.idKey);if(g)return g;var b=n.legacyUserStore.get(re.cookie.oldKey);return b?typeof b=="object"?b.id:b:null},this.anonymousId=function(f){var v,y;if(n.options.disable)return null;if(f===void 0){var g=(v=n.identityStore.getAndSync(n.anonKey))!==null&&v!==void 0?v:(y=n.legacySIO())===null||y===void 0?void 0:y[0];if(g)return g}return f===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,f??Pt()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(f){var v;if(!n.options.disable)return f===null&&(f={}),f&&n.traitsStore.set(n.traitsKey,f??{}),(v=n.traitsStore.get(n.traitsKey))!==null&&v!==void 0?v:{}},this.options=w(w({},re),t),this.cookieOptions=r,this.idKey=(o=(i=t.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:re.cookie.key,this.traitsKey=(s=(a=t.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:re.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(f){return f===R.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(f){return f!==R.Cookie});var l=this.legacyUserStore.get(re.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),Ct(this)}return e.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var r=t.split("----"),n=r[0],i=r[1];return[n,i]},e.prototype.identify=function(t,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===t)&&(r=w(w({},this.traits()),r)),t&&this.id(t),this.traits(r)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(t,r,n){var i=[R.LocalStorage,R.Cookie,R.Memory];return t.disable?new oe([]):t.persist?(t.storage!==void 0&&t.storage!==null&&jr(t.storage)&&(i=t.storage.stores),t.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==R.LocalStorage})),n&&(i=i.filter(n)),new oe(vt(Nr(i,r)))):new oe([new Mt])},e.defaults=re,e}(),or={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},ii=function(e){z(t,e);function t(r,n){r===void 0&&(r=or);var i=e.call(this,w(w({},or),r),n)||this;return i.anonymousId=function(o){},Ct(i),i}return t}(kr),Q="This is being deprecated and will be not be available in future releases of Analytics JS",it=xt(),ot=it?.analytics;function oi(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=t?4:1,i=r?new Tt(n,[]):new Dt(n,e);return new Xn(i)}function K(){console.warn(Q)}var ai=function(e){z(t,e);function t(r,n,i,o,a){var s=this,l,f,v;s=e.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=K,s.addIntegrationMiddleware=K,s.listeners=K,s.addEventListener=K,s.removeAllListeners=K,s.removeListener=K,s.removeEventListener=K,s.hasListeners=K,s.add=K,s.addIntegration=K;var y=n?.cookie,g=(l=n?.disableClientPersistence)!==null&&l!==void 0?l:!1;s.settings=r,s.settings.timeout=(f=s.settings.timeout)!==null&&f!==void 0?f:300,s.queue=i??oi("".concat(r.writeKey,":event-queue"),n?.retryQueue,g);var b=n?.storage;return s._universalStorage=s.createStore(g,b,y),s._user=o??new kr(w({persist:!g,storage:n?.storage},n?.user),y).load(),s._group=a??new ii(w({persist:!g,storage:n?.storage},n?.group),y).load(),s.eventFactory=new Wn(s._user),s.integrations=(v=n?.integrations)!==null&&v!==void 0?v:{},s.options=n??{},Ct(s),s}return t.prototype.createStore=function(r,n,i){return r?new oe([new Mt]):n&&jr(n)?new oe(vt(Nr(n.stores,i))):new oe(vt([R.LocalStorage,{name:R.Cookie,settings:i},R.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,l,f,v=this;return E(this,function(y){return i=Un.apply(void 0,r),o=i[0],a=i[1],s=i[2],l=i[3],f=this.eventFactory.track(o,a,s,this.integrations),[2,this._dispatch(f,l).then(function(g){return v.emit("track",o,g.event.properties,g.event.options),g})]})})},t.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,l,f,v,y=this;return E(this,function(g){return i=rr.apply(void 0,r),o=i[0],a=i[1],s=i[2],l=i[3],f=i[4],v=this.eventFactory.page(o,a,s,l,this.integrations),[2,this._dispatch(v,f).then(function(b){return y.emit("page",o,a,b.event.properties,b.event.options),b})]})})},t.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,l,f,v=this;return E(this,function(y){return i=nr(this._user).apply(void 0,r),o=i[0],a=i[1],s=i[2],l=i[3],this._user.identify(o,a),f=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations),[2,this._dispatch(f,l).then(function(g){return v.emit("identify",g.event.userId,g.event.traits,g.event.options),g})]})})},t.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(n.length===0)return this._group;var o=nr(this._group).apply(void 0,n),a=o[0],s=o[1],l=o[2],f=o[3];this._group.identify(a,s);var v=this._group.id(),y=this._group.traits(),g=this.eventFactory.group(v,y,l,this.integrations);return this._dispatch(g,f).then(function(b){return r.emit("group",b.event.groupId,b.event.traits,b.event.options),b})},t.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,l,f,v=this;return E(this,function(y){return i=$n.apply(void 0,r),o=i[0],a=i[1],s=i[2],l=i[3],f=this.eventFactory.alias(o,a,s,this.integrations),[2,this._dispatch(f,l).then(function(g){return v.emit("alias",o,a,g.event.options),g})]})})},t.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a,s,l,f,v,y=this;return E(this,function(g){return i=rr.apply(void 0,r),o=i[0],a=i[1],s=i[2],l=i[3],f=i[4],v=this.eventFactory.screen(o,a,s,l,this.integrations),[2,this._dispatch(v,f).then(function(b){return y.emit("screen",o,a,b.event.properties,b.event.options),b})]})})},t.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return E(this,function(a){switch(a.label){case 0:return[4,$(()=>import("./auto-track.CdgvYwKe.js"),__vite__mapDeps([0,1,2,3,4,5]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,F([this],r,!1))]}})})},t.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return E(this,function(a){switch(a.label){case 0:return[4,$(()=>import("./auto-track.CdgvYwKe.js"),__vite__mapDeps([0,1,2,3,4,5]))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,F([this],r,!1))]}})})},t.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return E(this,function(a){switch(a.label){case 0:return[4,$(()=>import("./auto-track.CdgvYwKe.js"),__vite__mapDeps([0,1,2,3,4,5]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,F([this],r,!1))]}})})},t.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o;return E(this,function(a){switch(a.label){case 0:return[4,$(()=>import("./auto-track.CdgvYwKe.js"),__vite__mapDeps([0,1,2,3,4,5]))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,F([this],r,!1))]}})})},t.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a=this;return E(this,function(s){switch(s.label){case 0:return i=me.system(),o=r.map(function(l){return a.queue.register(i,l,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},t.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return A(this,void 0,void 0,function(){var i,o,a=this;return E(this,function(s){switch(s.label){case 0:return i=me.system(),o=r.map(function(l){var f=a.queue.plugins.find(function(v){return v.name===l});if(f)return a.queue.deregister(i,f,a);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},t.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(r){this.settings.timeout=r},t.prototype._dispatch=function(r,n){return A(this,void 0,void 0,function(){var i;return E(this,function(o){return i=new me(r),Pe()&&!this.options.retryQueue?[2,i]:[2,kn(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(r){return A(this,void 0,void 0,function(){var n=this;return E(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return A(n,void 0,void 0,function(){var o,a,s;return E(this,function(l){switch(l.label){case 0:return[4,$(()=>Promise.resolve().then(()=>lo),void 0)];case 1:return o=l.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(f){if(f.type==="destination")return a[f.name]=!0}),s=o(r,a),[4,this.register(s)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.queue.plugins.filter(function(a){return a.name.toLowerCase()===r.toLowerCase()});return o.forEach(function(a){a.addMiddleware.apply(a,n)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},t.prototype.queryString=function(r){return A(this,void 0,void 0,function(){var n;return E(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,$(()=>import("./index.BCD_IYbu.js"),__vite__mapDeps([6,1,2,3,4,5]))];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},t.prototype.use=function(r){return r(this),this},t.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),A(this,void 0,void 0,function(){return E(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},t.prototype.noConflict=function(){return console.warn(Q),window.analytics=ot??this,this},t.prototype.normalize=function(r){return console.warn(Q),this.eventFactory.normalize(r)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(Q),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return Ke},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r,n){return A(this,void 0,void 0,function(){return E(this,function(i){return console.warn(Q),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(r){return A(this,void 0,void 0,function(){return E(this,function(n){switch(n.label){case 0:return console.warn(Q),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var r;return console.warn(Q),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){console.warn(Q);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),t.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},t}(Et),ar={};function Ur(){return typeof process>"u"||!ar?{}:ar}var si=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,ui=function(){var e,t=Array.prototype.slice.call(document.querySelectorAll("script"));return t.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=si.exec(i);o&&o[1]&&(e=o[1])}),e},ke,ci=function(){var e,t=ke??((e=window.analytics)===null||e===void 0?void 0:e._cdn);return t},li=function(e){window.analytics&&(window.analytics._cdn=e),ke=e},Lt=function(){var e=ci();if(e)return e;var t=ui();return t||"https://cdn.segment.com"},Ka=function(){var e=Lt();return"".concat(e,"/next-integrations")};function fi(e,t){var r,n=Object.entries((r=t.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,l=o[0],f=o[1];return typeof f=="object"?w(w({},i),(a={},a[l]=f,a)):w(w({},i),(s={},s[l]={},s))},{});return Object.entries(e.integrations).reduce(function(i,o){var a,s=o[0],l=o[1];return w(w({},i),(a={},a[s]=w(w({},l),n[s]),a))},{})}var di=function(){var e,t,r=new Promise(function(n,i){e=n,t=i});return{resolve:e,reject:t,promise:r}},hi=function(e,t){return Object.assign.apply(Object,F([{}],t.map(function(r){var n;if(e&&Object.prototype.hasOwnProperty.call(e,r))return n={},n[r]=e[r],n}),!1))};function pi(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}}var Ie;function vi(){if(Ie)return Ie;var e=Fr(window.location.href);return Ie={expires:31536e6,secure:!1,path:"/"},e&&(Ie.domain=e),Ie}function mi(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&");for(var r=e.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],l=a[1];if(t[s])return{id:l,type:t[s]}}}function $r(){var e=document.querySelector("link[rel='canonical']");if(e)return e.getAttribute("href")||void 0}function yi(){var e=$r();if(!e)return window.location.pathname;var t=document.createElement("a");t.href=e;var r=t.pathname.startsWith("/")?t.pathname:"/"+t.pathname;return r}function gi(e){e===void 0&&(e="");var t=$r();if(t)return t.includes("?")?t:"".concat(t).concat(e);var r=window.location.href,n=r.indexOf("#");return n===-1?r:r.slice(0,n)}function bi(){return{path:yi(),referrer:document.referrer,search:location.search,title:document.title,url:gi(location.search)}}function wi(e){return e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&"),e.split("&").reduce(function(t,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.substr(4);s==="campaign"&&(s="name"),t[s]=pi(a)}return t},{})}function _i(){var e=G.get("_ga");if(e&&e.startsWith("amp"))return e}function Si(e,t,r){var n,i=new oe(r?[]:[new Rr(vi())]),o=i.get("s:context.referrer"),a=(n=mi(e))!==null&&n!==void 0?n:o;a&&(t&&(t.referrer=w(w({},t.referrer),a)),i.set("s:context.referrer",a))}var Ai=function(){function e(){var t=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return t.instance=n,Promise.resolve()},this.enrich=function(r){var n,i,o,a=r.event,s=(n=a.context)!==null&&n!==void 0?n:a.context={},l=bi(),f;a.type==="page"&&(f=a.properties&&hi(a.properties,Object.keys(l)),a.properties=w(w(w({},l),a.properties),a.name?{name:a.name}:{})),s.page=w(w(w({},l),f),s.page);var v=s.page.search||"";s.userAgent=navigator.userAgent;var y=navigator.userLanguage||navigator.language;typeof s.locale>"u"&&typeof y<"u"&&(s.locale=y),(i=s.library)!==null&&i!==void 0||(s.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Ke)}),v&&!s.campaign&&(s.campaign=wi(v));var g=_i();return g&&(s.amp={id:g}),Si(v,s,(o=t.instance.options.disableClientPersistence)!==null&&o!==void 0?o:!1),r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return e}(),Ei=new Ai;function qr(e){var t=Array.prototype.slice.call(window.document.querySelectorAll("script"));return t.find(function(r){return r.src===e})}function at(e,t){var r=qr(e);if(r!==void 0){var n=r?.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=e,s.async=!0,s.setAttribute("status","loading");for(var l=0,f=Object.entries({});l<f.length;l++){var v=f[l],y=v[0],g=v[1];s.setAttribute(y,g)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(e)))};var b=window.document.getElementsByTagName("script")[0];(a=b.parentElement)===null||a===void 0||a.insertBefore(s,b)})}function Va(e){var t=qr(e);return t!==void 0&&t.remove(),Promise.resolve()}var Z={},J={},Ft={},Br={exports:{}};(function(e){e.exports=t(r),e.exports.find=e.exports,e.exports.replace=function(s,l,f,v){return t(i).call(this,s,l,f,v),s},e.exports.del=function(s,l,f){return t(n).call(this,s,l,null,f),s};function t(s){return function(l,f,v,y){var g=y&&a(y.normalizer)?y.normalizer:o;f=g(f);for(var b,_=!1;!_;)I();function I(){for(b in l){var S=g(b);if(f.indexOf(S)===0){var m=f.substr(S.length);if(m.charAt(0)==="."||m.length===0){f=m.substr(1);var p=l[b];if(p==null){_=!0;return}if(!f.length){_=!0;return}l=p;return}}}b=void 0,_=!0}if(b)return l==null?l:s(l,b,v)}}function r(s,l){if(s.hasOwnProperty(l))return s[l]}function n(s,l){return s.hasOwnProperty(l)&&delete s[l],s}function i(s,l,f){return s.hasOwnProperty(l)&&(s[l]=f),s}function o(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(s){return typeof s=="function"}})(Br);var Ve=Br.exports,Ii=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});var X=Ii(Ve);function de(e,t){return function(){var r=this.traits(),n=this.properties?this.properties():{};return X.default(r,"address."+e)||X.default(r,e)||(t?X.default(r,"address."+t):null)||(t?X.default(r,t):null)||X.default(n,"address."+e)||X.default(n,e)||(t?X.default(n,"address."+t):null)||(t?X.default(n,t):null)}}function Ti(e){e.zip=de("postalCode","zip"),e.country=de("country"),e.street=de("street"),e.state=de("state"),e.city=de("city"),e.region=de("region")}Ft.default=Ti;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.clone=void 0;function mt(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=mt(e[r]));return t}else return Array.isArray(e)?e.map(mt):e}We.clone=mt;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});var Pi={Salesforce:!0};function Oi(e){return!Pi[e]}Rt.default=Oi;var Je={},zr=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;Je.parse=function(e){var t=[1,5,6,7,11,12],r=zr.exec(e),n=0;if(!r)return new Date(e);for(var i=0,o;o=t[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};Je.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:zr.test(e)};var jt={},xi=/\d{13}/;jt.is=function(e){return xi.test(e)};jt.parse=function(e){return e=parseInt(e,10),new Date(e)};var Nt={},Di=/\d{10}/;Nt.is=function(e){return Di.test(e)};Nt.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)};var sr=Je,ur=jt,cr=Nt,Ci=Object.prototype,Hr=Ci.toString;function Mi(e){return Hr.call(e)==="[object Date]"}function Li(e){return Hr.call(e)==="[object Number]"}var kt=function(t){return Mi(t)?t:Li(t)?new Date(Fi(t)):sr.is(t)?sr.parse(t):ur.is(t)?ur.parse(t):cr.is(t)?cr.parse(t):new Date(t)};function Fi(e){return e<315576e5?e*1e3:e}var lr=Je,Ri=Ut;function Ut(e,t){return t===void 0&&(t=!0),e&&typeof e=="object"?ji(e,t):Array.isArray(e)?Ni(e,t):lr.is(e,t)?lr.parse(e):e}function ji(e,t){return Object.keys(e).forEach(function(r){e[r]=Ut(e[r],t)}),e}function Ni(e,t){return e.forEach(function(r,n){e[n]=Ut(r,t)}),e}var Ce=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});J.Facade=void 0;var ki=Ce(Ft),_e=We,Ui=Ce(Rt),$i=Ce(kt),yt=Ce(Ve),qi=Ce(Ri);function k(e,t){t=t||{},this.raw=_e.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=_e.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=$i.default(e.timestamp):e.timestamp=new Date,t.traverse&&qi.default(e),this.opts=t,this.obj=e}J.Facade=k;var O=k.prototype;O.proxy=function(e){var t=e.split(".");e=t.shift();var r=this[e]||this.obj[e];return r&&(typeof r=="function"&&(r=r.call(this)||{}),t.length===0?this.opts.clone?gt(r):r:(r=yt.default(r,t.join(".")),this.opts.clone?gt(r):r))};O.field=function(e){var t=this.obj[e];return this.opts.clone?gt(t):t};k.proxy=function(e){return function(){return this.proxy(e)}};k.field=function(e){return function(){return this.field(e)}};k.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var r=this.proxy(e);return r&&(r=[this.opts.clone?_e.clone(r):r]),r||[]}};k.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var r=this.proxy(e+"s");if(Array.isArray(r))return r[0]}};O.json=function(){var e=this.opts.clone?_e.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e};O.rawEvent=function(){return this.raw};O.options=function(e){var t=this.obj.options||this.obj.context||{},r=this.opts.clone?_e.clone(t):t;if(!e)return r;if(this.enabled(e)){var n=this.integrations(),i=n[e]||yt.default(n,e);return typeof i!="object"&&(i=yt.default(this.options(),e)),typeof i=="object"?i:{}}};O.context=O.options;O.enabled=function(e){var t=this.proxy("options.providers.all");typeof t!="boolean"&&(t=this.proxy("options.all")),typeof t!="boolean"&&(t=this.proxy("integrations.all")),typeof t!="boolean"&&(t=!0);var r=t&&Ui.default(e),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(e)&&(r=n.providers[e]),n.hasOwnProperty(e)){var i=n[e];typeof i=="boolean"?r=i:r=!0}return!!r};O.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};O.active=function(){var e=this.proxy("options.active");return e==null&&(e=!0),e};O.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};O.sessionId=O.anonymousId;O.groupId=k.proxy("options.groupId");O.traits=function(e){var t=this.proxy("options.traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;t[e[n]]=i,delete t[n]}return t};O.library=function(){var e=this.proxy("options.library");return e?typeof e=="string"?{name:e,version:null}:e:{name:"unknown",version:null}};O.device=function(){var e=this.proxy("context.device");(typeof e!="object"||e===null)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e};O.userAgent=k.proxy("context.userAgent");O.timezone=k.proxy("context.timezone");O.timestamp=k.field("timestamp");O.channel=k.field("channel");O.ip=k.proxy("context.ip");O.userId=k.field("userId");ki.default(O);function gt(e){return _e.clone(e)}var Ye={},Bi=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.Alias=void 0;var zi=Bi(ce),Kr=J;function q(e,t){Kr.Facade.call(this,e,t)}Ye.Alias=q;zi.default(q,Kr.Facade);q.prototype.action=function(){return"alias"};q.prototype.type=q.prototype.action;q.prototype.previousId=function(){return this.field("previousId")||this.field("from")};q.prototype.from=q.prototype.previousId;q.prototype.userId=function(){return this.field("userId")||this.field("to")};q.prototype.to=q.prototype.userId;var Ge={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Hi=/.+\@.+\..+/;function Ki(e){return Hi.test(e)}Se.default=Ki;var $t=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Group=void 0;var Vi=$t(ce),Wi=$t(Se),Ji=$t(kt),Ae=J;function qt(e,t){Ae.Facade.call(this,e,t)}Ge.Group=qt;Vi.default(qt,Ae.Facade);var B=qt.prototype;B.action=function(){return"group"};B.type=B.action;B.groupId=Ae.Facade.field("groupId");B.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return Ji.default(e)};B.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(Wi.default(t))return t};B.traits=function(e){var t=this.properties(),r=this.groupId();e=e||{},r&&(t.id=r);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;t[e[n]]=i,delete t[n]}return t};B.name=Ae.Facade.proxy("traits.name");B.industry=Ae.Facade.proxy("traits.industry");B.employees=Ae.Facade.proxy("traits.employees");B.properties=function(){return this.field("traits")||this.field("properties")||{}};var Me={},Xe=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});Me.Identify=void 0;var Y=J,ye=Xe(Ve),Yi=Xe(ce),Gi=Xe(Se),Vr=Xe(kt),ae=function(e){return e.trim()};function Bt(e,t){Y.Facade.call(this,e,t)}Me.Identify=Bt;Yi.default(Bt,Y.Facade);var x=Bt.prototype;x.action=function(){return"identify"};x.type=x.action;x.traits=function(e){var t=this.field("traits")||{},r=this.userId();e=e||{},r&&(t.id=r);for(var n in e){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(t[e[n]]=i,n!==e[n]&&delete t[n])}return t};x.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(Gi.default(t))return t};x.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return Vr.default(e)};x.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return Vr.default(e)};x.companyName=function(){return this.proxy("traits.company.name")};x.name=function(){var e=this.proxy("traits.name");if(typeof e=="string")return ae(e);var t=this.firstName(),r=this.lastName();if(t&&r)return ae(t+" "+r)};x.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e=="string")return ae(e);var t=this.proxy("traits.name");if(typeof t=="string")return ae(t).split(" ")[0]};x.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e=="string")return ae(e);var t=this.proxy("traits.name");if(typeof t=="string"){var r=ae(t).indexOf(" ");if(r!==-1)return ae(t.substr(r+1))}};x.uid=function(){return this.userId()||this.username()||this.email()};x.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};x.age=function(){var e=this.birthday(),t=ye.default(this.traits(),"age");if(t!=null)return t;if(e instanceof Date){var r=new Date;return r.getFullYear()-e.getFullYear()}};x.avatar=function(){var e=this.traits();return ye.default(e,"avatar")||ye.default(e,"photoUrl")||ye.default(e,"avatarUrl")};x.position=function(){var e=this.traits();return ye.default(e,"position")||ye.default(e,"jobTitle")};x.username=Y.Facade.proxy("traits.username");x.website=Y.Facade.one("traits.website");x.websites=Y.Facade.multi("traits.website");x.phone=Y.Facade.one("traits.phone");x.phones=Y.Facade.multi("traits.phone");x.address=Y.Facade.proxy("traits.address");x.gender=Y.Facade.proxy("traits.gender");x.birthday=Y.Facade.proxy("traits.birthday");var Ee={},zt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Track=void 0;var Xi=zt(ce),M=J,Qi=Me,Zi=zt(Se),Wr=zt(Ve);function Ht(e,t){M.Facade.call(this,e,t)}Ee.Track=Ht;Xi.default(Ht,M.Facade);var T=Ht.prototype;T.action=function(){return"track"};T.type=T.action;T.event=M.Facade.field("event");T.value=M.Facade.proxy("properties.value");T.category=M.Facade.proxy("properties.category");T.id=M.Facade.proxy("properties.id");T.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};T.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};T.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};T.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};T.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};T.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};T.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};T.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};T.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};T.sku=M.Facade.proxy("properties.sku");T.tax=M.Facade.proxy("properties.tax");T.name=M.Facade.proxy("properties.name");T.price=M.Facade.proxy("properties.price");T.total=M.Facade.proxy("properties.total");T.repeat=M.Facade.proxy("properties.repeat");T.coupon=M.Facade.proxy("properties.coupon");T.shipping=M.Facade.proxy("properties.shipping");T.discount=M.Facade.proxy("properties.discount");T.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};T.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};T.description=M.Facade.proxy("properties.description");T.plan=M.Facade.proxy("properties.plan");T.subtotal=function(){var e=Wr.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var r=this.tax();r&&(t-=r),r=this.shipping(),r&&(t-=r),r=this.discount(),r&&(t+=r)}return t};T.products=function(){var e=this.properties(),t=Wr.default(e,"products");return Array.isArray(t)?t.filter(function(r){return r!==null}):[]};T.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};T.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};T.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};T.query=M.Facade.proxy("options.query");T.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;t[e[r]]=n,delete t[r]}return t};T.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};T.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(Zi.default(t))return t};T.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!e&&t&&t.match(r)&&(e=this.proxy("properties.total")),eo(e)};T.cents=function(){var e=this.revenue();return typeof e!="number"?this.value()||0:e*100};T.identify=function(){var e=this.json();return e.traits=this.traits(),new Qi.Identify(e,this.opts)};function eo(e){if(e){if(typeof e=="number")return e;if(typeof e=="string"&&(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e)))return e}}var Le={},Jr=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.Page=void 0;var to=Jr(ce),fe=J,ro=Ee,no=Jr(Se);function Kt(e,t){fe.Facade.call(this,e,t)}Le.Page=Kt;to.default(Kt,fe.Facade);var j=Kt.prototype;j.action=function(){return"page"};j.type=j.action;j.category=fe.Facade.field("category");j.name=fe.Facade.field("name");j.title=fe.Facade.proxy("properties.title");j.path=fe.Facade.proxy("properties.path");j.url=fe.Facade.proxy("properties.url");j.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};j.properties=function(e){var t=this.field("properties")||{},r=this.category(),n=this.name();e=e||{},r&&(t.category=r),n&&(t.name=n);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;t[e[i]]=o,i!==e[i]&&delete t[i]}return t};j.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(no.default(t))return t};j.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t};j.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};j.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new ro.Track(t,this.opts)};var Qe={},io=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.Screen=void 0;var oo=io(ce),Yr=Le,ao=Ee;function ue(e,t){Yr.Page.call(this,e,t)}Qe.Screen=ue;oo.default(ue,Yr.Page);ue.prototype.action=function(){return"screen"};ue.prototype.type=ue.prototype.action;ue.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};ue.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new ao.Track(t,this.opts)};var Ze={},so=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.Delete=void 0;var uo=so(ce),Gr=J;function Vt(e,t){Gr.Facade.call(this,e,t)}Ze.Delete=Vt;uo.default(Vt,Gr.Facade);Vt.prototype.type=function(){return"delete"};(function(e){var t=D&&D.__assign||function(){return t=Object.assign||function(v){for(var y,g=1,b=arguments.length;g<b;g++){y=arguments[g];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(v[_]=y[_])}return v},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Delete=e.Screen=e.Page=e.Track=e.Identify=e.Group=e.Alias=e.Facade=void 0;var r=J;Object.defineProperty(e,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=Ye;Object.defineProperty(e,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=Ge;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return i.Group}});var o=Me;Object.defineProperty(e,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=Ee;Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return a.Track}});var s=Le;Object.defineProperty(e,"Page",{enumerable:!0,get:function(){return s.Page}});var l=Qe;Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return l.Screen}});var f=Ze;Object.defineProperty(e,"Delete",{enumerable:!0,get:function(){return f.Delete}}),e.default=t(t({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:s.Page,Screen:l.Screen,Delete:f.Delete})})(Z);function qe(e,t){var r=new Z.Facade(e,t);return e.type==="track"&&(r=new Z.Track(e,t)),e.type==="identify"&&(r=new Z.Identify(e,t)),e.type==="page"&&(r=new Z.Page(e,t)),e.type==="alias"&&(r=new Z.Alias(e,t)),e.type==="group"&&(r=new Z.Group(e,t)),e.type==="screen"&&(r=new Z.Screen(e,t)),Object.defineProperty(r,"obj",{value:e,writable:!0}),r}function Xr(e,t,r){return A(this,void 0,void 0,function(){function n(f,v){return A(this,void 0,void 0,function(){var y,g,b;return E(this,function(_){switch(_.label){case 0:return y=!1,g=null,[4,v({payload:qe(f,{clone:!0,traverse:!1}),integration:e,next:function(I){y=!0,I===null&&(g=null),I&&(g=I.obj)}})];case 1:return _.sent(),!y&&g!==null&&(g=g,g.integrations=w(w({},f.integrations),(b={},b[e]=!1,b))),[2,g]}})})}var i,o,a,s,l;return E(this,function(f){switch(f.label){case 0:i=qe(t,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,f.label=1;case 1:return o<a.length?(s=a[o],[4,n(i,s)]):[3,4];case 2:if(l=f.sent(),l===null)return[2,null];i=l,f.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function co(e,t){function r(n){return A(this,void 0,void 0,function(){var i;return E(this,function(o){switch(o.label){case 0:return i=!1,[4,e({payload:qe(n.event,{clone:!0,traverse:!1}),integrations:t??{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new we({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}const lo=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:Xr,sourceMiddlewarePlugin:co},Symbol.toStringTag,{value:"Module"}));var fo=function(){function e(t,r){this.version="1.0.0",this.alternativeNames=[],this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=t,this.type=r.type,this.alternativeNames.push(r.name)}return e.prototype.addMiddleware=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(t=this.middleware).push.apply(t,r)},e.prototype.transform=function(t){return A(this,void 0,void 0,function(){var r;return E(this,function(n){switch(n.label){case 0:return[4,Xr(this.name,t.event,this.middleware)];case 1:return r=n.sent(),r===null&&t.cancel(new we({retry:!1,reason:"dropped by destination middleware"})),[2,new me(r)]}})})},e.prototype._createMethod=function(t){var r=this;return function(n){return A(r,void 0,void 0,function(){var i;return E(this,function(o){switch(o.label){case 0:return this.action[t]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=o.sent(),o.label=2;case 2:return[4,this.action[t](i)];case 3:return o.sent(),[2,n]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return this.action.ready?this.action.ready():Promise.resolve()},e.prototype.load=function(t,r){return this.action.load(t,r)},e.prototype.unload=function(t,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,t,r)},e}();function ho(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];return e.forEach(function(r){t.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function po(e,t){var r=e[t.creationName],n=e[t.name];return e.All===!1&&!r&&!n||r===!1||n===!1}function vo(e,t){return A(this,void 0,void 0,function(){var r,n,i,o,a;return E(this,function(s){switch(s.label){case 0:if(r=new RegExp("https://cdn.segment.(com|build)"),n=Lt(),!t)return[3,6];i=e.url.split("/"),o=i[i.length-2],a=e.url.replace(o,btoa(o).replace(/=/g,"")),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,at(a.replace(r,n))];case 2:return s.sent(),[3,5];case 3:return s.sent(),[4,at(e.url.replace(r,n))];case 4:return s.sent(),[3,5];case 5:return[3,8];case 6:return[4,at(e.url.replace(r,n))];case 7:s.sent(),s.label=8;case 8:return typeof window[e.libraryName]=="function"?[2,window[e.libraryName]]:[2]}})})}function mo(e,t,r,n,i,o){var a,s,l;return A(this,void 0,void 0,function(){var f,v,y,g=this;return E(this,function(b){switch(b.label){case 0:return f=[],v=(s=(a=e.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],y=((l=e.remotePlugins)!==null&&l!==void 0?l:[]).map(function(_){return A(g,void 0,void 0,function(){var I,S,m,p,c,u;return E(this,function(h){switch(h.label){case 0:if(po(t,_))return[2];h.label=1;case 1:return h.trys.push([1,6,,7]),S=o?.find(function(d){var P=d.pluginName;return P===_.name}),S?[3,3]:[4,vo(_,n)];case 2:S=h.sent(),h.label=3;case 3:return I=S,I?[4,I(w(w({},_.settings),r[_.name]))]:[3,5];case 4:m=h.sent(),p=Array.isArray(m)?m:[m],ho(p),c=v.filter(function(d){return d.destinationName===_.creationName}),p.forEach(function(d){var P=new fo(_.creationName,d);c.length&&i&&d.type==="destination"&&P.addMiddleware(i),f.push(P)}),h.label=5;case 5:return[3,7];case 6:return u=h.sent(),console.warn("Failed to load Remote Plugin",u),[3,7];case 7:return[2]}})})}),[4,Promise.all(y)];case 1:return b.sent(),[2,f.filter(Boolean)]}})})}var yo=function(e){var t=!1;window.addEventListener("pagehide",function(){t||(t=!0,e(t))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(t)return;t=!0}else t=!1;e(t)})},go=500;function Qr(e){var t=encodeURI(JSON.stringify(e)).split(/%..|./).length-1;return t/1024}function bo(e){return Qr(e)>=go-50}function wo(e){var t=[],r=0;return e.forEach(function(n){var i=Qr(t[r]);i>=64&&r++,t[r]?t[r].push(n):t[r]=[n]}),t}function _o(e,t){var r,n,i=[],o=!1,a=(r=t?.size)!==null&&r!==void 0?r:10,s=(n=t?.timeout)!==null&&n!==void 0?n:5e3;function l(b){var _;if(b.length!==0){var I=(_=b[0])===null||_===void 0?void 0:_.writeKey,S=b.map(function(m){var p=m;p.sentAt;var c=Er(p,["sentAt"]);return c});return He("https://".concat(e,"/b"),{keepalive:o,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:I,batch:S,sentAt:new Date().toISOString()})})}}function f(){return A(this,void 0,void 0,function(){var b;return E(this,function(_){return i.length?(b=i,i=[],[2,l(b)]):[2]})})}var v;function y(){v||(v=setTimeout(function(){v=void 0,f().catch(console.error)},s))}yo(function(b){if(o=b,o&&i.length){var _=wo(i).map(l);Promise.all(_).catch(console.error)}});function g(b,_){return A(this,void 0,void 0,function(){var I;return E(this,function(S){return i.push(_),I=i.length>=a||bo(i),[2,I||o?f():y()]})})}return{dispatch:g}}function So(e){function t(r,n){return He(r,{keepalive:e?.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(n)})}return{dispatch:t}}function Ao(e,t,r,n){var i,o=e.user();delete t.options,t.writeKey=r?.apiKey,t.userId=t.userId||o.id(),t.anonymousId=t.anonymousId||o.anonymousId(),t.sentAt=new Date;var a=e.queue.failedInitializations||[];a.length>0&&(t._metadata={failedInitializations:a});var s=[],l=[];for(var f in n){var v=n[f];f==="Segment.io"&&s.push(f),v.bundlingStatus==="bundled"&&s.push(f),v.bundlingStatus==="unbundled"&&l.push(f)}for(var y=0,g=r?.unbundledIntegrations||[];y<g.length;y++){var b=g[y];l.includes(b)||l.push(b)}var _=(i=r?.maybeBundledConfigIds)!==null&&i!==void 0?i:{},I=[];return s.sort().forEach(function(S){var m;((m=_[S])!==null&&m!==void 0?m:[]).forEach(function(p){I.push(p)})}),r?.addBundledMetadata!==!1&&(t._metadata=w(w({},t._metadata),{bundled:s.sort(),unbundled:l.sort(),bundledIds:I})),t}var Eo=function(e,t){return A(void 0,void 0,void 0,function(){var r;return E(this,function(n){return r=function(i){return A(void 0,void 0,void 0,function(){var o;return E(this,function(a){switch(a.label){case 0:return e(i)?(o=r,[4,t()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function Io(e,t){return A(this,void 0,void 0,function(){var r,n=this;return E(this,function(i){switch(i.label){case 0:return r=[],Pe()?[2,t]:[4,Eo(function(){return t.length>0&&!Pe()},function(){return A(n,void 0,void 0,function(){var o,a,s;return E(this,function(l){switch(l.label){case 0:return o=t.pop(),o?[4,Te(o,e)]:[2];case 1:return a=l.sent(),s=a instanceof me,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return t.pushWithBackoff(o)}),[2,t]}})})}function he(e,t,r,n){var i=this;e||setTimeout(function(){return A(i,void 0,void 0,function(){var o,a;return E(this,function(s){switch(s.label){case 0:return o=!0,[4,Io(r,t)];case 1:return a=s.sent(),o=!1,t.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}function To(e){return A(this,void 0,void 0,function(){var t;return E(this,function(r){return t=navigator.userAgentData,t?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}function Po(e,t){var r,n,i,o,a=e.user();return t.previousId=(i=(n=(r=t.previousId)!==null&&r!==void 0?r:t.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),t.userId=(o=t.userId)!==null&&o!==void 0?o:t.to,delete t.from,delete t.to,t}function Oo(e,t,r){var n,i,o;return A(this,void 0,void 0,function(){function a(p){return A(this,void 0,void 0,function(){var c,u;return E(this,function(h){return Pe()?(l.push(p),he(v,l,m,he),[2,p]):(f.add(p),c=p.event.type.charAt(0),S&&p.event.context&&(p.event.context.userAgentData=S),u=qe(p.event).json(),p.event.type==="track"&&delete u.traits,p.event.type==="alias"&&(u=Po(e,u)),[2,I.dispatch("".concat(b,"/").concat(c),Ao(e,u,t,r)).then(function(){return p}).catch(function(){return l.pushWithBackoff(p),he(v,l,m,he),p}).finally(function(){f.delete(p)})])})})}var s,l,f,v,y,g,b,_,I,S,m;return E(this,function(p){switch(p.label){case 0:window.addEventListener("pagehide",function(){l.push.apply(l,Array.from(f)),f.clear()}),s=(n=t?.apiKey)!==null&&n!==void 0?n:"",l=e.options.disableClientPersistence?new Tt(e.queue.queue.maxAttempts,[]):new Dt(e.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),f=new Set,v=!1,y=(i=t?.apiHost)!==null&&i!==void 0?i:xr,g=(o=t?.protocol)!==null&&o!==void 0?o:"https",b="".concat(g,"://").concat(y),_=t?.deliveryStrategy,I=_?.strategy==="batching"?_o(y,_.config):So(_?.config),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,To(e.options.highEntropyValuesClientHints)];case 2:return S=p.sent(),[3,4];case 3:return p.sent(),S=void 0,[3,4];case 4:return m={name:"Segment.io",type:"after",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:a,identify:a,page:a,alias:a,group:a,screen:a},l.todo&&he(v,l,m,he),[2,m]}})})}function pe(e){var t,r=e.event;_n(r),Sn(r),r.type==="track"&&An(r);var n=(t=r.properties)!==null&&t!==void 0?t:r.traits;if(r.type!=="alias"&&!V(n))throw new se(".properties","is not an object");return wn(r),e}var xo={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:pe,identify:pe,page:pe,alias:pe,group:pe,screen:pe},Do=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},Zr=function(e,t,r){r.getCalls(e).forEach(function(n){Wt(t,n).catch(console.error)})},Co=function(e,t){return A(void 0,void 0,void 0,function(){var r,n,i;return E(this,function(o){switch(o.label){case 0:r=0,n=t.getCalls("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,Wt(e,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Mo=Zr.bind(void 0,"on"),Lo=Zr.bind(void 0,"setAnonymousId"),Fo=function(e,t){t.toArray().forEach(function(r){setTimeout(function(){Wt(e,r).catch(console.error)},0)})},Ro=function(){function e(){this._value={}}return e.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this._value))},e.prototype.getCalls=function(t){var r;return(r=this._value[t])!==null&&r!==void 0?r:[]},e.prototype.push=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){t._value[i.method]?t._value[i.method].push(i):t._value[i.method]=[i]}),this},e.prototype.clear=function(){return this._value={},this},e}();function Wt(e,t){return A(this,void 0,void 0,function(){var r,n;return E(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,r=e[t.method].apply(e,t.args),Do(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(r),[3,4];case 3:return n=i.sent(),t.reject(n),[3,4];case 4:return[2]}})})}var jo=function(){function e(t){var r=this;this._preInitBuffer=new Ro,this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ke,this._promise=t(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return e.prototype.then=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).then.apply(t,r)},e.prototype.catch=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).catch.apply(t,r)},e.prototype.finally=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(t=this._promise).finally.apply(t,r)},e.prototype._createMethod=function(t){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[t].apply(n,i);return Promise.resolve(a)}return new Promise(function(s,l){r._preInitBuffer.push({method:t,args:i,resolve:s,reject:l,called:!1})})}},e.prototype._createChainableMethod=function(t){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[t].apply(n,i),r):(r._preInitBuffer.push({method:t,args:i,resolve:function(){},reject:console.error,called:!1}),r)}},e}();function No(e){var t=e[0],r=e.slice(1);return{method:t,resolve:function(){},reject:console.error,args:r,called:!1}}var ko=function(e){return e.map(No)},bt=function(){var e=window.analytics;if(!Array.isArray(e))return[];var t=e.splice(0,e.length);return ko(t)},st,fr,Uo=xt(),dr=(st=(fr=Uo).__SEGMENT_INSPECTOR__)!==null&&st!==void 0?st:fr.__SEGMENT_INSPECTOR__={},$o=function(e){var t;return(t=dr.attach)===null||t===void 0?void 0:t.call(dr,e)};function qo(e,t){var r=t??Lt();return He("".concat(r,"/v1/projects/").concat(e,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(i){throw new Error(i)})}).catch(function(n){throw console.error(n.message),n})}function Bo(e){return Ur().NODE_ENV!=="test"&&Object.keys(e.integrations).length>1}function zo(e){var t,r,n;return Ur().NODE_ENV!=="test"&&((n=(r=(t=e.middlewareSettings)===null||t===void 0?void 0:t.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function Ho(e,t){t.push.apply(t,bt()),Lo(e,t),Mo(e,t)}function Ko(e,t){return A(this,void 0,void 0,function(){return E(this,function(r){switch(r.label){case 0:return t.push.apply(t,bt()),[4,Co(e,t)];case 1:return r.sent(),t.push.apply(t,bt()),Fo(e,t),t.clear(),[2]}})})}function Vo(e,t,r,n,i,o,a){var s,l,f;return o===void 0&&(o=[]),A(this,void 0,void 0,function(){var v,y,g,b,_,I,S,m,p,c,u,h,d,P,N,H=this;return E(this,function(C){switch(C.label){case 0:return v=o?.filter(function(L){return typeof L=="object"}),y=o?.filter(function(L){return typeof L=="function"&&typeof L.pluginName=="string"}),zo(t)?[4,$(()=>import("./index.CiIwfE_L.js"),__vite__mapDeps([7,2])).then(function(L){return L.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return b=C.sent(),[3,3];case 2:b=void 0,C.label=3;case 3:return g=b,Bo(t)||a.length>0?[4,$(()=>import("./index.EsNec-MD.js"),__vite__mapDeps([8,9,1,2,3,4,5])).then(function(L){return L.ajsDestinations(e,t,r.integrations,n,g,a)})]:[3,5];case 4:return I=C.sent(),[3,6];case 5:I=[],C.label=6;case 6:return _=I,t.legacyVideoPluginsEnabled?[4,$(()=>import("./index.DNA9ceDH.js"),__vite__mapDeps([10,1,2,3,4,5])).then(function(L){return L.loadLegacyVideoPlugins(r)})]:[3,8];case 7:C.sent(),C.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,$(()=>import("./index.DS-owmIT.js"),__vite__mapDeps([11,9,1,2,3,4,5])).then(function(L){var te;return L.schemaFilter((te=n.plan)===null||te===void 0?void 0:te.track,t)})]:[3,10];case 9:return m=C.sent(),[3,11];case 10:m=void 0,C.label=11;case 11:return S=m,p=fi(t,i),[4,mo(t,r.integrations,p,i.obfuscate,g,y).catch(function(){return[]})];case 12:return c=C.sent(),u=F(F(F([xo,Ei],v,!0),_,!0),c,!0),S&&u.push(S),h=((l=n.integrations)===null||l===void 0?void 0:l.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,h?[3,14]:(P=(d=u).push,[4,Oo(r,p["Segment.io"],t.integrations)]);case 13:P.apply(d,[C.sent()]),C.label=14;case 14:return[4,r.register.apply(r,u)];case 15:return N=C.sent(),Object.entries((f=t.enabledMiddleware)!==null&&f!==void 0?f:{}).some(function(L){var te=L[1];return te})?[4,$(()=>import("./index._x6AO1Ou.js"),__vite__mapDeps([12,1,2,3,4,5])).then(function(L){var te=L.remoteMiddlewares;return A(H,void 0,void 0,function(){var Qt,Zt;return E(this,function(er){switch(er.label){case 0:return[4,te(N,t,i.obfuscate)];case 1:return Qt=er.sent(),Zt=Qt.map(function(dn){return r.addSourceMiddleware(dn)}),[2,Promise.all(Zt)]}})})})]:[3,17];case 16:C.sent(),C.label=17;case 17:return[2,N]}})})}function Wo(e,t,r){var n,i,o,a,s,l,f;return t===void 0&&(t={}),A(this,void 0,void 0,function(){var v,y,g,b,_,I,S,m,p,c,u;return E(this,function(h){switch(h.label){case 0:return e.cdnURL&&li(e.cdnURL),(n=e.cdnSettings)!==null&&n!==void 0?(y=n,[3,3]):[3,1];case 1:return[4,qo(e.writeKey,e.cdnURL)];case 2:y=h.sent(),h.label=3;case 3:return v=y,t.updateCDNSettings&&(v=t.updateCDNSettings(v)),g=(o=(i=v.integrations["Segment.io"])===null||i===void 0?void 0:i.retryQueue)!==null&&o!==void 0?o:!0,b=w({retryQueue:g},t),_=new ai(e,b),$o(_),I=(a=e.plugins)!==null&&a!==void 0?a:[],S=(s=e.classicIntegrations)!==null&&s!==void 0?s:[],Dr.initRemoteMetrics(v.metrics),Ho(_,r),[4,Vo(e.writeKey,v,_,b,t,I,S)];case 4:return m=h.sent(),p=(l=window.location.search)!==null&&l!==void 0?l:"",c=(f=window.location.hash)!==null&&f!==void 0?f:"",u=p.length?p:c.replace(/(?=#).*(?=\?)/,""),u.includes("ajs_")?[4,_.queryString(u).catch(console.error)]:[3,6];case 5:h.sent(),h.label=6;case 6:return _.initialized=!0,_.emit("initialize",e,t),t.initialPageview&&_.page().catch(console.error),[4,Ko(_,r)];case 7:return h.sent(),[2,[_,m]]}})})}var Jo=function(e){z(t,e);function t(){var r=this,n=di(),i=n.promise,o=n.resolve;return r=e.call(this,function(a){return i.then(function(s){var l=s[0],f=s[1];return Wo(l,f,a)})})||this,r._resolveLoadStart=function(a,s){return o([a,s])},r}return t.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},t.load=function(r,n){return n===void 0&&(n={}),new t().load(r,n)},t.standalone=function(r,n){return t.load({writeKey:r},n).then(function(i){return i[0]})},t}(jo);const hr=document.querySelector('meta[name="analytics"]')?.content,wt=window.segment=hr?Jo.load({writeKey:hr,cdnURL:"https://analytics.cdn.v2.statmuse.com"},{integrations:{"Segment.io":{apiHost:new URL("https://analytics.api.v2.statmuse.com").host+"/v1"}}}):["identify","page","track"].reduce((e,t)=>({...e,[t]:(...r)=>console.debug(`analytics.${t}`,...r)}),{}),Yo=(e,t)=>{if(t==="native")return t;const r=hn(e);return r&&e.includes("Google")?"web.googlebot":r?"web.bot":"web"},pr=(e,t)=>t?Object.entries(t).reduce((r,[n,i])=>({...r,[`${e}.${n}`]:i}),{}):{},Go=e=>{if(!e)return{};const{questionTags:t,answerTags:r}=e;if(t?.playerIds||t?.teamIds||r?.playerIds||r?.teamIds)return{players:JSON.stringify(Array.from(new Set([...t?.playerIds?t.playerIds:[],...r?.playerIds?r.playerIds:[]]))),teams:JSON.stringify(Array.from(new Set([...t?.teamIds?t.teamIds:[],...r?.teamIds?r.teamIds:[]])))};if(t?.assetIds||r?.assetIds)return{assets:JSON.stringify(Array.from(new Set([...t?.assetIds?t.assetIds:[],...r?.assetIds?r.assetIds:[]])))}},Xo=e=>e?{subject_image:e.imageUrl,subject_background_color:e.colors?.background,subject_foreground_color:e.colors?.foreground}:{},et=e=>{const t=e.querySelector('meta[name="analytics:event:properties"]')?.content;if(t)try{const{disposition:r,tokenizationScore:n,contentReference:i,subject:o,...a}=JSON.parse(t);return{...a,...pr("disposition",r),...pr("tokenizationScore",n),...Go(i),...Xo(o),origin:Yo(navigator.userAgent,a.origin)}}catch{return}},Qo=(e,t)=>e instanceof Window&&e.history instanceof History&&e.location instanceof Location&&t.href!==e.location.href&&t.dataset.shouldRewrite==="true",Zo=(e,t,r)=>e.history.replaceState(null,t.title,r),ea=(e,t)=>{const r=t.querySelector('link[rel="canonical"]');r&&Qo(e,r)&&Zo(e,t,r.href)};function ta(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ra(e){var t=e.charAt(e.length-1),r=parseInt(e,10),n=new Date;switch(t){case"Y":n.setFullYear(n.getFullYear()+r);break;case"M":n.setMonth(n.getMonth()+r);break;case"D":n.setDate(n.getDate()+r);break;case"h":n.setHours(n.getHours()+r);break;case"m":n.setMinutes(n.getMinutes()+r);break;case"s":n.setSeconds(n.getSeconds()+r);break;default:n=new Date(e)}return n}function na(e){for(var t="",r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(/^expires$/i.test(i)){var o=e[i],a=void 0;typeof o=="object"?a=o:(o+=typeof o=="number"?"D":"",a=ra(String(o))),t+=";".concat(i,"=").concat(a.toUTCString())}else/^secure|partitioned$/.test(i)?e[i]&&(t+=";".concat(i)):t+=";".concat(i,"=").concat(e[i])}return ta(e,"path")||(t+=";path=/"),t}function ia(e,t,r,n){var i=na(n||{}),o=t,a="".concat(e,"=").concat(o).concat(i);document.cookie=a}function oa(e,t,r){return ia(e,t,null,r)}oa("tz",Intl.DateTimeFormat().resolvedOptions().timeZone,{expires:"1Y",domain:window.location.hostname,samesite:"Lax"});mn.set(document.body?.dataset?.platform==="native");const ut=et(document);if(ut){var vr=window.tude||{cmd:[]};vr.cmd.push(function(){vr.setPageTargeting({pagetype:ut.page_domain+"-"+ut.page_type})})}let Oe,ge;ge=sessionStorage.getItem("sessionId");ge||(ge=vn(),sessionStorage.setItem("sessionId",ge));let ee=Date.now(),Ue=0;const en=()=>{const e=Date.now();ee&&(Ue+=(e-ee)/1e3);const t=et(document);if(t){const{page_type:r,page_domain:n,is_search:i}=t;window.segment.track("Time On Page",{session_id:ge,time_spent:Ue,page_type:r,page_domain:n,is_search:i},Oe?{page:{referrer:Oe}}:{}),ee&&(ee=e),Ue=0}};window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&en()});window.addEventListener("blur",()=>{ee&&(Ue+=(Date.now()-ee)/1e3),ee=void 0});window.addEventListener("focus",()=>{ee=Date.now()});document.addEventListener("astro:before-swap",()=>{en(),Oe=window.location.href});document.addEventListener("astro:after-swap",()=>{const e=et(document);if(e){var t=window.tude||{cmd:[]};t.cmd.push(function(){t.setPageTargeting({pagetype:e.page_domain+"-"+e.page_type})})}});document.addEventListener("astro:page-load",async()=>{ea(window,document);const e=et(document);e&&wt.track("Pageview",{...e,session_id:ge},Oe?{page:{referrer:Oe}}:{})});document.addEventListener("astro:page-load",async()=>{try{const e=window.smHeaders,t=await fetch("/auth/session",{headers:e?JSON.parse(e):void 0}).then(r=>r.json());At.set(t),t.type==="visitor"&&wt.identify(`v:${t.properties.id}`,{origin:t.properties.origin,origin_scope:"browser"}),t.type==="user"&&wt.identify(`u:${t.properties.id}`,{origin:t.properties.origin,origin_scope:"browser"})}catch{}},{once:!0});document.addEventListener("astro:before-preparation",()=>{document.querySelectorAll(".loading").forEach(e=>e?.classList.remove("hidden")),document.querySelectorAll(".content").forEach(e=>e?.classList.add("invisible"))});document.addEventListener("astro:page-load",()=>{At.subscribe(e=>{if(e&&e.type==="user"){const t=document.querySelector(".md\\:grid-cols-\\[1fr_300px\\][data-content]"),r=document.querySelector("[data-right-column]");t&&(t.classList.add("lg:grid-cols-[1fr_300px]"),t.classList.remove("md:grid-cols-[1fr_300px]")),r&&(r.classList.add("lg:block"),r.classList.remove("md:block"))}})},{once:!0});document.addEventListener("astro:after-swap",()=>{const e=At.get();if(e&&e.type==="user"){const t=document.querySelector(".md\\:grid-cols-\\[1fr_300px\\][data-content]"),r=document.querySelector("[data-right-column]");t&&(t.classList.add("lg:grid-cols-[1fr_300px]"),t.classList.remove("md:grid-cols-[1fr_300px]")),r&&(r.classList.add("lg:block"),r.classList.remove("md:block"))}});const be="data-astro-transition-persist";function aa(e){for(const t of document.scripts)for(const r of e.scripts)if(!r.hasAttribute("data-astro-rerun")&&(!t.src&&t.textContent===r.textContent||t.src&&t.type===r.type&&t.src===r.src)){r.dataset.astroExec="";break}}function sa(e){const t=document.documentElement,r=[...t.attributes].filter(({name:n})=>(t.removeAttribute(n),n.startsWith("data-astro-")));[...e.documentElement.attributes,...r].forEach(({name:n,value:i})=>t.setAttribute(n,i))}function ua(e){for(const t of Array.from(document.head.children)){const r=fa(t,e);r?r.remove():t.remove()}document.head.append(...e.head.children)}function ca(e,t){t.replaceWith(e);for(const r of t.querySelectorAll(`[${be}]`)){const n=r.getAttribute(be),i=e.querySelector(`[${be}="${n}"]`);i&&(i.replaceWith(r),i.localName==="astro-island"&&da(r)&&!ha(r,i)&&(r.setAttribute("ssr",""),r.setAttribute("props",i.getAttribute("props"))))}}const la=()=>{const e=document.activeElement;if(e?.closest(`[${be}]`)){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){const t=e.selectionStart,r=e.selectionEnd;return()=>ct({activeElement:e,start:t,end:r})}return()=>ct({activeElement:e})}else return()=>ct({activeElement:null})},ct=({activeElement:e,start:t,end:r})=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(typeof t=="number"&&(e.selectionStart=t),typeof r=="number"&&(e.selectionEnd=r)))},fa=(e,t)=>{const r=e.getAttribute(be),n=r&&t.head.querySelector(`[${be}="${r}"]`);if(n)return n;if(e.matches("link[rel=stylesheet]")){const i=e.getAttribute("href");return t.head.querySelector(`link[rel=stylesheet][href="${i}"]`)}return null},da=e=>{const t=e.dataset.astroTransitionPersistProps;return t==null||t==="false"},ha=(e,t)=>e.getAttribute("props")===t.getAttribute("props"),pa=e=>{aa(e),sa(e),ua(e);const t=la();ca(e.body,document.body),t()},va="astro:before-preparation",ma="astro:after-preparation",ya="astro:before-swap",ga="astro:after-swap",ba=e=>document.dispatchEvent(new Event(e));class tn extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;signal;constructor(t,r,n,i,o,a,s,l,f,v){super(t,r),this.from=n,this.to=i,this.direction=o,this.navigationType=a,this.sourceElement=s,this.info=l,this.newDocument=f,this.signal=v,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0},signal:{enumerable:!0}})}}class wa extends tn{formData;loader;constructor(t,r,n,i,o,a,s,l,f,v){super(va,{cancelable:!0},t,r,n,i,o,a,s,l),this.formData=f,this.loader=v.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class _a extends tn{direction;viewTransition;swap;constructor(t,r){super(ya,void 0,t.from,t.to,t.direction,t.navigationType,t.sourceElement,t.info,t.newDocument,t.signal),this.direction=t.direction,this.viewTransition=r,this.swap=()=>pa(this.newDocument),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function Sa(e,t,r,n,i,o,a,s,l){const f=new wa(e,t,r,n,i,o,window.document,a,s,l);return document.dispatchEvent(f)&&(await f.loader(),f.defaultPrevented||(ba(ma),f.navigationType!=="traverse"&&Jt({scrollX,scrollY}))),f}function Aa(e,t){const r=new _a(e,t);return document.dispatchEvent(r),r.swap(),r}const Ea=history.pushState.bind(history),Be=history.replaceState.bind(history),Jt=e=>{history.state&&(history.scrollRestoration="manual",Be({...history.state,...e},""))},Yt=!!document.startViewTransition,Gt=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),rn=(e,t)=>e.pathname===t.pathname&&e.search===t.search;let U,ne,tt;const nn=e=>document.dispatchEvent(new Event(e)),on=()=>nn("astro:page-load"),Ia=()=>{let e=document.createElement("div");e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),e.className="astro-route-announcer",document.body.append(e),setTimeout(()=>{let t=document.title||document.querySelector("h1")?.textContent||location.pathname;e.textContent=t},60)},mr="data-astro-transition-persist",yr="data-astro-transition",_t="data-astro-transition-fallback";let gr,xe=0;history.state?(xe=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):Gt()&&(Be({index:xe,scrollX,scrollY},""),history.scrollRestoration="manual");async function Ta(e,t){try{const r=await fetch(e,t),i=(r.headers.get("content-type")??"").split(";",1)[0].trim();return i!=="text/html"&&i!=="application/xhtml+xml"?null:{html:await r.text(),redirected:r.redirected?r.url:void 0,mediaType:i}}catch{return null}}function an(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function Pa(){let e=Promise.resolve();for(const t of Array.from(document.scripts)){if(t.dataset.astroExec==="")continue;const r=t.getAttribute("type");if(r&&r!=="module"&&r!=="text/javascript")continue;const n=document.createElement("script");n.innerHTML=t.innerHTML;for(const i of t.attributes){if(i.name==="src"){const o=new Promise(a=>{n.onload=n.onerror=a});e=e.then(()=>o)}n.setAttribute(i.name,i.value)}n.dataset.astroExec="",t.replaceWith(n)}return e}const sn=(e,t,r,n,i)=>{const o=rn(t,e),a=document.title;document.title=n;let s=!1;if(e.href!==location.href&&!i)if(r.history==="replace"){const l=history.state;Be({...r.state,index:l.index,scrollX:l.scrollX,scrollY:l.scrollY},"",e.href)}else Ea({...r.state,index:++xe,scrollX:0,scrollY:0},"",e.href);if(document.title=a,tt=e,o||(scrollTo({left:0,top:0,behavior:"instant"}),s=!0),i)scrollTo(i.scrollX,i.scrollY);else{if(e.hash){history.scrollRestoration="auto";const l=history.state;location.href=e.href,history.state||(Be(l,""),o&&window.dispatchEvent(new PopStateEvent("popstate")))}else s||scrollTo({left:0,top:0,behavior:"instant"});history.scrollRestoration="manual"}};function Oa(e){const t=[];for(const r of e.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${mr}="${r.getAttribute(mr)}"], link[rel=stylesheet][href="${r.getAttribute("href")}"]`)){const n=document.createElement("link");n.setAttribute("rel","preload"),n.setAttribute("as","style"),n.setAttribute("href",r.getAttribute("href")),t.push(new Promise(i=>{["load","error"].forEach(o=>n.addEventListener(o,i)),document.head.append(n)}))}return t}async function br(e,t,r,n,i){async function o(l){function f(b){const _=b.effect;return!_||!(_ instanceof KeyframeEffect)||!_.target?!1:window.getComputedStyle(_.target,_.pseudoElement).animationIterationCount==="infinite"}const v=document.getAnimations();document.documentElement.setAttribute(_t,l);const g=document.getAnimations().filter(b=>!v.includes(b)&&!f(b));return Promise.allSettled(g.map(b=>b.finished))}if(i==="animate"&&!r.transitionSkipped&&!e.signal.aborted)try{await o("old")}catch{}const a=document.title,s=Aa(e,r.viewTransition);sn(s.to,s.from,t,a,n),nn(ga),i==="animate"&&(!r.transitionSkipped&&!s.signal.aborted?o("new").finally(()=>r.viewTransitionFinished()):r.viewTransitionFinished())}function xa(){return U?.controller.abort(),U={controller:new AbortController}}async function un(e,t,r,n,i){const o=xa();if(!Gt()||location.origin!==r.origin){o===U&&(U=void 0),location.href=r.href;return}const a=i?"traverse":n.history==="replace"?"replace":"push";if(a!=="traverse"&&Jt({scrollX,scrollY}),rn(t,r)&&(e!=="back"&&r.hash||e==="back"&&t.hash)){sn(r,t,n,document.title,i),o===U&&(U=void 0);return}const s=await Sa(t,r,e,a,n.sourceElement,n.info,o.controller.signal,n.formData,l);if(s.defaultPrevented||s.signal.aborted){o===U&&(U=void 0),s.signal.aborted||(location.href=r.href);return}async function l(y){const g=y.to.href,b={signal:y.signal};if(y.formData){b.method="POST";const S=y.sourceElement instanceof HTMLFormElement?y.sourceElement:y.sourceElement instanceof HTMLElement&&"form"in y.sourceElement?y.sourceElement.form:y.sourceElement?.closest("form");b.body=S?.attributes.getNamedItem("enctype")?.value==="application/x-www-form-urlencoded"?new URLSearchParams(y.formData):y.formData}const _=await Ta(g,b);if(_===null){y.preventDefault();return}if(_.redirected){const S=new URL(_.redirected);if(S.origin!==y.to.origin){y.preventDefault();return}y.to=S}if(gr??=new DOMParser,y.newDocument=gr.parseFromString(_.html,_.mediaType),y.newDocument.querySelectorAll("noscript").forEach(S=>S.remove()),!y.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!y.formData){y.preventDefault();return}const I=Oa(y.newDocument);I.length&&!y.signal.aborted&&await Promise.all(I)}async function f(){if(ne&&ne.viewTransition){try{ne.viewTransition.skipTransition()}catch{}try{await ne.viewTransition.updateCallbackDone}catch{}}return ne={transitionSkipped:!1}}const v=await f();if(s.signal.aborted){o===U&&(U=void 0);return}if(document.documentElement.setAttribute(yr,s.direction),Yt)v.viewTransition=document.startViewTransition(async()=>await br(s,n,v,i));else{const y=(async()=>{await Promise.resolve(),await br(s,n,v,i,an())})();v.viewTransition={updateCallbackDone:y,ready:y,finished:new Promise(g=>v.viewTransitionFinished=g),skipTransition:()=>{v.transitionSkipped=!0,document.documentElement.removeAttribute(_t)}}}v.viewTransition?.updateCallbackDone.finally(async()=>{await Pa(),on(),Ia()}),v.viewTransition?.finished.finally(()=>{v.viewTransition=void 0,v===ne&&(ne=void 0),o===U&&(U=void 0),document.documentElement.removeAttribute(yr),document.documentElement.removeAttribute(_t)});try{await v.viewTransition?.updateCallbackDone}catch(y){const g=y;console.log("[astro]",g.name,g.message,g.stack)}}async function wr(e,t){await un("forward",tt,new URL(e,location.href),t??{})}function Da(e){if(!Gt()&&e.state){location.reload();return}if(e.state===null)return;const t=history.state,r=t.index,n=r>xe?"forward":"back";xe=r,un(n,tt,new URL(location.href),{},t)}const _r=()=>{history.state&&(scrollX!==history.state.scrollX||scrollY!==history.state.scrollY)&&Jt({scrollX,scrollY})};{if(Yt||an()!=="none")if(tt=new URL(location.href),addEventListener("popstate",Da),addEventListener("load",on),"onscrollend"in window)addEventListener("scrollend",_r);else{let e,t,r,n;const i=()=>{if(n!==history.state?.index){clearInterval(e),e=void 0;return}if(t===scrollY&&r===scrollX){clearInterval(e),e=void 0,_r();return}else t=scrollY,r=scrollX};addEventListener("scroll",()=>{e===void 0&&(n=history.state.index,t=scrollY,r=scrollX,e=window.setInterval(i,50))},{passive:!0})}for(const e of document.scripts)e.dataset.astroExec=""}const cn=new Set,ze=new WeakSet;let St,ln,Sr=!1;function Ca(e){Sr||(Sr=!0,St??=e?.prefetchAll,ln??=e?.defaultStrategy??"hover",Ma(),La(),Fa(),ja())}function Ma(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,t=>{De(t.target,"tap")&&rt(t.target.href,{ignoreSlowConnection:!0})},{passive:!0})}function La(){let e;document.body.addEventListener("focusin",n=>{De(n.target,"hover")&&t(n)},{passive:!0}),document.body.addEventListener("focusout",r,{passive:!0}),Xt(()=>{for(const n of document.getElementsByTagName("a"))ze.has(n)||De(n,"hover")&&(ze.add(n),n.addEventListener("mouseenter",t,{passive:!0}),n.addEventListener("mouseleave",r,{passive:!0}))});function t(n){const i=n.target.href;e&&clearTimeout(e),e=setTimeout(()=>{rt(i)},80)}function r(){e&&(clearTimeout(e),e=0)}}function Fa(){let e;Xt(()=>{for(const t of document.getElementsByTagName("a"))ze.has(t)||De(t,"viewport")&&(ze.add(t),e??=Ra(),e.observe(t))})}function Ra(){const e=new WeakMap;return new IntersectionObserver((t,r)=>{for(const n of t){const i=n.target,o=e.get(i);n.isIntersecting?(o&&clearTimeout(o),e.set(i,setTimeout(()=>{r.unobserve(i),e.delete(i),rt(i.href)},300))):o&&(clearTimeout(o),e.delete(i))}})}function ja(){Xt(()=>{for(const e of document.getElementsByTagName("a"))De(e,"load")&&rt(e.href)})}function rt(e,t){e=e.replace(/#.*/,"");const r=t?.ignoreSlowConnection??!1;if(Na(e,r))if(cn.add(e),document.createElement("link").relList?.supports?.("prefetch")&&t?.with!=="fetch"){const n=document.createElement("link");n.rel="prefetch",n.setAttribute("href",e),document.head.append(n)}else fetch(e,{priority:"low"})}function Na(e,t){if(!navigator.onLine||!t&&fn())return!1;try{const r=new URL(e,location.href);return location.origin===r.origin&&(location.pathname!==r.pathname||location.search!==r.search)&&!cn.has(e)}catch{}return!1}function De(e,t){if(e?.tagName!=="A")return!1;const r=e.dataset.astroPrefetch;return r==="false"?!1:t==="tap"&&(r!=null||St)&&fn()?!0:r==null&&St||r===""?t===ln:r===t}function fn(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function Xt(e){e();let t=!1;document.addEventListener("astro:page-load",()=>{if(!t){t=!0;return}e()})}function ka(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function Ar(e){return e.dataset.astroReload!==void 0}(Yt||ka()!=="none")&&(document.addEventListener("click",e=>{let t=e.target;if(e.composed&&(t=e.composedPath()[0]),t instanceof Element&&(t=t.closest("a, area")),!(t instanceof HTMLAnchorElement)&&!(t instanceof SVGAElement)&&!(t instanceof HTMLAreaElement))return;const r=t instanceof HTMLElement?t.target:t.target.baseVal,n=t instanceof HTMLElement?t.href:t.href.baseVal,i=new URL(n,location.href).origin;Ar(t)||t.hasAttribute("download")||!t.href||r&&r!=="_self"||i!==location.origin||e.button!==0||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||(e.preventDefault(),wr(n,{history:t.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:t}))}),document.addEventListener("submit",e=>{let t=e.target;if(t.tagName!=="FORM"||e.defaultPrevented||Ar(t))return;const r=t,n=e.submitter,i=new FormData(r,n),o=typeof r.action=="string"?r.action:r.getAttribute("action"),a=typeof r.method=="string"?r.method:r.getAttribute("method");let s=n?.getAttribute("formaction")??o??location.pathname;const l=n?.getAttribute("formmethod")??a??"get";if(l==="dialog"||location.origin!==new URL(s,location.href).origin)return;const f={sourceElement:n??r};if(l==="get"){const v=new URLSearchParams(i),y=new URL(s);y.search=v.toString(),s=y.toString()}else f.formData=i;e.preventDefault(),wr(s,f)}),Ca({prefetchAll:!0}));export{we as C,Tt as P,A as _,E as a,$ as b,w as c,pi as d,V as e,F as f,Ka as g,Pe as h,Ha as i,Xr as j,Z as k,at as l,fi as m,Eo as n,Dt as o,En as p,Te as q,qn as r,me as s,Va as u};
//# sourceMappingURL=hoisted.BM42bi3q.js.map

</script>

</body>
</html>
