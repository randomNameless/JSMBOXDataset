<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BonreeSDK_JS.min.html</title>
</head>
<body>

<script>
var BonreeAgent=function(exports){var version="2.2.1";function c$4(){return"labels"in HTMLInputElement.prototype}function i$4(es){if(!es.isContentEditable){if("innerText"in es){let ts=es.innerText;return A$8()||(is=>{var ns=es.querySelectorAll(is);for(let rs=0;rs<ns.length;rs+=1){let ss=ns[rs];if("innerText"in ss){let as=ss.innerText;as&&0<as.trim().length&&(ts=ts.replace(as,""))}}})("script, style"),ts}return es.textContent}}function f$4(es,ts){var is=0;if(is<es.length)return ts(is)}function p$8(es,ts,is=""){var ns=es.charCodeAt(ts-1),ns=55296<=ns&&ns<=56319?ts+1:ts;return es.length<=ns?es:""+es.slice(0,ns)+is}function b$3(es){return 100<es.length?p$8(es,100)+" [...]":es}function g$a(es){return es.replace(/\s+/g," ")}function d$a(es,ts){return es.ownerDocument?es.ownerDocument.getElementById(ts):null}let m$6=[es=>{var ts;if(c$4()){if("labels"in es&&es.labels&&0<es.labels.length)return i$4(es.labels[0])}else if(es.id)return(ts=es.ownerDocument&&f$4(es.ownerDocument.querySelectorAll("label"),is=>is.htmlFor===es.id))&&i$4(ts)},es=>{if(es.nodeName==="INPUT"){var ts=es.getAttribute("type");if(ts==="button"||ts==="submit"||ts==="reset")return es.value}},es=>{if(es.nodeName==="BUTTON"||es.nodeName==="LABEL"||es.getAttribute("role")==="button")return i$4(es)},es=>es.getAttribute("aria-label"),es=>{var ts=es.getAttribute("aria-labelledby");if(ts)return ts.split(/\s+/).map(is=>d$a(es,is)).filter(is=>!!is).map(is=>i$4(is)).join(" ")},es=>es.getAttribute("alt"),es=>es.getAttribute("name"),es=>es.getAttribute("title"),es=>es.getAttribute("placeholder"),es=>{if("options"in es&&0<es.options.length)return i$4(es.options[0])}];function A$8(){return!T$7()}function T$7(){return document.documentMode}let y$6=[es=>i$4(es)],x$7=10;function s$6(es,ts){let is=es,ns=0;for(;ns<=x$7&&is&&is.nodeName!=="BODY"&&is.nodeName!=="HTML"&&is.nodeName!=="HEAD";){for(let rs of ts){let ss=rs(is);if(typeof ss=="string"){let as=ss.trim();if(as)return b$3(g$a(as))}}if(is.nodeName==="FORM")break;is=is.parentElement,ns+=1}}function getActionText(es){return s$6(es,m$6)||s$6(es,y$6)||""}var d$9=8;function hex_md5(es){return p$7(w$5(k$4(es),es.length*d$9))}function w$5(es,ts){es[ts>>5]|=128<<ts%32,es[14+(ts+64>>>9<<4)]=ts;for(var is=1732584193,ns=-271733879,rs=-1732584194,ss=271733878,as=0;as<es.length;as+=16){var os=is,ds=ns,ls=rs,cs=ss,is=v$a(is,ns,rs,ss,es[as+0],7,-680876936),ss=v$a(ss,is,ns,rs,es[as+1],12,-389564586),rs=v$a(rs,ss,is,ns,es[as+2],17,606105819),ns=v$a(ns,rs,ss,is,es[as+3],22,-1044525330);is=v$a(is,ns,rs,ss,es[as+4],7,-176418897),ss=v$a(ss,is,ns,rs,es[as+5],12,1200080426),rs=v$a(rs,ss,is,ns,es[as+6],17,-1473231341),ns=v$a(ns,rs,ss,is,es[as+7],22,-45705983),is=v$a(is,ns,rs,ss,es[as+8],7,1770035416),ss=v$a(ss,is,ns,rs,es[as+9],12,-1958414417),rs=v$a(rs,ss,is,ns,es[as+10],17,-42063),ns=v$a(ns,rs,ss,is,es[as+11],22,-1990404162),is=v$a(is,ns,rs,ss,es[as+12],7,1804603682),ss=v$a(ss,is,ns,rs,es[as+13],12,-40341101),rs=v$a(rs,ss,is,ns,es[as+14],17,-1502002290),is=f$3(is,ns=v$a(ns,rs,ss,is,es[as+15],22,1236535329),rs,ss,es[as+1],5,-165796510),ss=f$3(ss,is,ns,rs,es[as+6],9,-1069501632),rs=f$3(rs,ss,is,ns,es[as+11],14,643717713),ns=f$3(ns,rs,ss,is,es[as+0],20,-373897302),is=f$3(is,ns,rs,ss,es[as+5],5,-701558691),ss=f$3(ss,is,ns,rs,es[as+10],9,38016083),rs=f$3(rs,ss,is,ns,es[as+15],14,-660478335),ns=f$3(ns,rs,ss,is,es[as+4],20,-405537848),is=f$3(is,ns,rs,ss,es[as+9],5,568446438),ss=f$3(ss,is,ns,rs,es[as+14],9,-1019803690),rs=f$3(rs,ss,is,ns,es[as+3],14,-187363961),ns=f$3(ns,rs,ss,is,es[as+8],20,1163531501),is=f$3(is,ns,rs,ss,es[as+13],5,-1444681467),ss=f$3(ss,is,ns,rs,es[as+2],9,-51403784),rs=f$3(rs,ss,is,ns,es[as+7],14,1735328473),is=o$2(is,ns=f$3(ns,rs,ss,is,es[as+12],20,-1926607734),rs,ss,es[as+5],4,-378558),ss=o$2(ss,is,ns,rs,es[as+8],11,-2022574463),rs=o$2(rs,ss,is,ns,es[as+11],16,1839030562),ns=o$2(ns,rs,ss,is,es[as+14],23,-35309556),is=o$2(is,ns,rs,ss,es[as+1],4,-1530992060),ss=o$2(ss,is,ns,rs,es[as+4],11,1272893353),rs=o$2(rs,ss,is,ns,es[as+7],16,-155497632),ns=o$2(ns,rs,ss,is,es[as+10],23,-1094730640),is=o$2(is,ns,rs,ss,es[as+13],4,681279174),ss=o$2(ss,is,ns,rs,es[as+0],11,-358537222),rs=o$2(rs,ss,is,ns,es[as+3],16,-722521979),ns=o$2(ns,rs,ss,is,es[as+6],23,76029189),is=o$2(is,ns,rs,ss,es[as+9],4,-640364487),ss=o$2(ss,is,ns,rs,es[as+12],11,-421815835),rs=o$2(rs,ss,is,ns,es[as+15],16,530742520),is=F$3(is,ns=o$2(ns,rs,ss,is,es[as+2],23,-995338651),rs,ss,es[as+0],6,-198630844),ss=F$3(ss,is,ns,rs,es[as+7],10,1126891415),rs=F$3(rs,ss,is,ns,es[as+14],15,-1416354905),ns=F$3(ns,rs,ss,is,es[as+5],21,-57434055),is=F$3(is,ns,rs,ss,es[as+12],6,1700485571),ss=F$3(ss,is,ns,rs,es[as+3],10,-1894986606),rs=F$3(rs,ss,is,ns,es[as+10],15,-1051523),ns=F$3(ns,rs,ss,is,es[as+1],21,-2054922799),is=F$3(is,ns,rs,ss,es[as+8],6,1873313359),ss=F$3(ss,is,ns,rs,es[as+15],10,-30611744),rs=F$3(rs,ss,is,ns,es[as+6],15,-1560198380),ns=F$3(ns,rs,ss,is,es[as+13],21,1309151649),is=F$3(is,ns,rs,ss,es[as+4],6,-145523070),ss=F$3(ss,is,ns,rs,es[as+11],10,-1120210379),rs=F$3(rs,ss,is,ns,es[as+2],15,718787259),ns=F$3(ns,rs,ss,is,es[as+9],21,-343485551),is=h$a(is,os),ns=h$a(ns,ds),rs=h$a(rs,ls),ss=h$a(ss,cs)}return Array(is,ns,rs,ss)}function _$1(es,ts,is,ns,rs,ss){return h$a(C$7(h$a(h$a(ts,es),h$a(ns,ss)),rs),is)}function v$a(es,ts,is,ns,rs,ss,as){return _$1(ts&is|~ts&ns,es,ts,rs,ss,as)}function f$3(es,ts,is,ns,rs,ss,as){return _$1(ts&ns|is&~ns,es,ts,rs,ss,as)}function o$2(es,ts,is,ns,rs,ss,as){return _$1(ts^is^ns,es,ts,rs,ss,as)}function F$3(es,ts,is,ns,rs,ss,as){return _$1(is^(ts|~ns),es,ts,rs,ss,as)}function h$a(es,ts){var is=(65535&es)+(65535&ts);return(es>>16)+(ts>>16)+(is>>16)<<16|65535&is}function C$7(es,ts){return es<<ts|es>>>32-ts}function k$4(es){for(var ts=Array(),is=(1<<d$9)-1,ns=0;ns<es.length*d$9;ns+=d$9)ts[ns>>5]|=(es.charCodeAt(ns/d$9)&is)<<ns%32;return ts}function p$7(es){for(var ts="0123456789abcdef",is="",ns=0;ns<4*es.length;ns++)is+=ts.charAt(es[ns>>2]>>ns%4*8+4&15)+ts.charAt(es[ns>>2]>>ns%4*8&15);return is}let e$5={"3dm":"x-world/x-3dmf","3dmf":"x-world/x-3dmf",a:"application/octet-stream",aab:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",abc:"text/vndabc",acgi:"text/html",afl:"video/animaflex",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",aim:"application/x-aim",aip:"text/x-audiosoft-intra",ani:"application/x-navi-animation",aos:"application/x-nokia-9000-communicator-add-on-software",aps:"application/mime",arc:"application/octet-stream",arj:"application/octet-stream",art:"image/x-jg",asf:"video/x-ms-asf",asm:"text/x-asm",asp:"text/asp",asx:"application/x-mplayer2",au:"audio/x-au",avi:"video/avi",bcpio:"application/x-bcpio",bin:"application/x-macbinary",bm:"image/bmp",bmp:"image/x-windows-bmp",boo:"application/book",book:"application/book",boz:"application/x-bzip2",bsh:"application/x-bsh",bz:"application/x-bzip",bz2:"application/x-bzip2",c:"text/plain","c++":"text/plain",cat:"application/vndms-pki.seccat",cc:"text/plain",ccad:"application/clariscad",cco:"application/x-cocoa",cdf:"application/x-cdf",cer:"application/pkix-cert",cha:"application/x-chat",chat:"application/x-chat",class:"application/x-java-class",com:"application/octet-stream",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/x-c",cpt:"application/x-cpt",crl:"application/pkcs-crl",crt:"application/x-x509-ca-cert",csh:"application/x-csh",css:"application/x-pointplus",cxx:"text/plain",dcr:"application/x-director",deepv:"application/x-deepv",der:"application/x-x509-ca-cert",dif:"video/x-dv",dir:"application/x-director",dl:"video/dl",doc:"application/msword",dot:"application/msword",dp:"application/commonground",drw:"application/drafting",dump:"application/octet-stream",dv:"video/x-dv",dvi:"application/x-dvi",dwf:"model/vnd.dwf",dwg:"application/acad",dxf:"application/dxf",dxr:"application/x-director",el:"text/x-script.elisp",elc:"application/x-bytecode.elisp compiled elisp)",env:"application/x-envoy",eps:"application/postscript",es:"application/x-esrehber",etx:"text/x-setext",evy:"application/x-envoy",exe:"application/octet-stream",f:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",fdf:"application/vnd.fdf",fif:"application/fractals",fli:"video/x-fli",flo:"image/florian",flx:"text/vnd.fmi.flexstor",fmf:"video/x-atomic3d-feature",for:"text/x-fortran",fpx:"image/vnd.net-fpx",frl:"application/freeloader",funk:"audio/make",g:"text/plain",g3:"image/g3fax",gif:"image/gif",gl:"video/x-gl",gsd:"audio/x-gsm",gsm:"audio/x-gsm",gsp:"application/x-gsp",gss:"application/x-gss",gtar:"application/x-gtar",gz:"application/x-compressed",gzip:"application/x-gzip",h:"text/x-h",hdf:"application/x-hdf",help:"application/x-helpfile",hgl:"application/vnd.hp-hpgl",hh:"text/x-h",hlb:"text/x-script",hlp:"application/x-winhelp",hpg:"application/vnd.hp-hpgl",hpgl:"application/vnd.hp-hpgl",hqx:"application/binhex",hta:"application/hta",htc:"text/x-component",htm:"text/html",html:"text/html",htmls:"text/html",htt:"text/webviewhtml",htx:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",idc:"text/plain",ief:"image/ief",iefs:"image/ief",iges:"application/iges",igs:"model/iges",ima:"application/x-ima",imap:"application/x-httpd-imap",inf:"application/inf",ins:"application/x-internett-signup",ip:"application/x-ip2",isu:"video/x-isvideo",it:"audio/it",iv:"application/x-inventor",ivr:"i-world/i-vrml",ivy:"application/x-livescreen",jam:"audio/x-jam",jav:"text/x-java-source",java:"text/x-java-source",jcm:"application/x-java-commerce",jfif:"image/pjpeg","jfif-tbnl":"image/jpeg",jpe:"image/pjpeg",jpeg:"image/pjpeg",jpg:"image/pjpeg",jps:"image/x-jps",js:"application/x-javascript",jut:"image/jutvision",kar:"audio/midi",ksh:"application/x-ksh",la:"audio/x-nspaudio",lam:"audio/x-liveaudio",latex:"application/x-latex",lha:"application/octet-stream",lhx:"application/octet-stream",list:"text/plain",lma:"audio/x-nspaudio",log:"text/plain",lsp:"application/x-lisp",lst:"text/plain",lsx:"text/x-la-asf",ltx:"application/x-latex",lzh:"application/octet-stream",lzx:"application/octet-stream",m:"text/x-m",m1v:"video/mpeg",m2a:"audio/mpeg",m2v:"video/mpeg",m3u:"audio/x-mpequrl",man:"application/x-troff-man",map:"application/x-navimap",mar:"text/plain",mbd:"application/mbedlet",mc$:"application/x-magic-cap-package-1.0",mcd:"application/x-mathcad",mcf:"text/mcf",mcp:"application/netmc",me:"application/x-troff-me",mht:"message/rfc822",mhtml:"message/rfc822",mid:"application/x-midi",midi:"application/x-midi",mif:"application/x-mif",mime:"www/mime",mjf:"audio/x-vnd.audioexplosion.mjuicemediafile",mjpg:"video/x-motion-jpeg",mm:"application/x-meme",mod:"audio/x-mod",moov:"video/quicktime",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/x-mpeg",mp3:"audio/x-mpeg-3",mpa:"audio/mpeg",mpc:"application/x-project",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",mpp:"application/vnd.ms-project",mpt:"application/x-project",mpv:"application/x-project",mpx:"application/x-project",mrc:"application/marc",ms:"application/x-troff-ms",mv:"video/x-sgi-movie",my:"audio/make",mzz:"application/x-vnd.audioexplosion.mzz",nap:"image/naplps",naplps:"image/naplps",nc:"application/x-netcdf",ncm:"application/vnd.nokia.configuration-message",nif:"image/x-niff",niff:"image/x-niff",nix:"application/x-mix-transfer",nsc:"application/x-conference",nvd:"application/x-navidoc",o:"application/octet-stream",oda:"application/oda",omc:"application/x-omc",omcd:"application/x-omcdatamaker",omcr:"application/x-omcregerator",p:"text/x-pascal",p10:"application/x-pkcs10",p12:"application/x-pkcs12",p7a:"application/x-pkcs7-signature",p7c:"application/x-pkcs7-mime",p7m:"application/x-pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/pkcs7-signature",part:"application/pro_eng",pas:"text/pascal",pbm:"image/x-portable-bitmap",pcl:"application/x-pcl",pcx:"image/x-pcx",pdb:"chemical/x-pdb",pdf:"application/pdf",pfunk:"audio/make.my.funk",pgm:"image/x-portable-greymap",pic:"image/pict",pict:"image/pict",pkg:"application/x-newton-compatible-pkg",pko:"application/vnd.ms-pki.pko",pl:"text/x-script.perl",plx:"application/x-pixclscript",pm:"text/x-script.perl-module",pm4:"application/x-pagemaker",pm5:"application/x-pagemaker",png:"image/png",pnm:"application/x-portable-anymap",pot:"application/mspowerpoint",pov:"model/x-pov",ppa:"application/vnd.ms-powerpoint",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppt:"application/powerpoint",ppz:"application/mspowerpoint",pre:"application/x-freelance",prt:"application/pro_eng",ps:"application/postscript",psd:"application/octet-stream",pvu:"paleovu/x-pv",pwz:"application/vnd.ms-powerpoint",py:"text/x-script.phyton",pyc:"application/x-bytecode.python",qcp:"audio/vnd.qcelp",qd3:"x-world/x-3dmf",qd3d:"x-world/x-3dmf",qif:"image/x-quicktime",qt:"video/quicktime",qtc:"video/x-qtc",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-realaudio",ram:"audio/x-pn-realaudio",ras:"application/x-cmu-raster",rast:"image/cmu-raster",rexx:"text/x-script.rexx",rf:"image/vnd.rn-realflash",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",rmm:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",rng:"application/vnd.nokia.ringing-tone",rnx:"application/vnd.rn-realplayer",roff:"application/x-troff",rp:"image/vnd.rn-realpix",rpm:"audio/x-pn-realaudio-plugin",rt:"text/vnd.rn-realtext",rtf:"application/x-rtf",rtx:"application/rtf",rv:"video/vnd.rn-realvideo",s:"text/x-asm",s3m:"audio/s3m",saveme:"application/octet-stream",sbk:"application/x-tbook",scm:"application/x-lotusscreencam",sdml:"text/plain",sdp:"application/x-sdp",sdr:"application/sounder",sea:"application/x-sea",set:"application/set",sgm:"text/x-sgml",sgml:"text/x-sgml",sh:"application/x-sh",shar:"application/x-shar",shtml:"text/x-server-parsed-html",sid:"audio/x-psid",sit:"application/x-sit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",sl:"application/x-seelogo",smi:"application/smil",smil:"application/smil",snd:"audio/x-adpcm",sol:"application/solids",spc:"application/x-pkcs7-certificates",spl:"application/futuresplash",spr:"application/x-sprite",sprite:"application/x-sprite",src:"application/x-wais-source",ssi:"text/x-server-parsed-html",ssm:"application/streamingmedia",sst:"application/vnd.ms-pki.certstore",step:"application/step",stl:"application/vnd.ms-pki.stl",stp:"application/step",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svf:"image/x-dwg",svr:"application/x-world",swf:"application/x-shockwave-flash",t:"application/x-troff",talk:"text/x-speech",tar:"application/x-tar",tbk:"application/toolbook",tcl:"application/x-tcl",tcsh:"text/x-script.tcsh",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"application/plain",tgz:"application/gnutar",tif:"image/x-tiff",tiff:"image/x-tiff",tr:"application/x-troff",tsi:"audio/tsp-audio",tsp:"application/dsptype",tsv:"text/tab-separated-values",turbot:"image/florian",txt:"text/plain",uil:"text/x-uil",uni:"text/uri-list",unis:"text/uri-list",unv:"application/i-deas",uri:"text/uri-list",uris:"text/uri-list",ustar:"application/x-ustar",uu:"application/octet-stream",uue:"text/x-uuencode",vcd:"application/x-cdlink",vcs:"text/x-vcalendar",vda:"application/vda",vdo:"video/vdo",vew:"application/groupwise",viv:"video/vivo",vivo:"video/vivo",vmd:"application/vocaltec-media-desc",vmf:"application/vocaltec-media-file",voc:"audio/x-voc",vos:"video/vosaic",vox:"audio/voxware",vqe:"audio/x-twinvq-plugin",vqf:"audio/x-twinvq",vql:"audio/x-twinvq-plugin",vrml:"application/x-vrml",vrt:"x-world/x-vrt",vsd:"application/x-visio",vst:"application/x-visio",vsw:"application/x-visio",w60:"application/wordperfect6.0",w61:"application/wordperfect6.1",w6w:"application/msword",wav:"audio/x-wav",wb1:"application/x-qpro",wbmp:"image/vnd.wap.wbmp",web:"application/vnd.xara",wiz:"application/msword",wk1:"application/x-123",wmf:"windows/metafile",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",word:"application/msword",wp:"application/wordperfect",wp5:"application/wordperfect",wp6:"application/wordperfect",wpd:"application/wordperfect",wq1:"application/x-lotus",wri:"application/x-wri",wrl:"application/x-world",wrz:"model/vrml",wsc:"text/scriplet",wsrc:"application/x-wais-source",wtk:"application/x-wintalk",xbm:"image/x-xbitmap",xdr:"video/x-amt-demorun",xgz:"xgl/drawing",xif:"image/vnd.xiff",xl:"application/excel",xla:"application/x-msexcel",xlb:"application/x-excel",xlc:"application/x-excel",xld:"application/x-excel",xlk:"application/x-excel",xll:"application/x-excel",xlm:"application/x-excel",xls:"application/excel",xlt:"application/excel",xlv:"application/x-excel",xlw:"application/vnd.ms-excel",xm:"audio/xm",xml:"application/xml",xmz:"xgl/movie",xpix:"application/x-vnd.ls-xpix",xpm:"image/x-xpixmap","x-png":"image/png",xsr:"video/x-amt-showrun",xwd:"image/x-xwindowdump",xyz:"chemical/x-pdb",z:"application/x-compressed",zip:"multipart/x-zip",zoo:"application/octet-stream",zsh:"text/x-script.zsh"};function getMineTypeByHeader(es,ts="text/html"){return isEmpty(es)?ts:(es["Content-Type"]||es["content-type"]||ts).split(";")[0].trim()}function getMineTypeByUrl(es){var ts="text/html";return isEmpty(es)?ts:l$4(c$3(es),ts)}function c$3(es){if(isEmpty(es))return"";let ts="",is=es.lastIndexOf(".");if(is!=-1){let ns=es.indexOf("?",is);ns==-1&&(ns=es.length),ts=es.substring(is+1,ns)}return ts}function l$4(es,ts){return isEmpty(es)||isEmpty(es=e$5[es])?ts:es}function getRandom(es){return es<0?NaN:es<=30?0|Math.random()*(1<<es):es<=53?(0|Math.random()*1073741824)+(0|Math.random()*(1<<es-30))*1073741824:NaN}function t(es,ts){for(var is=es.toString(16),ns=ts-is.length,rs="0";0<ns;ns>>>=1,rs+=rs)1&ns&&(is=rs+is);return is}function uuid(){return t(getRandom(32),8)+"-"+t(getRandom(16),4)+"-"+t(16384|getRandom(12),4)+"-"+t(32768|getRandom(14),4)+"-"+t(getRandom(48),12)}function uuidWithLength(es){return es==16?t(getRandom(32),8)+t(getRandom(32),8):es==32?t(getRandom(32),8)+t(getRandom(32),8)+t(getRandom(32),8)+t(getRandom(32),8):void 0}function skyUuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,es=>{var ts=16*Math.random()|0;return(es==="x"?ts:3&ts|8).toString(16)})}function buildViewID(){return Date.now().toString(36)+Math.ceil(1e3*Math.random()).toString(16)}function enBase64(es){for(var ts=[],is=0,ns=(es=new TextEncoder().encode(es)).length;is<ns;is+=4096)ts.push(String.fromCharCode.bind(String).apply(null,es.subarray(is,is+4096)));return btoa(ts.join(""))}function traceId(){return"00-"+t(getRandom(32),8)+t(getRandom(32),8)+t(getRandom(32),8)+t(getRandom(32),8)+"-"+t(getRandom(32),8)+t(getRandom(32),8)+"-00"}var $global=window||{};function isDefined(es){return es!=null}function log(es,ts){(ts||isDefined(window.BonreeAgent)&&isDefined(window.BonreeAgent.isDebuge)||isDefined(window.BonreeClient)&&isDefined(window.BonreeClient.isDebuge))&&isDefined(window.console)&&(window.console.$bonree=!0,console.log(es),window.console.$bonree=!1)}function extend(es,ts){return es&&ts&&forEachOwn(ts,function(is,ns){es[ns]=is}),es}function isString(es){return typeof es=="string"}function isJSON(es){if(isString(es))try{var ts=JSON.parse(es);return!(typeof ts!="object"||!ts)}catch(is){return!1}}function NIL_FN(){}function hasOwnProperty(es,ts){return es&&Object.prototype.hasOwnProperty.call(es,ts)}function isObject(es){return typeof es=="object"}function overwrite(es,ts){return es&&ts&&forEachOwn(ts,function(is,ns){hasOwnProperty(es,ns)&&(es[ns]=is)}),es}function forEachOwn(es,ts,is){if(isDefined(es)){for(var ns in es)if(hasOwnProperty(es,ns)){var rs=es[ns];try{if(ts(rs,ns)===!1)break}catch(ss){}}is&&is()}}function isFunction(es){return typeof es=="function"}function isArray(es){return isDefined(es)&&es instanceof Array}function forEach(es,ts,is){(isArray(es)?forEachArray:forEachOwn)(es,ts,is)}function forEachArray(es,ts,is){if(isArray(es)){for(var ns=0,rs=es.length;ns<rs&&ts(es[ns],ns)!==!1;ns++);is&&is()}}function bind(es,ts){return function(){return es.apply(ts,arguments)}}function isEmpty(es){if(isDefined(es)){if(hasOwnProperty(es,"length"))return!es.length;if(hasOwnProperty(es,"size"))return!es.size;for(var ts in es)if(hasOwnProperty(es,ts))return}return 1}function setCookie(es,ts,is){try{var ns=es+"="+ts;isDefined((is=is||{}).domain)&&(ns+=";domain="+is.domain),isDefined(is.path)&&(ns+=";path="+is.path),isDefined(is.expires)&&(typeof is.expires=="string"?ns+=";expires="+is.expires:ns+=";expires="+is.expires.toUTCString()),document.cookie=ns,window.sessionStorage&&window.sessionStorage.setItem(es,ts),window.localStorage&&window.localStorage.setItem(es,ts)}catch(rs){log("C107")}}function getCookie(es){try{var ts=document.cookie.split(/;\s?/);if(!document.cookie)return getSession(es)||"";for(var is=0,ns=ts.length;is<ns;is++){var rs=ts[is].split("=");if(rs[0]===es)return rs[1]}}catch(ss){return log("C108"),""}}function getSession(es){let ts="";return ts=window.sessionStorage?window.sessionStorage.getItem(es)||"":getLocaStore(es)||""}function getLocaStore(es){let ts="";return ts=window.localStorage?window.localStorage.getItem(es)||"":ts}function setLocalStore(es,ts){window.localStorage&&window.localStorage.setItem(es,ts)}function isReadable(es){return isDefined(es)&&!isEmpty(es)}function dateNow(){return Date.now?Date.now():new Date().getTime()}var nowtime=function(){var es=dateNow();return function(ts){var is;return isDefined($global.performance)&&isDefined($global.performance.now)&&isDefined($global.performance.timing)?[1e3*(is=ts===0?0:Math.round($global.performance.now())),1e3*(is+$global.performance.timing.navigationStart)]:[1e3*((is=ts===0?es:dateNow())-es),1e3*is]}}();function now(es){return nowtime(es)[1]}function tillNow(es){return nowtime(es)[0]}function getTime(){var es=nowtime();return{startTime:es[0],timestamp:es[1]}}function args(es){return isDefined(es.length)?Array.prototype.slice.call(es):es}function map(es,ts){var is=[];return forEach(es,function(ns,rs){ns=ts&&ts(ns,rs),isDefined(ns)&&is.push(ns)}),is}var getFixedMetric=function(es,ts){return es=es[ts],isDefined(es)&&0<es?Math.round(es):0},getContentSize=function(es){return isDefined(es)?window.ArrayBuffer&&es instanceof ArrayBuffer?es.byteLength:window.Blob&&es instanceof Blob?es.size:es.toJSON?stringify(es.toJSON()).length:es.length||0:0},getRequestParam=function(es){if(!isDefined(es))return"";var ts="";if(typeof es=="string")ts=es;else if(window.FormData&&es instanceof FormData){var is={};try{forEach(iterate(es.entries()),function(ss){var rs=ss[0],ss=ss[1];window.File&&ss instanceof File?0<ss.size&&(is[rs]="[File]"+(ss.name?" "+ss.name:"")):is[rs]=ss})}catch(ns){is={},log("C145")}ts="[FormData] "+stringify(is)}else{if(window.Blob&&es instanceof Blob)return"[Blob]";if(window.ArrayBuffer&&es instanceof ArrayBuffer)return"[ArrayBuffer]";if(es.toJSON)ts=stringify(es.toJSON());else{if(!es.toString)return"[unknown]";ts=es.toString()}}return withLength(ts,2e3)};function getIP(es){return es?(es=es.split("?")[0],/(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\:([0-9]{1,5})/.test(es)?[RegExp.$1+`.${RegExp.$2}.${RegExp.$3}.`+RegExp.$4,Number(RegExp.$5)]:/\:([0-9]{1,5})/.test(es)?["",Number(RegExp.$1)]:-1<es.indexOf("https")?["",443]:["",80]):["",""]}function getUrl(es=""){return window.location.protocol==="file:"&&!startWith(es,"http")||isDefined(es)&&es.indexOf("http")===0?es:/^\/{2}/.test(es)?window&&window.location.protocol+es||"http:"+es:/^\?/.test(es)?window&&window.location.origin+window.location.pathname+es||es:/^\/{1}/.test(es)?window&&window.location.origin+es||es:isDefined(es)&&window&&window.location.origin+"/"+es||es}var stringify=isDefined($global.JSON)?$global.JSON.stringify:function(es){var ts,is,ns=typeof es;return ns=="undefined"?'"undefined"':ns=="boolean"?es?"true":"false":ns=="number"?es.toString():ns=="string"?'"'+(ts=es.replace(/(["\\])/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"))+'"':ns=="object"?es?es instanceof Array?(ts="[",forEach(es,function(rs,ss){0<ss&&(ts+=","),ts+=stringify(rs)}),ts+="]"):(ts="{",is=0,forEachOwn(es,function(rs,ss){0<is&&(ts+=","),ts+=stringify(ss)+":"+stringify(rs),is++}),ts+="}"):"null":"[none]"};function addListener(es,ts,is,ns){es&&es.addEventListener&&es.addEventListener(ts,is,ns)}function on$2(es,ts,is,ns){if(es&&es.addEventListener)return es.addEventListener(ts,is,ns);es&&es.attachEvent&&es.attachEvent("on"+ts,is)}function delay(es,ts){return es.$$original=!0,setTimeout(es,isDefined(ts)?ts:0)}function last(es){if(isArray(es)&&!isEmpty(es))return es[es.length-1]}var unicode=function(es){for(var ts="",is=0;is<es.length;is++)ts+="\\u"+("0000"+es.charCodeAt(is).toString(16)).slice(-4);return ts},hack=function(es,ts,is,ns){var rs;return(es=isDefined(es)?es:function(){}).$$original?es:((rs=function(){var ss,as=args(arguments);try{return isDefined(ts)&&ts.apply(this,as),es.apply(this,as)}catch(os){isDefined(ns)?ns.apply(this,as.concat(os)):(ss=os,isDefined(window.console)&&(window.console.$bonree=!0,(isDefined(window.console.error)?window.console.error(ss):NIL_FN)(ss),window.console.$bonree=!1))}finally{if(isDefined(is)&&is.apply(this,as),as&&as[0]&&as[0]instanceof Error&&es&&es.name!=="error")throw as[0]}}).$$original=es,rs)},xpath=function(es){if(!es)return"";var ts=es.id;if(ts)return'//*[@id="'+ts+'"]';for(var is=[],ns=es;ns;){var rs=ns.tagName&&ns.tagName.toLowerCase&&ns.tagName.toLowerCase()||null;if(!rs)break;var ss=ns.parentElement&&ns.parentElement||null;if(!isDefined(ss)){is.unshift(rs);break}for(var as=ss.children,os=as.length,ds=0,ls=0,cs=0;cs<os;cs++){var fs=as[cs];if(fs.tagName.toLowerCase()===rs&&(ls++,0<ds))break;fs===ns&&(ds=ls)}is.unshift(ls===1?rs:rs+"["+ds+"]"),ns=ss}return"/"+is.join("/")},prop=function(es,ts){return isDefined(es)&&hasOwnProperty(es,ts)?es[ts]:null};function includes(es,ts){for(let is=0,ns=es.length;is<ns;++is)if(es[is]===ts)return!0;return!1}function isObj(es){return typeof es=="object"}function getUserAgent(){try{var es={Chrome:/Chrome/,IE:/MSIE/,Firefox:/Firefox/,Opera:/Presto/,Safari:/Version\/([\d.]+).*Safari/,360:/360SE/,QQBrowswe:/QQ/},ts={iPhone:/iPhone/,iPad:/iPad/,Android:/Android/,Windows:/Windows/,Mac:/Macintosh/},is=navigator&&navigator.userAgent;if(!is)return null;var ns,rs,ss={browserName:"",browserVersion:"",osName:"",osVersion:"",deviceName:""};for(ns in es)es[ns].test(is)&&(ss.browserName=ns,ns==="Chrome"?ss.browserVersion=is.split("Chrome/")[1].split(" ")[0]:ns==="IE"?ss.browserVersion=is.split("MSIE ")[1].split(" ")[1]:ns==="Firefox"?ss.browserVersion=is.split("Firefox/")[1]:ns==="Opera"?ss.browserVersion=is.split("Version/")[1]:ns==="Safari"?ss.browserVersion=is.split("Version/")[1].split(" ")[0]:ns==="360"?ss.browserVersion="":ns==="QQBrowswe"&&(ss.browserVersion=is.split("Version/")[1].split(" ")[0]));for(rs in ts)ts[rs].test(is)&&(ss.osName=rs,rs==="Windows"?ss.osVersion=is.split("Windows NT ")[1].split(";")[0]:rs==="Mac"?ss.osVersion=is.split("Mac OS X ")[1].split(")")[0]:rs==="iPhone"?ss.osVersion=is.split("iPhone OS ")[1].split(" ")[0]:rs==="iPad"?ss.osVersion=is.split("iPad; CPU OS ")[1].split(" ")[0]:rs==="Android"&&(ss.osVersion=is.split("Android ")[1].split(";")[0],ss.deviceName=is.split("(Linux; Android ")[1].split("; ")[1].split(" Build")[0]));return ss}catch(as){log("C123")}}function getElementForNum(es,ts){var is;return isObj(es)?(is={},Object.keys(es).map((ns,rs)=>{rs<=ts&&(is[ns]=es[ns])}),is):{}}function iterate(es){var ts=[];if(isDefined(es)&&isDefined(es.next))for(var is=es.next();!is.done;)ts.push(is.value),is=es.next();return ts}function readBytesFromStream(es,ts,is){if(es.getReader){let os=function(){var ds;rs.cancel().catch(noop);{let ls;if(ss.length===1)ls=ss[0];else{ls=new Uint8Array(as);let cs=0;ss.forEach(fs=>{ls.set(fs,cs),cs+=fs.length})}return ds=ls.slice(0,ts.bytesLimit),ls.length,ts.bytesLimit,ds.length}};var ns=os;let rs=es.getReader(),ss=[],as=0;(function ds(){rs.read().then(ls=>{var cs;ls.done?(cs=os(),is(cs)):(ss.push(ls.value),(as+=ls.value.length)>ts.bytesLimit?(cs=os(),is(cs)):ds())})})()}}function noop(){}function tryToClone(es){try{return es.clone()}catch(ts){}}function set_64_keys(data,emit){var reData={},keys;if(isDefined(data)){if(typeof data=="string"&&data!==""){if(data=eval("("+data+")"),!isJSON(data))return data;data=JSON.parse(data)}return typeof data!="object"?data:(keys=Object.keys(data),keys.length>emit?(keys=keys.slice(0,emit),keys.forEach(function(es){reData[es]=data[es]}),reData):data)}return reData}function filter(es,ts){var is=[];return forEach(es,function(ns,rs){ts&&ts(ns,rs)===!0&&is.push(ns)}),is}function setDeviceForLog(es){window.bonreeRUM&&es&&(window.bonreeRUM.fingerId=es)}function size(es){if(es){if(typeof es=="string")return strSize(es);if(es instanceof ArrayBuffer)return es.byteLength;if(isObject(es)){let ts="";try{ts=JSON.stringify(es)}catch(is){}return strSize(ts)}}return 0}function strSize(es){let ts=0;for(let ns=0,rs=es.length;ns<rs;ns++){var is=es.charCodeAt(ns);ts+=is<=127?1:is<=2047?2:is<=65535?3:4}return ts}function trim(es){return es?String.prototype.trim?String.prototype.trim.call(es):es.toString().replace(/(^\s+)|(\s+$)/g,""):""}function startWith(es,ts){return es&&es.indexOf&&es.indexOf(ts)===0}function endWith(es,ts){return!!areUrlsEqual(es,ts)||!!(es&&ts&&es.length>=ts.length)&&(es.slice(-1)==="/"&&(ts+="/"),es.substring(es.length-ts.length)===ts)}function areUrlsEqual(es,ts){try{var is=new URL(es),ns=new URL(ts);return is.protocol===ns.protocol&&is.host===ns.host&&is.pathname===ns.pathname&&is.search===ns.search&&is.hash===ns.hash}catch(rs){}}function withLength(es,ts){try{return es?es.length<=ts?es:es.substr(0,ts-3)+"...":""}catch(is){return"The data cannot be parsed normally, please handle it manually"}}function toUpper(es,ts){return isDefined(ts)||(ts=""),es&&es.toUpperCase?es.toUpperCase():ts}function toLower(es,ts){return isDefined(ts)||(ts=""),es&&es.toLowerCase?es.toLowerCase():ts}var stringify=isDefined(window.JSON)?window.JSON.stringify:function(es){var ts,is,ns=typeof es;return ns=="undefined"?'"undefined"':ns=="boolean"?es?"true":"false":ns=="number"?es.toString():ns=="string"?'"'+(ts=es.replace(/(["\\])/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"))+'"':ns=="object"?es?es instanceof Array?(ts="[",forEach(es,function(rs,ss){0<ss&&(ts+=","),ts+=stringify(rs)}),ts+="]"):(ts="{",is=0,forEachOwn(es,function(rs,ss){0<is&&(ts+=","),ts+=stringify(ss)+":"+stringify(rs),is++}),ts+="}"):"null":"[none]"};function toString(es){return typeof es=="string"?es:JSON.stringify(es)}function set_length(es,ts){return es&&(es.length>ts?es.slice(0,ts):es)}function getDataSize(es,ts){return typeof es!="string"&&(es=JSON.stringify(es)),es=new Blob([es]).size/1048576,isDefined(ts)?es<ts:es}function isNumber(es){return typeof es=="number"&&!isNaN(es)}function isRightTimestamp(es){return isNumber(es)&&isFinite(es)&&0<=es}function i$3(es,ts){return es=JSON.parse(es),es.k=ts,es}function checkMoudle(es){return isDefined(f$2.secondSett)&&isDefined(f$2.secondSett.mn)&&f$2.secondSett.mn.indexOf(es)!==-1}let v$9={addAtt:function(es){try{var ts=f$2.secondSett;if(!getDataSize(es,5))return!1;S$6(ts.osType)?window.webkit.messageHandlers.brsWKAddEventAttributes.postMessage(stringify(es)):w$4(ts.osType)||window.bonreePrivateInterface.addEventAttribute(stringify(es))}catch(is){}},delAtt:function(es){try{var ts=f$2.secondSett;if(!getDataSize(es,5))return!1;S$6(ts.osType)?window.webkit.messageHandlers.brsWKRemoveEventAttributes.postMessage(stringify(es)):w$4(ts.osType)||window.bonreePrivateInterface.removeEventAttribute(stringify(es))}catch(is){}},delAttAll:function(){try{var es=f$2.secondSett;S$6(es.osType)?window.webkit.messageHandlers.brsWKRemoveAllEventAttributes.postMessage(""):w$4(es.osType)||window.bonreePrivateInterface.removeAllEventAttributes()}catch(ts){}},setUserProperty:function(es){try{var ts=f$2.secondSett;if(!getDataSize(es,5))return!1;S$6(ts.osType)?window.webkit.messageHandlers.brsWKUserChangeEvent.postMessage(es):w$4(ts.osType)||window.bonreePrivateInterface.webViewEventBus(stringify({userchange:[i$3(es,"userchange")]}),ts.webviewID)}catch(is){}},shadeArea:function(es,ts){try{var is={sensitiveInfos:{masks:es}};if(!getDataSize(is,5))return!1;S$6(ts.osType)?window.webkit.messageHandlers.brsWKSensitiveInfos.postMessage(stringify(is)):w$4(ts.osType)||window.bonreePrivateInterface.webViewEventBus(stringify(is),ts.webviewID)}catch(ns){}},log:function(es,ts){if(!getDataSize(es,5))return!1;try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKLog.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({log:es})):window.bonreePrivateInterface.log(es)}catch(is){}},webviewPerformanceTimingEvent:function(es,ts,is){if(!getDataSize(es,5))return!1;if(checkMoudle("h5")){this.log("webviewPerformanceTimingEvent=>"+es,ts);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKWebviewPerformanceTimingEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({h5:[i$3(es,"h5")],imd:is})):window.bonreePrivateInterface.webViewEventBus(stringify({h5:[i$3(es,"h5")],imd:is}),ts.webviewID)}catch(ns){}}},webviewJSErrorEvent:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("jserror")){this.log("webviewJSErrorEvent=>"+es,ts);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKWebviewJSErrorEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({jserror:[i$3(es,"jserror")]})):window.bonreePrivateInterface.webViewEventBus(stringify({jserror:[i$3(es,"jserror")]}),ts.webviewID)}catch(is){}}},NetworkEvent:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("network")){this.log("NetworkEvent=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKAjaxPerformanceTimingEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({network:[i$3(es,"network")]})):window.bonreePrivateInterface.webViewEventBus(stringify({network:[i$3(es,"network")],imd:2}),ts.webviewID)}catch(is){}}},webviewActionEvent:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("action")){this.log("webviewActionEvent=>"+es,ts);var is=JSON.parse(es);try{S$6(ts.osType)?(isDefined(is.v.ice)?is.v.isa=!0:is.v.isa=!1,window.webkit.messageHandlers.brsWKWebviewActionEvent.postMessage(stringify(is))):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({action:[i$3(es,"action")]})):window.bonreePrivateInterface.webViewEventBus(stringify({action:[i$3(es,"action")]}),ts.webviewID)}catch(ns){}}},webviewPageEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("webviewPageEvent=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKWebviewPageEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({view:[i$3(es,"view")]})):window.bonreePrivateInterface.webViewEventBus(stringify({view:[i$3(es,"view")]}),ts.webviewID)}catch(is){}},routeChangeData:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("routechange")){this.log("routeChangeData=>"+es,ts);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKRouteChangeEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({routechange:[i$3(es,"routechange")]})):window.bonreePrivateInterface.webViewEventBus(stringify({routechange:[i$3(es,"routechange")]}),ts.webviewID)}catch(is){}}},consoleEvent:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("console")){this.log("consoleData=>",es,ts);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKConsoleEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({console:[i$3(es,"console")]})):window.bonreePrivateInterface.webViewEventBus(stringify({console:[i$3(es,"console")]}),ts.webviewID)}catch(is){}}},spanEvent:function(es,ts){if(!getDataSize(es,5))return!1;if(checkMoudle("span")){this.log("spanData=>"+es,ts);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKSpanEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({span:[i$3(es,"span")]})):window.bonreePrivateInterface.webViewEventBus(stringify({span:[i$3(es,"span")]}),ts.webviewID)}catch(is){}}},customLogEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("setCustomLog=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKSetCustomLog.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({customlog:[i$3(es,"customlog")]})):window.bonreePrivateInterface.webViewEventBus(stringify({customlog:[i$3(es,"customlog")]}),ts.webviewID)}catch(is){}},customMetricEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("setCustomMetric=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKSetCustomMetric.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({custommetric:[i$3(es,"custommetric")]})):window.bonreePrivateInterface.webViewEventBus(stringify({custommetric:[i$3(es,"custommetric")]}),ts.webviewID)}catch(is){}},customExceptionEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("setCustomException=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKSetCustomException.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({crash:[i$3(es,"crash")]})):window.bonreePrivateInterface.webViewEventBus(stringify({crash:[i$3(es,"crash")]}),ts.webviewID)}catch(is){}},customSpeedTestEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("speedTest=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKsetCustomSpeedTest.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({speedtest:[i$3(es,"speedtest")]})):window.bonreePrivateInterface.webViewEventBus(stringify({speedtest:[i$3(es,"speedtest")]}),ts.webviewID)}catch(is){}},customEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("setCustomEvent=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKsetCustomEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({customevent:[i$3(es,"customevent")]})):window.bonreePrivateInterface.webViewEventBus(stringify({customevent:[i$3(es,"customevent")]}),ts.webviewID)}catch(is){}},MainDocumentNetworkEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("MainDocumentNetworkEvent=>"+es);try{var is;S$6(ts.osType)?((is=JSON.parse(es)).imd=1,window.webkit.messageHandlers.brsWKMainDocumentNetworkEvent.postMessage(stringify(is))):w$4(ts.osType)?window.bonreePrivateInterface.call(stringify({network:[i$3(es,"network")],imd:1})):window.bonreePrivateInterface.webViewEventBus(stringify({network:[i$3(es,"network")],imd:1}),ts.webviewID)}catch(ns){}},ResourceNetworkEvent:function(es,ts){if(!getDataSize(es,5))return!1;this.log("ResourceNetworkEvent=>"+es);try{S$6(ts.osType)?window.webkit.messageHandlers.brsWKResourceNetworkEvent.postMessage(es):w$4(ts.osType)?window.bonreePrivateInterface.call(es):window.bonreePrivateInterface.webViewEventBus(es,ts.webviewID)}catch(is){}}};function a$5(es,ts){let is=null;return is=(is=es.Zone&&typeof es.Zone.__symbol__=="function"?es[es.Zone.__symbol__(ts)]:is)||es[ts]}function getMutationObserver(){let es=null;var ts;return window.Zone&&(es=a$5(window,"MutationObserver")),window.MutationObserver&&es===window.MutationObserver&&(ts=a$5(new window.MutationObserver(function(){}),"originalInstance"),es=ts&&ts.constructor),es=es||window.MutationObserver}class PageActivityManager{constructor(ts){this.mutationRecord=[],this.performanceRecord=[],this.record=!1,this.unlocked=!0,window.PerformanceObserver&&(this.PerformanceObserver=new PerformanceObserver(rs=>{var rs=rs.getEntries(),ss=isDefined(window.$bonreeReplayUrl)?window.$bonreeReplayUrl:null;rs.some(as=>as.entryType==="resource")&&this.record&&(this.performanceRecord.push(now()),isDefined(ts))&&ts(rs.filter(function(as){return as.entryType==="resource"&&!d$8([f$2.sett.uploadAddrHttp,f$2.sett.uploadAddrHttps,ss],as.name.split("?")[0])}))}));var is=getMutationObserver();isDefined(is)&&(this.mutationObserver=new is(ns=>{0<this.mutationRecord.lengths&&this.stopPageActivityObserver(1),this.record&&this.mutationRecord.push(now())}))}startPageActivityObserver(){window.PerformanceObserver&&this.PerformanceObserver.observe({entryTypes:["resource"]}),this.mutationObserver.observe(window.document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0})}turnOnRecord(){this.record=!0}turnOffRecord(){this.record=!1,this.mutationRecord=[],this.performanceRecord=[]}stopPageActivityObserver(ts){(isDefined(ts)||(window.PerformanceObserver&&this.PerformanceObserver.disconnect(),isDefined(this.mutationObserver)))&&this.mutationObserver.disconnect()}}function d$8(es,ts){return-1<es.indexOf(ts)}function checkRecord(es,ts){if(!(es.length===0||es[es.length-1]<ts)){for(var is=0;is<=es.length;is++)if(0<=(es[is]-ts)/1e3)return!0}return!1}var u$3=new PageActivityManager;let A$7=class{constructor(){this.isOpen=!1,this.isScroll=!1,this.elements=["input","textarea","select"],this.stl=null,this.isFirst=!0,this.lastTime=0,this.observer=null}isStart(es){this.isOpen=es;let ts=this,is=rs=>{window.removeEventListener("scroll",this.checkElement.bind(ts)),isDefined(rs)&&(rs.disconnect(),this.observer=null)};var ns=getMutationObserver();es?(is.call(this,this.observer),setTimeout(()=>{ts.observer=new ns(rs=>{ts.checkElement.bind(ts)}),ts.observer.observe(window.document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0})},200),setTimeout(()=>{ts.checkElement.call(ts)},500),this.listenScroll()):is.call(this,this.observer)}listenScroll(){let es=null,ts=this,is=()=>{this.isScroll=!1,this.checkElement.call(ts)};document&&document.body&&document.body.addEventListener("scroll",function(){clearTimeout(es),ts.isScroll=!0,es=setTimeout(is.bind(ts),300)}),window&&window.addEventListener&&window.addEventListener("scroll",function(){clearTimeout(es),ts.isScroll=!0,es=setTimeout(is.bind(ts),300)})}checkElement(){let es=[],ts=()=>{if(!this.isScroll){var ns=document.querySelectorAll("input"),rs=document.querySelectorAll("textarea"),ss=document.querySelectorAll("select"),as=Array.prototype.concat(Array.from(ns),Array.from(rs),Array.from(ss)),os=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,ds=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(let cs=0,fs=as.length-1;cs<=fs;cs++){var ls=this.calculatedCoordinates(as[cs],os,ds);isDefined(ls)&&es.push(ls)}v$9.shadeArea(es,f$2.secondSett)}};this.isFirst&&(ts.call(this),this.isFirst=!1);var is=Date.now();return 50<is-this.lastTime&&ts.call(this),this.lastTime=is,{sensitiveInfos:{masks:es}}}calculatedCoordinates(es,ts,is){if(isDefined(es)&&isDefined(ts)&&isDefined(is))try{var ns=es.getClientRects()[0];if(isDefined(ns)&&isDefined(ns.x)&&isDefined(ns.y)&&isDefined(ns.width)&&isDefined(ns.height)){let rs=ns.x,ss=ns.y,as=ns.width,os=ns.height,ds=ns.bottom,ls=ns.right;return rs>ts||ss>is||ds<0||ls<0?null:(rs<=0&&ss<=0?(as+=rs,rs=0,os+=ss,ss=0,as>ts&&(as=ts),os>is&&(os=is)):rs<=0&&0<ss?(as+=rs,rs=0,as>ts&&(as=ts),os+ss>is&&(os=is-ss)):0<rs&&ss<=0&&(os+=ss,ss=0,as+rs>ts&&(as=ts-rs),os>is)&&(os=is),{x:rs,y:ss,w:as,h:os})}}catch(rs){log("calculatedCoordinates"+rs)}return null}},S$7=new A$7,GC={BROWSER:0,ANDROID:1,IOS:2,WINDOWS:3,HOS:4,ZERO:0,THOUSAND:1e3,TYPEARR:["","android","ios","pc"],FLUSH_DATA:"data/flush",PAGE_READY:"page/ready",PAGE_LOAD:"page/load",PAGE_DATA:"data/page",RESOURCE_DATA:"data/resource",CONSOLE_DATA:"data/console",USERCHANGE:"userchange",TITLE:"title",DURATION:"duration",NAVIGATION_START:"navigationStart",FETCH_START:"fetchStart",START_TIME:"startTime",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",RESPONSE_STATUS:"responseStatus",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd",FIRST_PAINT:"fp",FIRST_DAY:"brs_ifd",FIRST_CONTENTFUL_PAINT:"fcp",LARGEST_CONTENTFUL_PAINT:"lcp",REDIRECT_COUNT:"redirectCount",WORKER_START:"workerStart",NEXT_HOP_PROTOCOL:"nextHopProtocol",TRANSFER_SIZE:"transferSize",ENCODED_BODY_SIZE:"encodedBodySize",DECODED_BODY_SIZE:"decodedBodySize",UPLOAD_BODY_SIZE:"uploadBodySize",REQUEST_HEADER:"requestHeader",RESPONSE_HEADER:"responseHeader",CALLBACK_START:"callbackStart",CALLBACK_END:"callbackEnd",CALLBACK_TIME:"callbackTime",USER_TIME:"userTime",TIMESTAMP:"timestamp",INITIATOR_TYPE:"initiatorType",XML_HTTP_REQUEST:"xmlhttprequest",FETCH:"fetch",TAG_NAME:"tagName",TYPE:"type",MODEL:"model",EMBED:"embed",IS_MAIN_DOCUMENT:"isMainDocument",PAGE_ID:"pageViewId",PAGE_URL:"pageUrl",PAGE_TITLE:"pageTitle",MESSAGE:"message",NAME:"name",ERROR_LINE:"line",ERROR_FILE:"file",ERROR_COLUMN:"column",ERROR_STACK:"stack",JS_ERROR:"jsError",IS_SLOW:"isSlow",IS_CUSTOM:"isCustome",URL:"url",NET_METHOD:"method",NET_PORT:"port",NET_IP:"ip",NET_DT:"domainLookupTime",NET_CT:"connectTime",NET_SSLT:"ssl",NET_DTI:"downloadTime",NET_CNA:"cname",NET_PT:"protocalType",NET_TID:"guid",NET_XBR:"xBrResponse",NET_TRACE:"traceResponse",NET_TPAR:"tpar",NET_EOP:"errorOccurrentProcess",NET_EC:"code",NET_TYPE:"requestType",NET_RET:"resourceType",CUSTOM_IC:"customIc",NET_CBBQ:"requestBodyByKey",REQUEST_BODY:"requestBody",NET_CBHQ:"requestHeaderByKey",NET_CBQ:"reqUrlDta",REQUEST_HEADER_ALL:"requestHeaderAll",E_TYPE:"eType",UA:"userAgent",SOURCE_OF_ACTION:"sourceOfAction",FRAME_TYPE:"frameType",STAY_TIME:"stayTime",CORRELATION_ID:"correlationId",IS_EXIT:"isExit",PAGE_CREATE_TIME:"pageCreateTime",REFERRER:"referrer",STATUS:"status",STATUS_TEXT:"statusText",ALIAS:"alias",PATH:"path",ROOT:"root",FULL_URL:"fullUrl",FRAME_WORK:"framework",CLIENT_TYPE:"clientType",VALUE:"value",FULL_RESOURCE_LOAD_TIME:"fullResourceLoadTime",PAGE_INVISIBLE:"page/invisible",PAGE_VISIBLE:"page/visible",RESOURCE_DUMP:"resource/dump",ERROR_DATA:"data/error",REQUEST_INIT:"request/init",REQUEST_DATA:"data/request",ROUTE_DATA:"data/route",ACTION_DATA:"data/event",TRACE_ACTION_DATA:"data/traceAction",SESSION_CHANGE:"session/change",USER_SET:"user/set",PARAM:"param",SPAN_DATA:"data/span",FULLY_COLLECT:1e3,NET:"network",VIEW:"view",ERROR:"jserror",ACTION:"action",ROUTE:"routechange",WEBVIEWDATA:"h5",PAGE:"page",RESOURCE:"resource",CUSTOM_EVENT:"customevent",CUSTOM_METRIC:"custommetric",CUSTOM_LOG:"customlog",CRASH:"crash",SPEED_TEST:"speedtest",CONSOLE:"console",SPAN:"span",GUID_KEY:"br-resp-key",X_BR_RESPONSE:"x-br-response",TRACE_RESPONSE:"traceresponse",BREAK_LINE:`\r
`,LIFESTYLE_XHR_START:"XMLHttpRequest_Start",LIFESTYLE_REQUEST_END:"Request_Completed",LIFESTYLE_FETCH_START:"FETCH_Satrt",CUSTOM_ACTION_END:"customActionEnd",INIT_SESSION_START:"initSessionStart",LIFESTYLE_CALLBACK_REQUEST_START:"CallbackRequest_Start",ROUTE_CHANGE_START:"ROUTE_CHANGE_START",ROUTE_CHANGE_END:"ROUTE_CHANGE_END",SPAN_CALLBACK_DATA:"SPAN_CALLBACK_DATA",WEBSOCKET_CONNECTION_START:"WEBSOCKET_CONNECTION_START",WEBSOCKET_CONNECTION_END:"WEBSOCKET_CONNECTION_END",XHR_CALLBACK_IDENTIFY:"XHR_CALLBACK_IDENTIFY",LIMIT_64:64,LIMIT_256:256,LIMIT_512:512,ATT_REG:/^[:0-9a-zA-Z /@._-]{1,}$/,BR_ATTRIBUTE:"br-att"};function u$2(es){return isDefined(es)&&!(es instanceof Object)&&(isString(es)||(es=""+es),/^[\u4E00-\u9FFFa-zA-Z0-9:_\-@.\s/]+$/.test(es))&&es.length<=256}let p$6=class{constructor(){this.useAPI=!1,this.configeManage=[],this.originManageData=null,this.cookieArr=[],this.requestArr=[],this.responseArr=[],this.isStopGetValue=50}checkOriginManageData(es){this.useAPI||isDefined(es=es&&isString(es)&&JSON.parse(es)||es)&&Array.isArray(es)&&(50<(this.originManageData=es).length?this.configeManage=es.slice(0,50):this.configeManage=es,this.startCatchDataFun())}startCatchDataFun(){for(let ts=0,is=this.configeManage.length-1;ts<=is;ts++)if(this.configeManage[ts]&&this.configeManage[ts].type)switch(this.configeManage[ts].type){case 1:var es=this.getDataWithType_1(this.configeManage[ts].rule);isDefined(es)&&setCookie("login_username",es),this.configeManage[ts].value=es;break;case 2:this.configeManage[ts].value=this.getDataWithType_2(this.configeManage[ts].rule);break;case 3:this.configeManage[ts].value=this.getDataWithType_3(this.configeManage[ts].rule);break;case 4:this.getDataWithType_4(this.configeManage[ts].rule,ts);break;case 5:this.configeManage[ts].value=this.getDataWithType_5(this.configeManage[ts].rule);break;case 6:this.getDataWithType_6(this.configeManage[ts].rule,ts);break;case 7:this.getDataWithType_7(this.configeManage[ts].rule,ts)}M$6(),this.checkValueRight()}checkValueRight(){for(let es=0,ts=this.configeManage.length-1;es<=ts;es++)if(isDefined(this.configeManage[es])&&isDefined(this.configeManage[es].value))return this.isStopGetValue=es,void u$1.configUser(this.configeManage[es].value,!0)}getDataWithType_1(es){if(!(es&&256<es.length))try{if(es&&0<es.indexOf("@")){var ts=es.split("@"),is=document&&document.querySelector(ts[0])||null;if(is&&is[ts[1]]&&u$2(is[ts[1]]))return is[ts[1]]}else{var ns=document&&document.querySelector(es)||null;if(ns&&u$2(ns.innerText))return ns.innerText}}catch(rs){log("C138")}}getDataWithType_2(es){if(!(es&&256<es.length)&&isDefined(es)){if(es.indexOf(".")!=-1){let ts;if(es.split(".").map(function(is,ns){ts=ts&&ts[is]||ns==0&&window[is]||void 0}),ts&&u$2(ts))return isString(ts)?ts:""+ts}else if(u$2(window[es]))return""+window[es]}}getDataWithType_3(es){if(!(es&&256<es.length))try{var ts=document.head.querySelector(`[name~=${es}][content]`).content;if(isDefined(ts)&&u$2(ts))return ts}catch(is){log("C139")}}getDataWithType_4(es,ts){es&&256<es.length||this.cookieArr.push({rule:es,index:ts})}getDataWithType_5(es){try{var ts;if(!(es&&256<es.length)&&window&&window.location&&window.location.search){for(ts of decodeURI(window.location.search).split("?")[1].split("&"))if(ts.split("=")[0]==es&&u$2(ts.split("=")[1]))return ts.split("=")[1]}}catch(is){log("C140")}}getDataWithType_6(es,ts){if(!(es&&256<es.length)){let is=!1;this.requestArr.map(function(ns){ns.rule==es&&(is=!0)}),is||this.requestArr.push({rule:es,index:ts})}}getDataWithType_7(es,ts){if(!(es&&256<es.length)){let is=!1;this.responseArr.map(function(ns){ns.rule==es&&(is=!0)}),is||this.responseArr.push({rule:es,index:ts})}}changeUseAPI(es){this.useAPI=es}},g$9=new p$6;function M$6(){var es=g$9.cookieArr,ts=g$9.configeManage;if(0<es.length)for(let ns=0,rs=es.length-1;ns<=rs;ns++){var is=getCookie(es[ns].rule);if(isDefined(is)&&u$2(is)&&es[ns].index<=g$9.isStopGetValue)return ts[es[ns].index].value=""+is,g$9.checkValueRight()}}function a$4(){this.listeners={}}extend(a$4.prototype,{on:function(es,ts){var is;isDefined(es)&&isFunction(ts)&&forEach(is=isArray(is=es)?is:[es],bind(function(ns){var rs=this.listeners[ns];(rs=isDefined(rs)?rs:this.listeners[ns]=[]).push(ts)},this))},emit:function(es){var ts;isDefined(es)&&isDefined(es.t)&&(ts=es.t,forEach(this.listeners[ts],function(is){is(es)}))},remove:function(es){var ts;isDefined(es)&&forEach(ts=isArray(ts=es)?ts:[es],bind(function(is){delete this.listeners[is]},this))}});var e$4=new a$4,v$8=bind(e$4.on,e$4),c$2=bind(e$4.emit,e$4),d$7=bind(e$4.remove,e$4);let l$3=class{constructor(){this.sessionCache="br-session-cache",this.current="br-current-appid"}newAppid(es){var ts,is;!isDefined(es)||getCookie(ts=this.getCurrentSesssionKey(es))&&this.queryAppid(es)||(this.currentAppid={appId:es,sessionID:uuid(),lastVisitedTime:new Date().getTime(),startTime:0},getCookie(ts)?((is=JSON.parse(getCookie(ts))).unshift(this.currentAppid),setCookie(ts,JSON.stringify(is),this.getSessionConfig())):setCookie(ts,JSON.stringify([this.currentAppid]),this.getSessionConfig()),setCookie(this.current,es,this.getSessionConfig()))}setSessionCookie(es,ts){setCookie(es,ts,this.getSessionConfig())}getSessionConfig(){var es={path:"/"};return f$2.sett.sessionDomain&&(es.domain=f$2.sett.sessionDomain),es}queryAppid(es){u$1.BonreeRecordState===!1&&window.BonreeAgent&&window.BonreeAgent.BonreeRecord&&window.BonreeAgent.BonreeRecord(f$2.sett);var ts,is=this.getCurrentSesssionKey(es),ns=getCookie(is),rs=isJSON(ns)&&JSON.parse(ns)||[];for(ts of rs)if(ts.appId===es){if(new Date().getTime()-ts.lastVisitedTime>f$2.sett.sessionTimeout/1e3){f$2.setData("isFirstUpload",1),d$6.initUsdTime(),ts.sessionID=uuid(),c$2({t:GC.INIT_SESSION_START});try{isDefined(window.BonreeRecord)&&isDefined(window.BonreeRecord.BonreeRecord)&&window.BonreeRecord.BonreeRecord.takeFullSnapshot(),isDefined(window.BonreeAgent)&&isDefined(window.BonreeAgent.BonreeRecord)&&window.BonreeAgent.BonreeRecord.takeFullSnapshot()}catch(ss){log("C155")}ts.lastVisitedTime=new Date().getTime(),ts.startTime=0}else ts.lastVisitedTime=new Date().getTime();return setCookie(is,JSON.stringify(rs),this.getSessionConfig()),ts}return!1}setAppid(es){f$2.setConfig(es,!1,0);var ts=es.appId;if(isDefined(ts)){var is=this.getCurrentSesssionKey(ts);if(getCookie(is))if(this.queryAppid(ts))setCookie(this.current,ts,this.getSessionConfig());else{var ns=JSON.parse(getCookie(is));f$2.setData("isFirstUpload",1),d$6.initUsdTime(),c$2({t:GC.INIT_SESSION_START}),this.currentAppid={appId:ts,sessionID:uuid(),lastVisitedTime:new Date().getTime(),startTime:0};try{isDefined(window.BonreeRecord)&&isDefined(window.BonreeRecord.BonreeRecord)&&window.BonreeRecord.BonreeRecord.takeFullSnapshot(),isDefined(window.BonreeAgent)&&isDefined(window.BonreeAgent.BonreeRecord)&&window.BonreeAgent.BonreeRecord.takeFullSnapshot()}catch(rs){log("C155")}ns.unshift(this.currentAppid),20<=ns.length&&ns.pop(),setCookie(is,JSON.stringify(ns),this.getSessionConfig())}else{f$2.setData("isFirstUpload",1),d$6.initUsdTime(),c$2({t:GC.INIT_SESSION_START}),this.currentAppid={appId:ts,sessionID:uuid(),lastVisitedTime:new Date().getTime(),startTime:0};try{isDefined(window.BonreeRecord)&&isDefined(window.BonreeRecord.BonreeRecord)&&window.BonreeRecord.BonreeRecord.takeFullSnapshot(),isDefined(window.BonreeAgent)&&isDefined(window.BonreeAgent.BonreeRecord)&&window.BonreeAgent.BonreeRecord.takeFullSnapshot()}catch(rs){log("C155")}setCookie(this.getCurrentSesssionKey(ts),JSON.stringify([this.currentAppid]),this.getSessionConfig())}setCookie(this.current,ts,this.getSessionConfig())}}getSession(){return this.queryAppid(f$2.sett.appId||f$2.secondSett.appId)}getCurrentSesssionKey(es){return this.sessionCache+"-"+es}},B$5=new l$3;function n$2(){this.sett={osType:GC.BROWSER,probability:GC.THOUSAND,sessionPeriod:18e8,sessionTimeout:3e8,sessionEvents:2e3,debounce:1e3,ignoreRequestParams:!1,ignoreRequestHeaders:!1,ignoreResources:!1,ignoreUserEvents:!1,isFirstUpload:1,exBrowser:["Firefox/47"],appVersion:"1.0.0",agentVersion:version,appName:"unKnown",appId:"",hcs:1,channelId:null,deviceId:null,pageViewId:uuid(),pageUrl:document&&document.URL,reqBodyKey:null,reqURLKey:null,reqHeaderKey:null,userKey:"br-user",isDebuge:!1,cycleTime:10,useXHR:!1,maxSize:20,enableWebsocket:!0,ac:{ac:!0,cp:30,aot:3e4},traceConfig:{urlTotalList:[],urlWhiteList:[],urlBlackList:[]},typeArr:["","android","ios","pc"]},this.oriArr=[],this.initArr=[],this.secondSett={}}n$2.prototype.setConfig=function(es,ts=!0,is=0){if(f$2.sett.appId===""||!isDefined(es.appId)||is===0)if(ts&&isDefined(es.osType)){if(this.secondSett=extend(this.secondSett,es),isDefined(this.secondSett.mn)&&isDefined(this.secondSett.sl)){var ns=this.secondSett.mn,rs=this.secondSett.sl;if(ns.indexOf("sessionreplay")!==-1&&rs!==0){let ss=setInterval(()=>{1<u$1.state&&(S$7.isStart(!0),clearInterval(ss))},50)}else S$7.isStart(!1)}}else{if(!ts&&is===1)return isDefined(es.osType)?void(this.secondSett=extend(this.secondSett,es)):void extend(this.sett,es);isDefined(es.probability)&&(typeof es.probability=="number"?this.checkProbability(es.probability):log("C100")),this.sett.probability&&(extend(this.sett,es),this.sett.appId&&ts===!0&&B$5.newAppid(this.sett.appId),this.sett.userId&&(isDefined(this.sett.extraInfo)?(K$5(this.sett.userId),S$5(this.sett.extraInfo)):K$5(this.sett.userId),g$9.changeUseAPI(!0)),isDefined(this.sett.userdefine)&&g$9.checkOriginManageData(this.sett.userdefine),this.sett.isDebuge&&isDefined(window.BonreeAgent)&&(window.BonreeAgent.isDebuge=!0),this.sett.isDebuge)&&isDefined(window.BonreeClient)&&(window.BonreeClient.isDebuge=!0)}},n$2.prototype.checkProbability=function(es){Math.random()*GC.THOUSAND<=es?this.sett.probability=GC.THOUSAND:this.sett.probability=GC.ZERO},n$2.prototype.setData=function(es,ts){if(!isDefined(es)||!isDefined(ts))return!1;this.sett[es]=ts};var f$2=new n$2;function S$6(es){return es===GC.IOS}function w$4(es){return es===GC.HOS}function D$5(es){return es===GC.BROWSER}let v$7=class{constructor(){this.state=0,this.userInfoMap={},this.user=void 0,this.firstUserInfoSetMapKey="",this.lastUserInfoSetMapKey="",this.setUserInfoTimeStamp=0,this.title="",this.BonreeRecordState=!1,this.eventViewInfo={n:document&&document.URL},this.eviKey="",this.eviMap={},this.eei={},this.eeiKey="",this.eeiMap={},this.eeiMapBackup={},this.timer=void 0}setEeiData(es){isEmpty(es)?(this.eeiKey="",this.eei={},this.eeiMap={}):(this.eei=Object.assign({},es),es="",isEmpty(this.eei)?this.eeiKey="":(this.eeiKey=es=hex_md5(String(+new Date)),this.eeiMap[es]=this.eei))}setEeiMapCopy(){var es;this.eeiKey!==""&&isDefined(es=this.eeiMap[this.eeiKey])&&(this.eeiMapBackup[this.eeiKey]=es)}getEeiData(es){return es=="key"?(this.setEeiMapCopy(),this.eeiKey):(es=Object.assign({},this.eeiMapBackup),this.eeiMapBackup={},es)}setEviMap(){if(this.eviKey=="")this.eviKey=hex_md5(String(+new Date)),this.eviMap[this.eviKey]=Object.assign({},this.eventViewInfo);else{let is=!1;for(var es in this.eviMap){var ts;Object.hasOwnProperty.call(this.eviMap,es)&&(ts=this.eviMap[es],JSON.stringify(this.eventViewInfo)==JSON.stringify(ts))&&(is=!0,this.eviKey=es)}is||(this.eviKey=hex_md5(String(+new Date)),this.eviMap[this.eviKey]=Object.assign({},this.eventViewInfo))}}setEviData(es,ts){es=="n"?this.eventViewInfo.n=ts:this.eventViewInfo[es]=ts,isDefined(this.timer)&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.setEviMap.call(this)},50)}getEviData(es){return es=="key"?this.eviKey:es=="value"?this.eventViewInfo:this.eviMap}setData(es,ts){if(!isDefined(es)||!isDefined(ts))return!1;this[es]=ts,es=="title"&&ts!=""&&this.setEviData("vt",ts)}changeState(es){this.state=es}getUserInfo(){var es;return isEmpty(this.userInfoMap)&&(es=this.getUser())!==""&&this.configUser(es),this.userInfoMap}getUser(){var es;return isDefined(this.user)?user:isReadable(es=this.getLocalUser())?es:""}getLocalUser(){var es,ts;return isDefined(this.user)?this.user:(ts=f$2.sett.userKey,isDefined(window.sessionStorage)&&isReadable(es=sessionStorage.getItem(ts))||isDefined(window.localStorage)&&isReadable(es=localStorage.getItem(ts))?es:getCookie(ts))}updateFirstUserInfoSetMapKey(es){this.firstUserInfoSetMapKey=es}saveUser(es){setCookie(f$2.sett.userKey,es)}configUser(es,ts=!1){if(!isDefined(es))return log("C141"),!1;if(es instanceof Object)return log("C142"),!1;if(isString(es)||(es=""+es),!/^[\u4E00-\u9FFFa-zA-Z0-9:_\-@.\s/]+$/.test(es)||256<es.length)return log("C143"),!1;ts||g$9.changeUseAPI(!0);let is=!1;if(ts=hex_md5(es),is=isDefined(this.userInfoMap[ts])?!0:is)return!1;isEmpty(this.userInfoMap)&&this.updateFirstUserInfoSetMapKey(ts),this.lastUserInfoSetMapKey=ts,this.setUserInfoTimeStamp=now();var ns={};return ns.ui=es,this.userInfoMap[ts]=ns,this.saveUser(es),!0}configUserExtraInfo(es){try{switch(typeof es){case"string":if(7e3<es.length)return;var ts;es=JSON.parse(es),64<Object.getOwnPropertyNames(es).length&&(ts={},Object.getOwnPropertyNames(es).slice(0,64).forEach(function(is){ts[is]=es[is]}),es=ts);break;case"object":if(7e3<JSON.stringify(es).length||isEmpty(es))return;64<Object.getOwnPropertyNames(es).length&&(ts={},Object.getOwnPropertyNames(es).slice(0,64).forEach(function(is){ts[is]=es[is]}),es=ts);break;default:return}}catch(is){}isDefined(es)&&!isEmpty(this.userInfoMap)&&(this.userInfoMap[this.lastUserInfoSetMapKey].ei=JSON.stringify(es))}},U$8=class{constructor(){this.usdTime=0}initUsdTime(){this.usdTime=0}changUsdTime(es){isDefined(es)&&(this.usdTime=es)}};function K$5(es,ts=!1){u$1.configUser(es,ts)}function S$5(es){u$1.configUserExtraInfo(es)}let u$1=new v$7,d$6=new U$8;var R$2="0.7.28",z$2="",N$1="?",A$6="function",C$6="undefined",O$8="object",B$4="string",q$3="major",e$3="model",o$1="name",i$2="type",s$5="vendor",r$3="version",c$1="architecture",v$6="console",d$5="mobile",n$1="tablet",m$5="smarttv",E$7="wearable",M$5="embedded",L$7=255,p$5={extend:function(es,ts){var is,ns={};for(is in es)ts[is]&&ts[is].length%2==0?ns[is]=ts[is].concat(es[is]):ns[is]=es[is];return ns},has:function(es,ts){return typeof es===B$4&&ts.toLowerCase().indexOf(es.toLowerCase())!==-1},lowerize:function(es){return es.toLowerCase()},major:function(es){return typeof es===B$4?es.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(es,ts){return es=es.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof ts===C$6?es:es.substring(0,L$7)}},f$1={rgx:function(es,ts){for(var is,ns,rs,ss,as,os=0;os<ts.length&&!ss;){for(var ds=ts[os],ls=ts[os+1],cs=is=0;cs<ds.length&&!ss;)if(ss=ds[cs++].exec(es))for(ns=0;ns<ls.length;ns++)as=ss[++is],typeof(rs=ls[ns])===O$8&&0<rs.length?rs.length==2?this[rs[0]]=typeof rs[1]==A$6?rs[1].call(this,as):rs[1]:rs.length==3?typeof rs[1]!==A$6||rs[1].exec&&rs[1].test?this[rs[0]]=as?as.replace(rs[1],rs[2]):void 0:this[rs[0]]=as?rs[1].call(this,as,rs[2]):void 0:rs.length==4&&(this[rs[0]]=as?rs[3].call(this,as.replace(rs[1],rs[2])):void 0):this[rs]=as||void 0;os+=2}},str:function(es,ts){for(var is in ts)if(typeof ts[is]===O$8&&0<ts[is].length){for(var ns=0;ns<ts[is].length;ns++)if(p$5.has(ts[is][ns],es))return is===N$1?void 0:is}else if(p$5.has(ts[is],es))return is===N$1?void 0:is;return es}},y$5={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x$6={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r$3,[o$1,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r$3,[o$1,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[o$1,r$3],[/opios[\/\s]+([\w\.]+)/i],[r$3,[o$1,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[r$3,[o$1,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[o$1,r$3],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[r$3,[o$1,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[r$3,[o$1,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r$3,[o$1,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r$3,[o$1,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[r$3,[o$1,"IE"]],[/yabrowser\/([\w\.]+)/i],[r$3,[o$1,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o$1,/(.+)/,"$1 Secure Browser"],r$3],[/focus\/([\w\.]+)/i],[r$3,[o$1,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[r$3,[o$1,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[r$3,[o$1,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r$3,[o$1,"Dolphin"]],[/coast\/([\w\.]+)/i],[r$3,[o$1,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[r$3,[o$1,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[r$3,[o$1,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[o$1,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[o$1,/(.+)/,"$1 Browser"],r$3],[/(comodo_dragon)\/([\w\.]+)/i],[[o$1,/_/g," "],r$3],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[o$1,r$3],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[o$1],[/;fbav\/([\w\.]+);/i],[r$3,[o$1,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[o$1,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[o$1,r$3],[/\bgsa\/([\w\.]+)\s.*safari\//i],[r$3,[o$1,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[r$3,[o$1,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o$1,"Chrome WebView"],r$3],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[r$3,[o$1,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o$1,r$3],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[r$3,[o$1,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[r$3,o$1],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o$1,[r$3,f$1.str,y$5.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[o$1,r$3],[/(navigator|netscape)\/([\w\.-]+)/i],[[o$1,"Netscape"],r$3],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[r$3,[o$1,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o$1,r$3]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[c$1,"amd64"]],[/(ia32(?=;))/i],[[c$1,p$5.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[c$1,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[c$1,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[c$1,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[c$1,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[c$1,/ower/,"",p$5.lowerize]],[/(sun4\w)[;\)]/i],[[c$1,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[c$1,p$5.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[e$3,[s$5,"Samsung"],[i$2,n$1]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[e$3,[s$5,"Samsung"],[i$2,d$5]],[/\((ip(?:hone|od)[\s\w]*);/i],[e$3,[s$5,"Apple"],[i$2,d$5]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e$3,[s$5,"Apple"],[i$2,n$1]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[e$3,[s$5,"Huawei"],[i$2,n$1]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[e$3,[s$5,"Huawei"],[i$2,d$5]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e$3,/_/g," "],[s$5,"Xiaomi"],[i$2,d$5]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[e$3,/_/g," "],[s$5,"Xiaomi"],[i$2,n$1]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[e$3,[s$5,"OPPO"],[i$2,d$5]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[e$3,[s$5,"Vivo"],[i$2,d$5]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[e$3,[s$5,"Realme"],[i$2,d$5]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[e$3,[s$5,"Motorola"],[i$2,d$5]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e$3,[s$5,"Motorola"],[i$2,n$1]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[e$3,[s$5,"LG"],[i$2,n$1]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[e$3,[s$5,"LG"],[i$2,d$5]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[e$3,[s$5,"Lenovo"],[i$2,n$1]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[e$3,/_/g," "],[s$5,"Nokia"],[i$2,d$5]],[/droid.+;\s(pixel\sc)[\s)]/i],[e$3,[s$5,"Google"],[i$2,n$1]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[e$3,[s$5,"Google"],[i$2,d$5]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e$3,[s$5,"Sony"],[i$2,d$5]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[e$3,"Xperia Tablet"],[s$5,"Sony"],[i$2,n$1]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[e$3,[s$5,"OnePlus"],[i$2,d$5]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[e$3,[s$5,"Amazon"],[i$2,n$1]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e$3,"Fire Phone"],[s$5,"Amazon"],[i$2,d$5]],[/\((playbook);[\w\s\),;-]+(rim)/i],[e$3,s$5,[i$2,n$1]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[e$3,[s$5,"BlackBerry"],[i$2,d$5]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[e$3,[s$5,"ASUS"],[i$2,n$1]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[e$3,[s$5,"ASUS"],[i$2,d$5]],[/(nexus\s9)/i],[e$3,[s$5,"HTC"],[i$2,n$1]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[s$5,[e$3,/_/g," "],[i$2,d$5]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e$3,[s$5,"Acer"],[i$2,n$1]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[e$3,[s$5,"Meizu"],[i$2,d$5]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[s$5,e$3,[i$2,d$5]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[s$5,e$3,[i$2,n$1]],[/\s(surface\sduo)\s/i],[e$3,[s$5,"Microsoft"],[i$2,n$1]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[e$3,[s$5,"Fairphone"],[i$2,d$5]],[/\s(u304aa)\sbuild/i],[e$3,[s$5,"AT&T"],[i$2,d$5]],[/sie-(\w*)/i],[e$3,[s$5,"Siemens"],[i$2,d$5]],[/[;\/]\s?(rct\w+)\sbuild/i],[e$3,[s$5,"RCA"],[i$2,n$1]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[e$3,[s$5,"Dell"],[i$2,n$1]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[e$3,[s$5,"Verizon"],[i$2,n$1]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[e$3,[s$5,"Barnes & Noble"],[i$2,n$1]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[e$3,[s$5,"NuVision"],[i$2,n$1]],[/;\s(k88)\sbuild/i],[e$3,[s$5,"ZTE"],[i$2,n$1]],[/;\s(nx\d{3}j)\sbuild/i],[e$3,[s$5,"ZTE"],[i$2,d$5]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[e$3,[s$5,"Swiss"],[i$2,d$5]],[/[;\/]\s?(zur\d{3})\sbuild/i],[e$3,[s$5,"Swiss"],[i$2,n$1]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[e$3,[s$5,"Zeki"],[i$2,n$1]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[s$5,"Dragon Touch"],e$3,[i$2,n$1]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[e$3,[s$5,"Insignia"],[i$2,n$1]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[e$3,[s$5,"NextBook"],[i$2,n$1]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[s$5,"Voice"],e$3,[i$2,d$5]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[s$5,"LvTel"],e$3,[i$2,d$5]],[/;\s(ph-1)\s/i],[e$3,[s$5,"Essential"],[i$2,d$5]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[e$3,[s$5,"Envizen"],[i$2,n$1]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[e$3,[s$5,"MachSpeed"],[i$2,n$1]],[/[;\/]\s?tu_(1491)\sbuild/i],[e$3,[s$5,"Rotor"],[i$2,n$1]],[/(shield[\w\s]+)\sbuild/i],[e$3,[s$5,"Nvidia"],[i$2,n$1]],[/(sprint)\s(\w+)/i],[s$5,e$3,[i$2,d$5]],[/(kin\.[onetw]{3})/i],[[e$3,/\./g," "],[s$5,"Microsoft"],[i$2,d$5]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e$3,[s$5,"Zebra"],[i$2,n$1]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[e$3,[s$5,"Zebra"],[i$2,d$5]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[s$5,e$3,[i$2,v$6]],[/droid.+;\s(shield)\sbuild/i],[e$3,[s$5,"Nvidia"],[i$2,v$6]],[/(playstation\s[345portablevi]+)/i],[e$3,[s$5,"Sony"],[i$2,v$6]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[e$3,[s$5,"Microsoft"],[i$2,v$6]],[/smart-tv.+(samsung)/i],[s$5,[i$2,m$5]],[/hbbtv.+maple;(\d+)/i],[[e$3,/^/,"SmartTV"],[s$5,"Samsung"],[i$2,m$5]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[s$5,"LG"],[i$2,m$5]],[/(apple)\s?tv/i],[s$5,[e$3,"Apple TV"],[i$2,m$5]],[/crkey/i],[[e$3,"Chromecast"],[s$5,"Google"],[i$2,m$5]],[/droid.+aft([\w])(\sbuild\/|\))/i],[e$3,[s$5,"Amazon"],[i$2,m$5]],[/\(dtv[\);].+(aquos)/i],[e$3,[s$5,"Sharp"],[i$2,m$5]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s$5,p$5.trim],[e$3,p$5.trim],[i$2,m$5]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[i$2,m$5]],[/((pebble))app\/[\d\.]+\s/i],[s$5,e$3,[i$2,E$7]],[/droid.+;\s(glass)\s\d/i],[e$3,[s$5,"Google"],[i$2,E$7]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[e$3,[s$5,"Zebra"],[i$2,E$7]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[s$5,[i$2,M$5]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e$3,[i$2,d$5]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e$3,[i$2,n$1]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[i$2,p$5.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[e$3,[s$5,"Generic"]],[/(phone)/i],[[i$2,d$5]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[r$3,[o$1,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r$3,[o$1,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o$1,r$3],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r$3,o$1]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o$1,r$3],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[o$1,[r$3,f$1.str,y$5.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o$1,"Windows"],[r$3,f$1.str,y$5.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[r$3,/_/g,"."],[o$1,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[o$1,"Mac OS"],[r$3,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[o$1,r$3],[/\(bb(10);/i],[r$3,[o$1,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[r$3,[o$1,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o$1,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r$3,[o$1,"webOS"]],[/crkey\/([\d\.]+)/i],[r$3,[o$1,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o$1,"Chromium OS"],r$3],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[o$1,r$3],[/(sunos)\s?([\w\.\d]*)/i],[[o$1,"Solaris"],r$3],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[o$1,r$3]]},h$9=typeof window!="undefined"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:z$2;class UAParser{constructor(){this.VERSION=R$2,this.BROWSER={NAME:o$1,MAJOR:q$3,VERSION:r$3},this.CPU={ARCHITECTURE:c$1},this.DEVICE={MODEL:e$3,VENDOR:s$5,TYPE:i$2,CONSOLE:v$6,MOBILE:d$5,SMARTTV:m$5,TABLET:n$1,WEARABLE:E$7,EMBEDDED:M$5},this.ENGINE={NAME:o$1,VERSION:r$3},this.OS={NAME:o$1,VERSION:r$3}}}UAParser.prototype.getBrowser=function(){var es={name:void 0,version:void 0};return f$1.rgx.call(es,h$9,x$6.browser),es.major=p$5.major(es.version),es},UAParser.prototype.getCPU=function(){var es={architecture:void 0};return f$1.rgx.call(es,h$9,x$6.cpu),es},UAParser.prototype.getDevice=function(){var es={vendor:void 0,model:void 0,type:void 0};return f$1.rgx.call(es,h$9,x$6.device),es},UAParser.prototype.getEngine=function(){var es={name:void 0,version:void 0};return f$1.rgx.call(es,h$9,x$6.engine),es},UAParser.prototype.getOS=function(){var es={name:void 0,version:void 0};return f$1.rgx.call(es,h$9,x$6.os),es},UAParser.prototype.getUA=function(){return h$9},UAParser.prototype.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};var p$4=(es,ts,is)=>new Promise((ns,rs)=>{var ss=ds=>{try{os(is.next(ds))}catch(ls){rs(ls)}},as=ds=>{try{os(is.throw(ds))}catch(ls){rs(ls)}},os=ds=>ds.done?ns(ds.value):Promise.resolve(ds.value).then(ss,as);os((is=is.apply(es,ts)).next())}),m$4="br-client";let d$4={},n={},C$5=function(){var es=getCookie(m$4);return isReadable(es)||(es=uuid(),setCookie(m$4,es,{path:"/",expires:"Thu, 01 Jan 2099 00:00:01 GMT;"})),es};function M$4(){if(isEmpty(n)||!UAParser)try{var es=new UAParser;n=es&&es.getResult()||{}}catch(ts){log(ts)}}function P$6(es){if(es)return/iphone|ipad|ios/i.test(es)?0:/android/i.test(es)?1:/windows/i.test(es)?2:/harmonyOS/i.test(es)?3:/mac/i.test(es)?4:1}function getDeviceInfo(){try{k$3()&&M$4(),d$4.di=C$5(),d$4.a="user",d$4.ot=n&&isDefined(n.os)?n.os.name&&P$6(n.os.name):"1",d$4.ram=isDefined(navigator.deviceMemory)&&1024*navigator.deviceMemory||-1,d$4.l=navigator.language||navigator.userLanguage,d$4.ds=window.screen.width+"*"+window.screen.height,d$4.rom=-1,d$4.bn=n&&isDefined(n.os)?n.os.name:"unknown",d$4.omv=n&&n.os&&n.os.version?n.os.version:"unknown",d$4.ci=n&&isDefined(n.cpu)&&n.cpu.architecture&&n.cpu.architecture||"unknown",d$4.ctn=n&&isDefined(n.browser)?n.browser.name:"unknown",d$4.ctv=n&&n.browser&&n.browser.version?n.browser.version:"unknown",isDefined(n.device)&&isDefined(n.device.model)&&(d$4.m=n.device.model),setDeviceForLog(d$4.di)}catch(es){return log(es,!0),{}}return d$4}function k$3(){try{var es=["Firefox/47"],ts=navigator.userAgent&&navigator.userAgent.match(/(firefox|msie|chrome|safari)[/\s]([\d.]+)/gi)||void 0;if(ts&&0<ts.length){var is=ts[0].split("/");for(let ns=0,rs=es.length-1;ns<=rs;ns++){let ss=es[ns];if((ss=ss.split("/"))[0]===is[0]&&Number(is[1].split(".")[0])<=Number(ss[1]))return}}return 1}catch(ns){log(ns)}}let K$4=class{zero(es){if(0<es){for(var ts="0",is=1;is<es;is++)ts+=ts;return ts}return""}stringToArray(es){for(var ts=[],is=es.length,ns=0;ns<is;ns++){var rs,ss,as,os,ds,ls=es.charCodeAt(ns);19968<ls&&ls<40869?(ss="1110",os=as="10",(ds=(rs=ls.toString(2)).length)<=6?(os=os+this.zero(6-ds)+rs,as+=this.zero(6),ss+=this.zero(4)):6<ds&&ds<=12?(os+=rs.slice(-6),as=as+this.zero(12-ds)+rs.substr(0,ds-6),ss+=this.zero(4)):(os+=rs.slice(-6),as+=rs.substr(ds-12,6),ss=ss+this.zero(16-ds)+rs.substr(0,ds-12)),ts.push(parseInt(ss,2),parseInt(as,2),parseInt(os,2))):ts.push(ls)}return ts}stringToArrayBufferInUtf8(es){return this.stringToArray(es)}};Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(es){if(this==null)throw new TypeError("this is null or not defined");for(var ts=Object(this),is=ts.length>>>0,rs=0|arguments[1],ns=rs<0?Math.max(is+rs,0):Math.min(rs,is),rs=arguments[2],rs=rs===void 0?is:0|rs,ss=rs<0?Math.max(is+rs,0):Math.min(rs,is);ns<ss;)ts[ns]=es,ns++;return ts}});var l$2=16,y$4=new Uint8Array([214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72]),E$6=(Uint8Array.prototype.fill=function(){Array.prototype.fill.apply(this,arguments)},Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(es){return new Uint8Array(this).subarray(es)}),new Uint32Array([462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257])),g$8=new Uint32Array([2746333894,1453994832,1736282519,2993693404]);let O$7=class{constructor(es){if(this.Crypt=new K$4,es=this.Crypt.stringToArrayBufferInUtf8(es.key),es.length!==16)throw new Error("key should be a 16 bytes string");this.key=es,this.mode="ecb",this.encryptRoundKeys=new Uint32Array(32),this.spawnEncryptRoundKeys(),Uint32Array.prototype.reverse=function(){Array.prototype.reverse.apply(this,arguments)},this.decryptRoundKeys=new Uint32Array(this.encryptRoundKeys),this.decryptRoundKeys.reverse()}doBlockCrypt(es,ts){var is=new Uint32Array(36);is.set(es,0);for(var ns=0;ns<32;ns++)is[ns+4]=is[ns]^this.tTransform1(is[ns+1]^is[ns+2]^is[ns+3]^ts[ns]);return es=new Uint32Array(4),es[0]=is[35],es[1]=is[34],es[2]=is[33],es[3]=is[32],es}spawnEncryptRoundKeys(){var es=new Uint32Array(4),ts=(es[0]=this.key[0]<<24|this.key[1]<<16|this.key[2]<<8|this.key[3],es[1]=this.key[4]<<24|this.key[5]<<16|this.key[6]<<8|this.key[7],es[2]=this.key[8]<<24|this.key[9]<<16|this.key[10]<<8|this.key[11],es[3]=this.key[12]<<24|this.key[13]<<16|this.key[14]<<8|this.key[15],new Uint32Array(36));ts[0]=es[0]^g$8[0],ts[1]=es[1]^g$8[1],ts[2]=es[2]^g$8[2],ts[3]=es[3]^g$8[3];for(var is=0;is<32;is++)ts[is+4]=ts[is]^this.tTransform2(ts[is+1]^ts[is+2]^ts[is+3]^E$6[is]),this.encryptRoundKeys[is]=ts[is+4]}rotateLeft(es,ts){return es<<ts|es>>>32-ts}linearTransform1(es){return es^this.rotateLeft(es,2)^this.rotateLeft(es,10)^this.rotateLeft(es,18)^this.rotateLeft(es,24)}linearTransform2(es){return es^this.rotateLeft(es,13)^this.rotateLeft(es,23)}tauTransform(es){return y$4[es>>>24&255]<<24|y$4[es>>>16&255]<<16|y$4[es>>>8&255]<<8|y$4[255&es]}tTransform1(es){return es=this.tauTransform(es),this.linearTransform1(es)}tTransform2(es){return es=this.tauTransform(es),this.linearTransform2(es)}padding(es){var ts,is;return es===null?null:(ts=l$2-es.length%l$2,(is=new Uint8Array(es.length+ts)).set(es,0),is.fill(ts,es.length),is)}dePadding(es){var ts;return es===null?null:(ts=es[es.length-1],es.slice(0,es.length-ts))}uint8ToUint32Block(es,ts){ts===void 0&&(ts=0);var is=new Uint32Array(4);return is[0]=es[ts]<<24|es[ts+1]<<16|es[ts+2]<<8|es[ts+3],is[1]=es[ts+4]<<24|es[ts+5]<<16|es[ts+6]<<8|es[ts+7],is[2]=es[ts+8]<<24|es[ts+9]<<16|es[ts+10]<<8|es[ts+11],is[3]=es[ts+12]<<24|es[ts+13]<<16|es[ts+14]<<8|es[ts+15],is}encrypt(es){for(var es=this.Crypt.stringToArrayBufferInUtf8(es),ts=this.padding(es),is=ts.length/l$2,ns=new Uint8Array(ts.length),rs=0;rs<is;rs++)for(var ss=rs*l$2,as=this.uint8ToUint32Block(ts,ss),os=this.doBlockCrypt(as,this.encryptRoundKeys),ds=0;ds<l$2;ds++)ns[ss+ds]=os[parseInt(ds/4)]>>(3-ds)%4*8&255;return ns}};function S$4(){return p$4(this,null,function*(){let es=!1;var ts;return window.webkitRequestFileSystem&&window.webkitRequestFileSystem(window.TEMPORARY,1,function(){es=!1},function(is){es=!0}),typeof InstallTrigger!="undefined"&&(ts=yield new Promise(function(is,ns){try{let rs=indexedDB.open("test");rs.onerror=function(){return is(!0)},rs.onsuccess=function(){return is(!1)}}catch(rs){return is(!1)}}),es=!!ts),(-1<window.navigator.userAgent.indexOf("Edge")||-1<window.navigator.userAgent.indexOf("Chrome"))&&("storage"in navigator&&"estimate"in navigator.storage?es=(yield navigator.storage.estimate()).quota<12e8:es=!1),es})}function le$3(es){let ts=es.length;for(;0<=--ts;)es[ts]=0}document&&document.addEventListener("readystatechange",es=>p$4(void 0,null,function*(){if(es.target.readyState==="complete"&&k$3())try{var ts=yield S$4();isDefined(window.bonreeRUM)&&(bonreeRUM.isPrivate=ts)}catch(is){log(is)}}));let Bi=0,yt$1=1,Ki=2,Pi=3,Xi=258,Ye$1=29,ue$3=256,we$1=ue$3+1+Ye$1,fe=30,Ge$1=19,mt$1=2*we$1+1,Q$1=15,je$1=16,Yi=7,We$1=256,zt=16,St$1=17,At$1=18,Ve=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ne$1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Rt$1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ji=512,K$3=new Array(2*(we$1+2)),be$1=(le$3(K$3),new Array(2*fe)),ge$1=(le$3(be$1),new Array(ji)),pe$3=(le$3(ge$1),new Array(Xi-Pi+1)),Je$1=(le$3(pe$3),new Array(Ye$1)),Le$1=(le$3(Je$1),new Array(fe));function Qe$1(es,ts,is,ns,rs){this.static_tree=es,this.extra_bits=ts,this.extra_base=is,this.elems=ns,this.max_length=rs,this.has_stree=es&&es.length}let Tt$1,Dt$1,Zt$1;function qe$1(es,ts){this.dyn_tree=es,this.max_code=0,this.stat_desc=ts}le$3(Le$1);let It$1=es=>es<256?ge$1[es]:ge$1[256+(es>>>7)],xe$1=(es,ts)=>{es.pending_buf[es.pending++]=255&ts,es.pending_buf[es.pending++]=ts>>>8&255},N=(es,ts,is)=>{es.bi_valid>je$1-is?(es.bi_buf|=ts<<es.bi_valid&65535,xe$1(es,es.bi_buf),es.bi_buf=ts>>je$1-es.bi_valid,es.bi_valid+=is-je$1):(es.bi_buf|=ts<<es.bi_valid&65535,es.bi_valid+=is)},F$2=(es,ts,is)=>{N(es,is[2*ts],is[2*ts+1])},Ot$1=(es,ts)=>{let is=0;for(;is|=1&es,es>>>=1,is<<=1,0<--ts;);return is>>>1},Wi=es=>{es.bi_valid===16?(xe$1(es,es.bi_buf),es.bi_buf=0,es.bi_valid=0):8<=es.bi_valid&&(es.pending_buf[es.pending++]=255&es.bi_buf,es.bi_buf>>=8,es.bi_valid-=8)},Vi=(es,ts)=>{var is=ts.dyn_tree,ns=ts.max_code,rs=ts.stat_desc.static_tree,ss=ts.stat_desc.has_stree,as=ts.stat_desc.extra_bits,os=ts.stat_desc.extra_base,ds=ts.stat_desc.max_length;let ls,cs,fs,ps,us,ms,$s=0;for(ps=0;ps<=Q$1;ps++)es.bl_count[ps]=0;for(is[2*es.heap[es.heap_max]+1]=0,ls=es.heap_max+1;ls<mt$1;ls++)cs=es.heap[ls],(ps=is[2*is[2*cs+1]+1]+1)>ds&&(ps=ds,$s++),is[2*cs+1]=ps,cs>ns||(es.bl_count[ps]++,us=0,cs>=os&&(us=as[cs-os]),ms=is[2*cs],es.opt_len+=ms*(ps+us),!ss)||(es.static_len+=ms*(rs[2*cs+1]+us));if($s!==0){do for(ps=ds-1;es.bl_count[ps]===0;)ps--;while(es.bl_count[ps]--,es.bl_count[ps+1]+=2,es.bl_count[ds]--,0<($s-=2));for(ps=ds;ps!==0;ps--)for(cs=es.bl_count[ps];cs!==0;)ns<(fs=es.heap[--ls])||(is[2*fs+1]!==ps&&(es.opt_len+=(ps-is[2*fs+1])*is[2*fs],is[2*fs+1]=ps),cs--)}},Nt$1=(es,ts,is)=>{var ns=new Array(Q$1+1);let rs,ss,as=0;for(rs=1;rs<=Q$1;rs++)as=as+is[rs-1]<<1,ns[rs]=as;for(ss=0;ss<=ts;ss++){var os=es[2*ss+1];os!==0&&(es[2*ss]=Ot$1(ns[os]++,os))}},Ji=()=>{let es,ts,is,ns,rs;var ss=new Array(Q$1+1);for(is=0,ns=0;ns<Ye$1-1;ns++)for(Je$1[ns]=is,es=0;es<1<<Ve[ns];es++)pe$3[is++]=ns;for(pe$3[is-1]=ns,rs=0,ns=0;ns<16;ns++)for(Le$1[ns]=rs,es=0;es<1<<Ne$1[ns];es++)ge$1[rs++]=ns;for(rs>>=7;ns<fe;ns++)for(Le$1[ns]=rs<<7,es=0;es<1<<Ne$1[ns]-7;es++)ge$1[256+rs++]=ns;for(ts=0;ts<=Q$1;ts++)ss[ts]=0;for(es=0;es<=143;)K$3[2*es+1]=8,es++,ss[8]++;for(;es<=255;)K$3[2*es+1]=9,es++,ss[9]++;for(;es<=279;)K$3[2*es+1]=7,es++,ss[7]++;for(;es<=287;)K$3[2*es+1]=8,es++,ss[8]++;for(Nt$1(K$3,we$1+1,ss),es=0;es<fe;es++)be$1[2*es+1]=5,be$1[2*es]=Ot$1(es,5);Tt$1=new Qe$1(K$3,Ve,ue$3+1,we$1,Q$1),Dt$1=new Qe$1(be$1,Ne$1,0,fe,Q$1),Zt$1=new Qe$1(new Array(0),Gi,0,Ge$1,Yi)},Lt$1=es=>{let ts;for(ts=0;ts<we$1;ts++)es.dyn_ltree[2*ts]=0;for(ts=0;ts<fe;ts++)es.dyn_dtree[2*ts]=0;for(ts=0;ts<Ge$1;ts++)es.bl_tree[2*ts]=0;es.dyn_ltree[2*We$1]=1,es.opt_len=es.static_len=0,es.sym_next=es.matches=0},Ut=es=>{8<es.bi_valid?xe$1(es,es.bi_buf):0<es.bi_valid&&(es.pending_buf[es.pending++]=es.bi_buf),es.bi_buf=0,es.bi_valid=0},Ct$1=(es,ts,is,ns)=>{var rs=2*ts,ss=2*is;return es[rs]<es[ss]||es[rs]===es[ss]&&ns[ts]<=ns[is]},et$1=(es,ts,is)=>{var ns=es.heap[is];let rs=is<<1;for(;rs<=es.heap_len&&(rs<es.heap_len&&Ct$1(ts,es.heap[rs+1],es.heap[rs],es.depth)&&rs++,!Ct$1(ts,ns,es.heap[rs],es.depth));)es.heap[is]=es.heap[rs],is=rs,rs<<=1;es.heap[is]=ns},$t$1=(es,ts,is)=>{let ns,rs,ss,as,os=0;if(es.sym_next!==0)for(;ns=255&es.pending_buf[es.sym_buf+os++],ns+=(255&es.pending_buf[es.sym_buf+os++])<<8,rs=es.pending_buf[es.sym_buf+os++],ns==0?F$2(es,rs,ts):(ss=pe$3[rs],F$2(es,ss+ue$3+1,ts),(as=Ve[ss])!==0&&(rs-=Je$1[ss],N(es,rs,as)),ns--,ss=It$1(ns),F$2(es,ss,is),(as=Ne$1[ss])!==0&&(ns-=Le$1[ss],N(es,ns,as))),os<es.sym_next;);F$2(es,We$1,ts)},tt$1=(es,ts)=>{var is=ts.dyn_tree,ns=ts.stat_desc.static_tree,rs=ts.stat_desc.has_stree,ss=ts.stat_desc.elems;let as,os,ds,ls=-1;for(es.heap_len=0,es.heap_max=mt$1,as=0;as<ss;as++)is[2*as]!==0?(es.heap[++es.heap_len]=ls=as,es.depth[as]=0):is[2*as+1]=0;for(;es.heap_len<2;)is[2*(ds=es.heap[++es.heap_len]=ls<2?++ls:0)]=1,es.depth[ds]=0,es.opt_len--,rs&&(es.static_len-=ns[2*ds+1]);for(ts.max_code=ls,as=es.heap_len>>1;1<=as;as--)et$1(es,is,as);for(ds=ss;as=es.heap[1],es.heap[1]=es.heap[es.heap_len--],et$1(es,is,1),os=es.heap[1],es.heap[--es.heap_max]=as,es.heap[--es.heap_max]=os,is[2*ds]=is[2*as]+is[2*os],es.depth[ds]=(es.depth[as]>=es.depth[os]?es.depth[as]:es.depth[os])+1,is[2*as+1]=is[2*os+1]=ds,es.heap[1]=ds++,et$1(es,is,1),2<=es.heap_len;);es.heap[--es.heap_max]=es.heap[1],Vi(es,ts),Nt$1(is,ls,es.bl_count)},Ft$1=(es,ts,is)=>{let ns,rs,ss=-1,as=ts[1],os=0,ds=7,ls=4;for(as===0&&(ds=138,ls=3),ts[2*(is+1)+1]=65535,ns=0;ns<=is;ns++)rs=as,as=ts[2*(ns+1)+1],++os<ds&&rs===as||(os<ls?es.bl_tree[2*rs]+=os:rs!==0?(rs!==ss&&es.bl_tree[2*rs]++,es.bl_tree[2*zt]++):os<=10?es.bl_tree[2*St$1]++:es.bl_tree[2*At$1]++,os=0,ss=rs,ls=as===0?(ds=138,3):rs===as?(ds=6,3):(ds=7,4))},Mt$1=(es,ts,is)=>{let ns,rs,ss=-1,as=ts[1],os=0,ds=7,ls=4;for(as===0&&(ds=138,ls=3),ns=0;ns<=is;ns++)if(rs=as,as=ts[2*(ns+1)+1],!(++os<ds&&rs===as)){if(os<ls)for(;F$2(es,rs,es.bl_tree),--os!=0;);else rs!==0?(rs!==ss&&(F$2(es,rs,es.bl_tree),os--),F$2(es,zt,es.bl_tree),N(es,os-3,2)):os<=10?(F$2(es,St$1,es.bl_tree),N(es,os-3,3)):(F$2(es,At$1,es.bl_tree),N(es,os-11,7));os=0,ss=rs,ls=as===0?(ds=138,3):rs===as?(ds=6,3):(ds=7,4)}},Qi=es=>{let ts;for(Ft$1(es,es.dyn_ltree,es.l_desc.max_code),Ft$1(es,es.dyn_dtree,es.d_desc.max_code),tt$1(es,es.bl_desc),ts=Ge$1-1;3<=ts&&es.bl_tree[2*Rt$1[ts]+1]===0;ts--);return es.opt_len+=3*(ts+1)+5+5+4,ts},qi=(es,ts,is,ns)=>{let rs;for(N(es,ts-257,5),N(es,is-1,5),N(es,ns-4,4),rs=0;rs<ns;rs++)N(es,es.bl_tree[2*Rt$1[rs]+1],3);Mt$1(es,es.dyn_ltree,ts-1),Mt$1(es,es.dyn_dtree,is-1)},en$1=es=>{let ts,is=4093624447;for(ts=0;ts<=31;ts++,is>>>=1)if(1&is&&es.dyn_ltree[2*ts]!==0)return 0;if(es.dyn_ltree[18]!==0||es.dyn_ltree[20]!==0||es.dyn_ltree[26]!==0)return 1;for(ts=32;ts<ue$3;ts++)if(es.dyn_ltree[2*ts]!==0)return 1;return 0},Ht=!1,tn$1=es=>{Ht||(Ji(),Ht=!0),es.l_desc=new qe$1(es.dyn_ltree,Tt$1),es.d_desc=new qe$1(es.dyn_dtree,Dt$1),es.bl_desc=new qe$1(es.bl_tree,Zt$1),es.bi_buf=0,es.bi_valid=0,Lt$1(es)},Bt$1=(es,ts,is,ns)=>{N(es,(Bi<<1)+(ns?1:0),3),Ut(es),xe$1(es,is),xe$1(es,~is),is&&es.pending_buf.set(es.window.subarray(ts,ts+is),es.pending),es.pending+=is},nn$1=es=>{N(es,yt$1<<1,3),F$2(es,We$1,K$3),Wi(es)},an$1=(es,ts,is,ns)=>{let rs,ss,as=0;0<es.level?(es.strm.data_type===2&&(es.strm.data_type=en$1(es)),tt$1(es,es.l_desc),tt$1(es,es.d_desc),as=Qi(es),rs=es.opt_len+3+7>>>3,(ss=es.static_len+3+7>>>3)<=rs&&(rs=ss)):rs=ss=is+5,is+4<=rs&&ts!==-1?Bt$1(es,ts,is,ns):es.strategy===4||ss===rs?(N(es,(yt$1<<1)+(ns?1:0),3),$t$1(es,K$3,be$1)):(N(es,(Ki<<1)+(ns?1:0),3),qi(es,es.l_desc.max_code+1,es.d_desc.max_code+1,as+1),$t$1(es,es.dyn_ltree,es.dyn_dtree)),Lt$1(es),ns&&Ut(es)},rn$1=(es,ts,is)=>(es.pending_buf[es.sym_buf+es.sym_next++]=ts,es.pending_buf[es.sym_buf+es.sym_next++]=ts>>8,es.pending_buf[es.sym_buf+es.sym_next++]=is,ts===0?es.dyn_ltree[2*is]++:(es.matches++,ts--,es.dyn_ltree[2*(pe$3[is]+ue$3+1)]++,es.dyn_dtree[2*It$1(ts)]++),es.sym_next===es.sym_end);var ln$1=tn$1,fn$1=Bt$1,on$1=an$1,_n=rn$1,hn$1=nn$1,dn$1={_tr_init:ln$1,_tr_stored_block:fn$1,_tr_flush_block:on$1,_tr_tally:_n,_tr_align:hn$1};let sn$1=(es,ts,is,ns)=>{let rs=65535&es,ss=es>>>16&65535,as=0;for(;is!==0;){for(is-=as=2e3<is?2e3:is;rs=rs+ts[ns++]|0,ss=ss+rs|0,--as;);rs%=65521,ss%=65521}return rs|ss<<16};var ve$1=sn$1;let cn$1=()=>{let es,ts=[];for(var is=0;is<256;is++){es=is;for(var ns=0;ns<8;ns++)es=1&es?3988292384^es>>>1:es>>>1;ts[is]=es}return ts},un$1=new Uint32Array(cn$1()),wn$1=(es,ts,is,ns)=>{var rs=un$1,ss=ns+is;es^=-1;for(let as=ns;as<ss;as++)es=es>>>8^rs[255&(es^ts[as])];return~es};var Z$1=wn$1,q$2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ee$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:bn$1,_tr_stored_block:it$1,_tr_flush_block:gn$1,_tr_tally:Y,_tr_align:pn$1}=dn$1,{Z_NO_FLUSH:G,Z_PARTIAL_FLUSH:xn,Z_FULL_FLUSH:vn$1,Z_FINISH:C$4,Z_BLOCK:Kt$1,Z_OK:I$4,Z_STREAM_END:Pt$1,Z_STREAM_ERROR:M$3,Z_DATA_ERROR:kn,Z_BUF_ERROR:nt$1,Z_DEFAULT_COMPRESSION:En,Z_FILTERED:yn$1,Z_HUFFMAN_ONLY:Ue$1,Z_RLE:mn$1,Z_FIXED:zn,Z_DEFAULT_STRATEGY:Sn$1,Z_UNKNOWN:An$1,Z_DEFLATED:Ce$1}=ee$2,Rn$1=9,Tn=15,Dn=8,Zn=29,In$1=256,at$1=In$1+1+Zn,On$1=30,Nn=19,Ln=2*at$1+1,Un=15,v$5=3,j$2=258,H$4=j$2+v$5+1,Cn$1=32,oe=42,rt$1=57,lt$1=69,ft$1=73,ot$1=91,_t$1=103,te$1=113,ke$1=666,O$6=1,_e$1=2,ie$1=3,he$2=4,$n=3,ne$1=(es,ts)=>(es.msg=q$2[ts],ts),Xt=es=>2*es-(4<es?9:0),W$4=es=>{let ts=es.length;for(;0<=--ts;)es[ts]=0},Fn=es=>{let ts,is,ns,rs=es.w_size;for(ts=es.hash_size,ns=ts;is=es.head[--ns],es.head[ns]=is>=rs?is-rs:0,--ts;);for(ts=rs,ns=ts;is=es.prev[--ns],es.prev[ns]=is>=rs?is-rs:0,--ts;);},Mn$1=(es,ts,is)=>(ts<<es.hash_shift^is)&es.hash_mask,V$1=Mn$1,L$6=es=>{var ts=es.state;let is=ts.pending;(is=is>es.avail_out?es.avail_out:is)!==0&&(es.output.set(ts.pending_buf.subarray(ts.pending_out,ts.pending_out+is),es.next_out),es.next_out+=is,ts.pending_out+=is,es.total_out+=is,es.avail_out-=is,ts.pending-=is,ts.pending===0)&&(ts.pending_out=0)},U$7=(es,ts)=>{gn$1(es,0<=es.block_start?es.block_start:-1,es.strstart-es.block_start,ts),es.block_start=es.strstart,L$6(es.strm)},z$1=(es,ts)=>{es.pending_buf[es.pending++]=ts},Ee$3=(es,ts)=>{es.pending_buf[es.pending++]=ts>>>8&255,es.pending_buf[es.pending++]=255&ts},ht$1=(es,ts,is,ns)=>{let rs=es.avail_in;return(rs=rs>ns?ns:rs)===0?0:(es.avail_in-=rs,ts.set(es.input.subarray(es.next_in,es.next_in+rs),is),es.state.wrap===1?es.adler=ve$1(es.adler,ts,rs,is):es.state.wrap===2&&(es.adler=Z$1(es.adler,ts,rs,is)),es.next_in+=rs,es.total_in+=rs,rs)},Yt=(es,ts)=>{let is,ns,rs=es.max_chain_length,ss=es.strstart,as=es.prev_length,os=es.nice_match;var ds=es.strstart>es.w_size-H$4?es.strstart-(es.w_size-H$4):0,ls=es.window,cs=es.w_mask,fs=es.prev,ps=es.strstart+j$2;let us=ls[ss+as-1],ms=ls[ss+as];es.good_match<=es.prev_length&&(rs>>=2),os>es.lookahead&&(os=es.lookahead);do if(ls[(is=ts)+as]===ms&&ls[is+as-1]===us&&ls[is]===ls[ss]&&ls[++is]===ls[ss+1]){for(ss+=2,is++;ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ls[++ss]===ls[++is]&&ss<ps;);if(ns=j$2-(ps-ss),ss=ps-j$2,ns>as){if(es.match_start=ts,(as=ns)>=os)break;us=ls[ss+as-1],ms=ls[ss+as]}}while((ts=fs[ts&cs])>ds&&--rs!=0);return as<=es.lookahead?as:es.lookahead},de$1=es=>{var ts=es.w_size;let is,ns,rs;do{if(ns=es.window_size-es.lookahead-es.strstart,es.strstart>=ts+(ts-H$4)&&(es.window.set(es.window.subarray(ts,ts+ts-ns),0),es.match_start-=ts,es.strstart-=ts,es.block_start-=ts,es.strstart<es.insert&&(es.insert=es.strstart),Fn(es),ns+=ts),es.strm.avail_in===0)break;if(is=ht$1(es.strm,es.window,es.strstart+es.lookahead,ns),es.lookahead+=is,es.lookahead+es.insert>=v$5)for(rs=es.strstart-es.insert,es.ins_h=es.window[rs],es.ins_h=V$1(es,es.ins_h,es.window[rs+1]);es.insert&&(es.ins_h=V$1(es,es.ins_h,es.window[rs+v$5-1]),es.prev[rs&es.w_mask]=es.head[es.ins_h],es.head[es.ins_h]=rs,rs++,es.insert--,!(es.lookahead+es.insert<v$5)););}while(es.lookahead<H$4&&es.strm.avail_in!==0)},Gt$1=(es,ts)=>{let is,ns,rs,ss=es.pending_buf_size-5>es.w_size?es.w_size:es.pending_buf_size-5,as=0,os=es.strm.avail_in;for(;is=65535,rs=es.bi_valid+42>>3,!(es.strm.avail_out<rs||(rs=es.strm.avail_out-rs,ns=es.strstart-es.block_start,(is=(is=is>ns+es.strm.avail_in?ns+es.strm.avail_in:is)>rs?rs:is)<ss&&(is===0&&ts!==C$4||ts===G||is!==ns+es.strm.avail_in)))&&(as=ts===C$4&&is===ns+es.strm.avail_in?1:0,it$1(es,0,0,as),es.pending_buf[es.pending-4]=is,es.pending_buf[es.pending-3]=is>>8,es.pending_buf[es.pending-2]=~is,es.pending_buf[es.pending-1]=~is>>8,L$6(es.strm),ns&&(ns>is&&(ns=is),es.strm.output.set(es.window.subarray(es.block_start,es.block_start+ns),es.strm.next_out),es.strm.next_out+=ns,es.strm.avail_out-=ns,es.strm.total_out+=ns,es.block_start+=ns,is-=ns),is&&(ht$1(es.strm,es.strm.output,es.strm.next_out,is),es.strm.next_out+=is,es.strm.avail_out-=is,es.strm.total_out+=is),as===0););return(os-=es.strm.avail_in)&&(es.w_size<=os?(es.matches=2,es.window.set(es.strm.input.subarray(es.strm.next_in-es.w_size,es.strm.next_in),0),es.strstart=es.w_size,es.insert=es.strstart):(es.window_size-es.strstart<=os&&(es.strstart-=es.w_size,es.window.set(es.window.subarray(es.w_size,es.w_size+es.strstart),0),es.matches<2&&es.matches++,es.strstart<es.insert)&&(es.insert=es.strstart),es.window.set(es.strm.input.subarray(es.strm.next_in-os,es.strm.next_in),es.strstart),es.strstart+=os,es.insert+=es.w_size-es.insert<os?es.w_size-es.insert:os),es.block_start=es.strstart),es.high_water<es.strstart&&(es.high_water=es.strstart),as?he$2:ts!==G&&ts!==C$4&&es.strm.avail_in===0&&es.strstart===es.block_start?_e$1:(rs=es.window_size-es.strstart,es.strm.avail_in>rs&&es.w_size<=es.block_start&&(es.block_start-=es.w_size,es.strstart-=es.w_size,es.window.set(es.window.subarray(es.w_size,es.w_size+es.strstart),0),es.matches<2&&es.matches++,rs+=es.w_size,es.strstart<es.insert)&&(es.insert=es.strstart),(rs=rs>es.strm.avail_in?es.strm.avail_in:rs)&&(ht$1(es.strm,es.window,es.strstart,rs),es.strstart+=rs,es.insert+=rs>es.w_size-es.insert?es.w_size-es.insert:rs),es.high_water<es.strstart&&(es.high_water=es.strstart),rs=es.bi_valid+42>>3,rs=65535<es.pending_buf_size-rs?65535:es.pending_buf_size-rs,ss=rs>es.w_size?es.w_size:rs,((ns=es.strstart-es.block_start)>=ss||(ns||ts===C$4)&&ts!==G&&es.strm.avail_in===0&&ns<=rs)&&(is=ns>rs?rs:ns,as=ts===C$4&&es.strm.avail_in===0&&is===ns?1:0,it$1(es,es.block_start,is,as),es.block_start+=is,L$6(es.strm)),as?ie$1:O$6)},dt$1=(es,ts)=>{let is,ns;for(;;){if(es.lookahead<H$4){if(de$1(es),es.lookahead<H$4&&ts===G)return O$6;if(es.lookahead===0)break}if(is=0,es.lookahead>=v$5&&(es.ins_h=V$1(es,es.ins_h,es.window[es.strstart+v$5-1]),is=es.prev[es.strstart&es.w_mask]=es.head[es.ins_h],es.head[es.ins_h]=es.strstart),is!==0&&es.strstart-is<=es.w_size-H$4&&(es.match_length=Yt(es,is)),es.match_length>=v$5)if(ns=Y(es,es.strstart-es.match_start,es.match_length-v$5),es.lookahead-=es.match_length,es.match_length<=es.max_lazy_match&&es.lookahead>=v$5){for(es.match_length--;es.strstart++,es.ins_h=V$1(es,es.ins_h,es.window[es.strstart+v$5-1]),is=es.prev[es.strstart&es.w_mask]=es.head[es.ins_h],es.head[es.ins_h]=es.strstart,--es.match_length!=0;);es.strstart++}else es.strstart+=es.match_length,es.match_length=0,es.ins_h=es.window[es.strstart],es.ins_h=V$1(es,es.ins_h,es.window[es.strstart+1]);else ns=Y(es,0,es.window[es.strstart]),es.lookahead--,es.strstart++;if(ns&&(U$7(es,!1),es.strm.avail_out===0))return O$6}return es.insert=es.strstart<v$5-1?es.strstart:v$5-1,ts===C$4?(U$7(es,!0),es.strm.avail_out===0?ie$1:he$2):es.sym_next&&(U$7(es,!1),es.strm.avail_out===0)?O$6:_e$1},se$1=(es,ts)=>{let is,ns,rs;for(;;){if(es.lookahead<H$4){if(de$1(es),es.lookahead<H$4&&ts===G)return O$6;if(es.lookahead===0)break}if(is=0,es.lookahead>=v$5&&(es.ins_h=V$1(es,es.ins_h,es.window[es.strstart+v$5-1]),is=es.prev[es.strstart&es.w_mask]=es.head[es.ins_h],es.head[es.ins_h]=es.strstart),es.prev_length=es.match_length,es.prev_match=es.match_start,es.match_length=v$5-1,is!==0&&es.prev_length<es.max_lazy_match&&es.strstart-is<=es.w_size-H$4&&(es.match_length=Yt(es,is),es.match_length<=5)&&(es.strategy===yn$1||es.match_length===v$5&&4096<es.strstart-es.match_start)&&(es.match_length=v$5-1),es.prev_length>=v$5&&es.match_length<=es.prev_length){for(rs=es.strstart+es.lookahead-v$5,ns=Y(es,es.strstart-1-es.prev_match,es.prev_length-v$5),es.lookahead-=es.prev_length-1,es.prev_length-=2;++es.strstart<=rs&&(es.ins_h=V$1(es,es.ins_h,es.window[es.strstart+v$5-1]),is=es.prev[es.strstart&es.w_mask]=es.head[es.ins_h],es.head[es.ins_h]=es.strstart),--es.prev_length!=0;);if(es.match_available=0,es.match_length=v$5-1,es.strstart++,ns&&(U$7(es,!1),es.strm.avail_out===0))return O$6}else if(es.match_available){if((ns=Y(es,0,es.window[es.strstart-1]))&&U$7(es,!1),es.strstart++,es.lookahead--,es.strm.avail_out===0)return O$6}else es.match_available=1,es.strstart++,es.lookahead--}return es.match_available&&(ns=Y(es,0,es.window[es.strstart-1]),es.match_available=0),es.insert=es.strstart<v$5-1?es.strstart:v$5-1,ts===C$4?(U$7(es,!0),es.strm.avail_out===0?ie$1:he$2):es.sym_next&&(U$7(es,!1),es.strm.avail_out===0)?O$6:_e$1},Hn=(es,ts)=>{let is,ns,rs,ss;for(var as=es.window;;){if(es.lookahead<=j$2){if(de$1(es),es.lookahead<=j$2&&ts===G)return O$6;if(es.lookahead===0)break}if(es.match_length=0,es.lookahead>=v$5&&0<es.strstart&&(rs=es.strstart-1,(ns=as[rs])===as[++rs])&&ns===as[++rs]&&ns===as[++rs]){for(ss=es.strstart+j$2;ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&ns===as[++rs]&&rs<ss;);es.match_length=j$2-(ss-rs),es.lookahead<es.match_length&&(es.match_length=es.lookahead)}if(es.match_length>=v$5?(is=Y(es,1,es.match_length-v$5),es.lookahead-=es.match_length,es.strstart+=es.match_length,es.match_length=0):(is=Y(es,0,es.window[es.strstart]),es.lookahead--,es.strstart++),is&&(U$7(es,!1),es.strm.avail_out===0))return O$6}return es.insert=0,ts===C$4?(U$7(es,!0),es.strm.avail_out===0?ie$1:he$2):es.sym_next&&(U$7(es,!1),es.strm.avail_out===0)?O$6:_e$1},Bn=(es,ts)=>{for(var is;;){if(es.lookahead===0&&(de$1(es),es.lookahead===0)){if(ts===G)return O$6;break}if(es.match_length=0,is=Y(es,0,es.window[es.strstart]),es.lookahead--,es.strstart++,is&&(U$7(es,!1),es.strm.avail_out===0))return O$6}return es.insert=0,ts===C$4?(U$7(es,!0),es.strm.avail_out===0?ie$1:he$2):es.sym_next&&(U$7(es,!1),es.strm.avail_out===0)?O$6:_e$1};function B$3(es,ts,is,ns,rs){this.good_length=es,this.max_lazy=ts,this.nice_length=is,this.max_chain=ns,this.func=rs}let ye$1=[new B$3(0,0,0,0,Gt$1),new B$3(4,4,8,4,dt$1),new B$3(4,5,16,8,dt$1),new B$3(4,6,32,32,dt$1),new B$3(4,4,16,16,se$1),new B$3(8,16,32,32,se$1),new B$3(8,16,128,128,se$1),new B$3(8,32,128,256,se$1),new B$3(32,128,258,1024,se$1),new B$3(32,258,258,4096,se$1)],Kn=es=>{es.window_size=2*es.w_size,W$4(es.head),es.max_lazy_match=ye$1[es.level].max_lazy,es.good_match=ye$1[es.level].good_length,es.nice_match=ye$1[es.level].nice_length,es.max_chain_length=ye$1[es.level].max_chain,es.strstart=0,es.block_start=0,es.lookahead=0,es.insert=0,es.match_length=es.prev_length=v$5-1,es.match_available=0,es.ins_h=0};function Pn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ce$1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Ln),this.dyn_dtree=new Uint16Array(2*(2*On$1+1)),this.bl_tree=new Uint16Array(2*(2*Nn+1)),W$4(this.dyn_ltree),W$4(this.dyn_dtree),W$4(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Un+1),this.heap=new Uint16Array(2*at$1+1),W$4(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*at$1+1),W$4(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let me$1=es=>{var ts;return!es||!(ts=es.state)||ts.strm!==es||ts.status!==oe&&ts.status!==rt$1&&ts.status!==lt$1&&ts.status!==ft$1&&ts.status!==ot$1&&ts.status!==_t$1&&ts.status!==te$1&&ts.status!==ke$1?1:0},jt=es=>{if(me$1(es))return ne$1(es,M$3);es.total_in=es.total_out=0,es.data_type=An$1;var ts=es.state;return ts.pending=0,ts.pending_out=0,ts.wrap<0&&(ts.wrap=-ts.wrap),ts.status=ts.wrap===2?rt$1:ts.wrap?oe:te$1,es.adler=ts.wrap===2?0:1,ts.last_flush=-2,bn$1(ts),I$4},Wt$1=es=>{var ts=jt(es);return ts===I$4&&Kn(es.state),ts},Xn=(es,ts)=>me$1(es)||es.state.wrap!==2?M$3:(es.state.gzhead=ts,I$4),Vt$1=(es,ts,is,ns,rs,ss)=>{if(!es)return M$3;let as=1;if(ts===En&&(ts=6),ns<0?(as=0,ns=-ns):15<ns&&(as=2,ns-=16),rs<1||rs>Rn$1||is!==Ce$1||ns<8||15<ns||ts<0||9<ts||ss<0||ss>zn||ns===8&&as!==1)return ne$1(es,M$3);ns===8&&(ns=9);var os=new Pn;return(es.state=os).strm=es,os.status=oe,os.wrap=as,os.gzhead=null,os.w_bits=ns,os.w_size=1<<os.w_bits,os.w_mask=os.w_size-1,os.hash_bits=rs+7,os.hash_size=1<<os.hash_bits,os.hash_mask=os.hash_size-1,os.hash_shift=~~((os.hash_bits+v$5-1)/v$5),os.window=new Uint8Array(2*os.w_size),os.head=new Uint16Array(os.hash_size),os.prev=new Uint16Array(os.w_size),os.lit_bufsize=1<<rs+6,os.pending_buf_size=4*os.lit_bufsize,os.pending_buf=new Uint8Array(os.pending_buf_size),os.sym_buf=os.lit_bufsize,os.sym_end=3*(os.lit_bufsize-1),os.level=ts,os.strategy=ss,os.method=is,Wt$1(es)},Yn=(es,ts)=>Vt$1(es,ts,Ce$1,Tn,Dn,Sn$1),Gn=(es,ts)=>{if(me$1(es)||ts>Kt$1||ts<0)return es?ne$1(es,M$3):M$3;var is=es.state;if(!es.output||es.avail_in!==0&&!es.input||is.status===ke$1&&ts!==C$4)return ne$1(es,es.avail_out===0?nt$1:M$3);var ns=is.last_flush;if(is.last_flush=ts,is.pending!==0){if(L$6(es),es.avail_out===0)return is.last_flush=-1,I$4}else if(es.avail_in===0&&Xt(ts)<=Xt(ns)&&ts!==C$4)return ne$1(es,nt$1);if(is.status===ke$1&&es.avail_in!==0)return ne$1(es,nt$1);if(is.status===oe&&is.wrap===0&&(is.status=te$1),is.status===oe){let ss=Ce$1+(is.w_bits-8<<4)<<8,as;if(as=is.strategy>=Ue$1||is.level<2?0:is.level<6?1:is.level===6?2:3,ss|=as<<6,is.strstart!==0&&(ss|=Cn$1),ss+=31-ss%31,Ee$3(is,ss),is.strstart!==0&&(Ee$3(is,es.adler>>>16),Ee$3(is,65535&es.adler)),es.adler=1,is.status=te$1,L$6(es),is.pending!==0)return is.last_flush=-1,I$4}if(is.status===rt$1){if(es.adler=0,z$1(is,31),z$1(is,139),z$1(is,8),is.gzhead)z$1(is,(is.gzhead.text?1:0)+(is.gzhead.hcrc?2:0)+(is.gzhead.extra?4:0)+(is.gzhead.name?8:0)+(is.gzhead.comment?16:0)),z$1(is,255&is.gzhead.time),z$1(is,is.gzhead.time>>8&255),z$1(is,is.gzhead.time>>16&255),z$1(is,is.gzhead.time>>24&255),z$1(is,is.level===9?2:is.strategy>=Ue$1||is.level<2?4:0),z$1(is,255&is.gzhead.os),is.gzhead.extra&&is.gzhead.extra.length&&(z$1(is,255&is.gzhead.extra.length),z$1(is,is.gzhead.extra.length>>8&255)),is.gzhead.hcrc&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending,0)),is.gzindex=0,is.status=lt$1;else if(z$1(is,0),z$1(is,0),z$1(is,0),z$1(is,0),z$1(is,0),z$1(is,is.level===9?2:is.strategy>=Ue$1||is.level<2?4:0),z$1(is,$n),is.status=te$1,L$6(es),is.pending!==0)return is.last_flush=-1,I$4}if(is.status===lt$1){if(is.gzhead.extra){let ss=is.pending,as=(65535&is.gzhead.extra.length)-is.gzindex;for(;is.pending+as>is.pending_buf_size;){var rs=is.pending_buf_size-is.pending;if(is.pending_buf.set(is.gzhead.extra.subarray(is.gzindex,is.gzindex+rs),is.pending),is.pending=is.pending_buf_size,is.gzhead.hcrc&&is.pending>ss&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-ss,ss)),is.gzindex+=rs,L$6(es),is.pending!==0)return is.last_flush=-1,I$4;ss=0,as-=rs}ns=new Uint8Array(is.gzhead.extra),is.pending_buf.set(ns.subarray(is.gzindex,is.gzindex+as),is.pending),is.pending+=as,is.gzhead.hcrc&&is.pending>ss&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-ss,ss)),is.gzindex=0}is.status=ft$1}if(is.status===ft$1){if(is.gzhead.name){let ss,as=is.pending;do if(is.pending===is.pending_buf_size){if(is.gzhead.hcrc&&is.pending>as&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-as,as)),L$6(es),is.pending!==0)return is.last_flush=-1,I$4;as=0}while(ss=is.gzindex<is.gzhead.name.length?255&is.gzhead.name.charCodeAt(is.gzindex++):0,z$1(is,ss),ss!=0);is.gzhead.hcrc&&is.pending>as&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-as,as)),is.gzindex=0}is.status=ot$1}if(is.status===ot$1){if(is.gzhead.comment){let ss,as=is.pending;do if(is.pending===is.pending_buf_size){if(is.gzhead.hcrc&&is.pending>as&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-as,as)),L$6(es),is.pending!==0)return is.last_flush=-1,I$4;as=0}while(ss=is.gzindex<is.gzhead.comment.length?255&is.gzhead.comment.charCodeAt(is.gzindex++):0,z$1(is,ss),ss!=0);is.gzhead.hcrc&&is.pending>as&&(es.adler=Z$1(es.adler,is.pending_buf,is.pending-as,as))}is.status=_t$1}if(is.status===_t$1){if(is.gzhead.hcrc){if(is.pending_buf_size<is.pending+2&&(L$6(es),is.pending!==0))return is.last_flush=-1,I$4;z$1(is,255&es.adler),z$1(is,es.adler>>8&255),es.adler=0}if(is.status=te$1,L$6(es),is.pending!==0)return is.last_flush=-1,I$4}if(es.avail_in!==0||is.lookahead!==0||ts!==G&&is.status!==ke$1){if(ns=is.level===0?Gt$1(is,ts):is.strategy===Ue$1?Bn(is,ts):is.strategy===mn$1?Hn(is,ts):ye$1[is.level].func(is,ts),ns!==ie$1&&ns!==he$2||(is.status=ke$1),ns===O$6||ns===ie$1)return es.avail_out===0&&(is.last_flush=-1),I$4;if(ns===_e$1&&(ts===xn?pn$1(is):ts!==Kt$1&&(it$1(is,0,0,!1),ts===vn$1)&&(W$4(is.head),is.lookahead===0)&&(is.strstart=0,is.block_start=0,is.insert=0),L$6(es),es.avail_out===0))return is.last_flush=-1,I$4}return ts!==C$4||!(is.wrap<=0)&&(is.wrap===2?(z$1(is,255&es.adler),z$1(is,es.adler>>8&255),z$1(is,es.adler>>16&255),z$1(is,es.adler>>24&255),z$1(is,255&es.total_in),z$1(is,es.total_in>>8&255),z$1(is,es.total_in>>16&255),z$1(is,es.total_in>>24&255)):(Ee$3(is,es.adler>>>16),Ee$3(is,65535&es.adler)),L$6(es),0<is.wrap&&(is.wrap=-is.wrap),is.pending!==0)?I$4:Pt$1},jn=es=>{var ts;return me$1(es)?M$3:(ts=es.state.status,es.state=null,ts===te$1?ne$1(es,kn):I$4)},Wn=(es,ts)=>{let is=ts.length;if(me$1(es))return M$3;var ns=es.state,rs=ns.wrap;if(rs===2||rs===1&&ns.status!==oe||ns.lookahead)return M$3;rs===1&&(es.adler=ve$1(es.adler,ts,is,0)),ns.wrap=0,is>=ns.w_size&&(rs===0&&(W$4(ns.head),ns.strstart=0,ns.block_start=0,ns.insert=0),(ss=new Uint8Array(ns.w_size)).set(ts.subarray(is-ns.w_size,is),0),ts=ss,is=ns.w_size);var ss=es.avail_in,as=es.next_in,os=es.input;for(es.avail_in=is,es.next_in=0,es.input=ts,de$1(ns);ns.lookahead>=v$5;){let ds=ns.strstart,ls=ns.lookahead-(v$5-1);for(;ns.ins_h=V$1(ns,ns.ins_h,ns.window[ds+v$5-1]),ns.prev[ds&ns.w_mask]=ns.head[ns.ins_h],ns.head[ns.ins_h]=ds,ds++,--ls;);ns.strstart=ds,ns.lookahead=v$5-1,de$1(ns)}return ns.strstart+=ns.lookahead,ns.block_start=ns.strstart,ns.insert=ns.lookahead,ns.lookahead=0,ns.match_length=ns.prev_length=v$5-1,ns.match_available=0,es.next_in=as,es.input=os,es.avail_in=ss,ns.wrap=rs,I$4};var Vn=Yn,Jn=Vt$1,Qn=Wt$1,qn=jt,ea=Xn,ta=Gn,ia=jn,na=Wn,aa="pako deflate (from Nodeca project)",ze$1={deflateInit:Vn,deflateInit2:Jn,deflateReset:Qn,deflateResetKeep:qn,deflateSetHeader:ea,deflate:ta,deflateEnd:ia,deflateSetDictionary:na,deflateInfo:aa};let ra=(es,ts)=>Object.prototype.hasOwnProperty.call(es,ts);var la=function(es){let ts=Array.prototype.slice.call(arguments,1);for(;ts.length;){var is=ts.shift();if(is){if(typeof is!="object")throw new TypeError(is+"must be non-object");for(let ns in is)ra(is,ns)&&(es[ns]=is[ns])}}return es},fa=es=>{let ts=0;for(let rs=0,ss=es.length;rs<ss;rs++)ts+=es[rs].length;var is=new Uint8Array(ts);for(let rs=0,ss=0,as=es.length;rs<as;rs++){var ns=es[rs];is.set(ns,ss),ss+=ns.length}return is},$e$1={assign:la,flattenChunks:fa};let Jt$1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(es){Jt$1=!1}let Se$1=new Uint8Array(256);for(let es=0;es<256;es++)Se$1[es]=252<=es?6:248<=es?5:240<=es?4:224<=es?3:192<=es?2:1;Se$1[254]=Se$1[254]=1;var oa=es=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(es);let ts,is,ns,rs,ss,as=es.length,os=0;for(rs=0;rs<as;rs++)(64512&(is=es.charCodeAt(rs)))==55296&&rs+1<as&&(64512&(ns=es.charCodeAt(rs+1)))==56320&&(is=65536+(is-55296<<10)+(ns-56320),rs++),os+=is<128?1:is<2048?2:is<65536?3:4;for(ts=new Uint8Array(os),ss=0,rs=0;ss<os;rs++)(64512&(is=es.charCodeAt(rs)))==55296&&rs+1<as&&(64512&(ns=es.charCodeAt(rs+1)))==56320&&(is=65536+(is-55296<<10)+(ns-56320),rs++),is<128?ts[ss++]=is:(is<2048?ts[ss++]=192|is>>>6:(is<65536?ts[ss++]=224|is>>>12:(ts[ss++]=240|is>>>18,ts[ss++]=128|is>>>12&63),ts[ss++]=128|is>>>6&63),ts[ss++]=128|63&is);return ts};let _a=(es,ts)=>{if(ts<65534&&es.subarray&&Jt$1)return String.fromCharCode.apply(null,es.length===ts?es:es.subarray(0,ts));let is="";for(let ns=0;ns<ts;ns++)is+=String.fromCharCode(es[ns]);return is};var ha=(es,ts)=>{var is=ts||es.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(es.subarray(0,ts));let ns,rs;var ss=new Array(2*is);for(rs=0,ns=0;ns<is;){let as=es[ns++];if(as<128)ss[rs++]=as;else{let os=Se$1[as];if(4<os)ss[rs++]=65533,ns+=os-1;else{for(as&=os===2?31:os===3?15:7;1<os&&ns<is;)as=as<<6|63&es[ns++],os--;1<os?ss[rs++]=65533:as<65536?ss[rs++]=as:(as-=65536,ss[rs++]=55296|as>>10&1023,ss[rs++]=56320|1023&as)}}}return _a(ss,rs)},da=(es,ts)=>{let is=(ts=(ts=ts||es.length)>es.length?es.length:ts)-1;for(;0<=is&&(192&es[is])==128;)is--;return!(is<0||is===0)&&is+Se$1[es[is]]>ts?is:ts},Ae$1={string2buf:oa,buf2string:ha,utf8border:da};function sa(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qt$1=sa;let qt$1=Object.prototype.toString,{Z_NO_FLUSH:ca,Z_SYNC_FLUSH:ua,Z_FULL_FLUSH:wa,Z_FINISH:ba,Z_OK:Fe$1,Z_STREAM_END:ga,Z_DEFAULT_COMPRESSION:pa,Z_DEFAULT_STRATEGY:xa,Z_DEFLATED:va}=ee$2;function Re$1(es){if(this.options=$e$1.assign({level:pa,method:va,chunkSize:16384,windowBits:15,memLevel:8,strategy:xa},es||{}),es=this.options,es.raw&&0<es.windowBits?es.windowBits=-es.windowBits:es.gzip&&0<es.windowBits&&es.windowBits<16&&(es.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt$1,this.strm.avail_out=0,(ts=ze$1.deflateInit2(this.strm,es.level,es.method,es.windowBits,es.memLevel,es.strategy))!==Fe$1)throw new Error(q$2[ts]);if(es.header&&ze$1.deflateSetHeader(this.strm,es.header),es.dictionary){var ts,es=typeof es.dictionary=="string"?Ae$1.string2buf(es.dictionary):qt$1.call(es.dictionary)==="[object ArrayBuffer]"?new Uint8Array(es.dictionary):es.dictionary;if((ts=ze$1.deflateSetDictionary(this.strm,es))!==Fe$1)throw new Error(q$2[ts]);this._dict_set=!0}}function st$1(es,ts){if(ts=new Re$1(ts),ts.push(es,!0),ts.err)throw ts.msg||q$2[ts.err];return ts.result}function ka(es,ts){return(ts=ts||{}).raw=!0,st$1(es,ts)}function Ea(es,ts){return(ts=ts||{}).gzip=!0,st$1(es,ts)}Re$1.prototype.push=function(es,ts){var is,ns,rs=this.strm,ss=this.options.chunkSize;if(this.ended)return!1;for(ns=ts===~~ts?ts:ts===!0?ba:ca,typeof es=="string"?rs.input=Ae$1.string2buf(es):qt$1.call(es)==="[object ArrayBuffer]"?rs.input=new Uint8Array(es):rs.input=es,rs.next_in=0,rs.avail_in=rs.input.length;;)if(rs.avail_out===0&&(rs.output=new Uint8Array(ss),rs.next_out=0,rs.avail_out=ss),(ns===ua||ns===wa)&&rs.avail_out<=6)this.onData(rs.output.subarray(0,rs.next_out)),rs.avail_out=0;else{if(ze$1.deflate(rs,ns)===ga)return 0<rs.next_out&&this.onData(rs.output.subarray(0,rs.next_out)),is=ze$1.deflateEnd(this.strm),this.onEnd(is),this.ended=!0,is===Fe$1;if(rs.avail_out!==0){if(0<ns&&0<rs.next_out)this.onData(rs.output.subarray(0,rs.next_out)),rs.avail_out=0;else if(rs.avail_in===0)break}else this.onData(rs.output)}return!0},Re$1.prototype.onData=function(es){this.chunks.push(es)},Re$1.prototype.onEnd=function(es){es===Fe$1&&(this.result=$e$1.flattenChunks(this.chunks)),this.chunks=[],this.err=es,this.msg=this.strm.msg};var ya=Re$1,ma=st$1,za=ka,Sa=Ea,Aa=ee$2,Ra={Deflate:ya,deflate:ma,deflateRaw:za,gzip:Sa,constants:Aa};let Me$1=16209,Ta=16191;var Da=function(es,ts){let is,ns,rs,ss,as,os,ds,ls,cs,fs,ps,us,ms,$s,hs,gs,ws,vs,Ss,Ts,Cs,_s,ys,Es;var bs=es.state;is=es.next_in,ys=es.input,ns=is+(es.avail_in-5),rs=es.next_out,Es=es.output,ss=rs-(ts-es.avail_out),as=rs+(es.avail_out-257),os=bs.dmax,ds=bs.wsize,ls=bs.whave,cs=bs.wnext,fs=bs.window,ps=bs.hold,us=bs.bits,ms=bs.lencode,$s=bs.distcode,hs=(1<<bs.lenbits)-1,gs=(1<<bs.distbits)-1;e:do for(us<15&&(ps+=ys[is++]<<us,us+=8,ps+=ys[is++]<<us,us+=8),ws=ms[ps&hs];;){if(vs=ws>>>24,ps>>>=vs,us-=vs,(vs=ws>>>16&255)===0)Es[rs++]=65535&ws;else{if(!(16&vs)){if(64&vs){if(32&vs){bs.mode=Ta;break e}es.msg="invalid literal/length code",bs.mode=Me$1;break e}ws=ms[(65535&ws)+(ps&(1<<vs)-1)];continue}for(Ss=65535&ws,(vs&=15)&&(us<vs&&(ps+=ys[is++]<<us,us+=8),Ss+=ps&(1<<vs)-1,ps>>>=vs,us-=vs),us<15&&(ps+=ys[is++]<<us,us+=8,ps+=ys[is++]<<us,us+=8),ws=$s[ps&gs];;){if(vs=ws>>>24,ps>>>=vs,us-=vs,16&(vs=ws>>>16&255)){if(Ts=65535&ws,vs&=15,us<vs&&(ps+=ys[is++]<<us,(us+=8)<vs)&&(ps+=ys[is++]<<us,us+=8),os<(Ts+=ps&(1<<vs)-1)){es.msg="invalid distance too far back",bs.mode=Me$1;break e}if(ps>>>=vs,us-=vs,Ts>(vs=rs-ss)){if((vs=Ts-vs)>ls&&bs.sane){es.msg="invalid distance too far back",bs.mode=Me$1;break e}if(Cs=0,_s=fs,cs===0){if(Cs+=ds-vs,vs<Ss){for(Ss-=vs;Es[rs++]=fs[Cs++],--vs;);Cs=rs-Ts,_s=Es}}else if(cs<vs){if(Cs+=ds+cs-vs,(vs-=cs)<Ss){for(Ss-=vs;Es[rs++]=fs[Cs++],--vs;);if(Cs=0,cs<Ss){for(vs=cs,Ss-=vs;Es[rs++]=fs[Cs++],--vs;);Cs=rs-Ts,_s=Es}}}else if(Cs+=cs-vs,vs<Ss){for(Ss-=vs;Es[rs++]=fs[Cs++],--vs;);Cs=rs-Ts,_s=Es}for(;2<Ss;)Es[rs++]=_s[Cs++],Es[rs++]=_s[Cs++],Es[rs++]=_s[Cs++],Ss-=3;Ss&&(Es[rs++]=_s[Cs++],1<Ss)&&(Es[rs++]=_s[Cs++])}else{for(Cs=rs-Ts;Es[rs++]=Es[Cs++],Es[rs++]=Es[Cs++],Es[rs++]=Es[Cs++],2<(Ss-=3););Ss&&(Es[rs++]=Es[Cs++],1<Ss)&&(Es[rs++]=Es[Cs++])}break}if(64&vs){es.msg="invalid distance code",bs.mode=Me$1;break e}ws=$s[(65535&ws)+(ps&(1<<vs)-1)]}}break}while(is<ns&&rs<as);Ss=us>>3,is-=Ss,us-=Ss<<3,ps&=(1<<us)-1,es.next_in=is,es.next_out=rs,es.avail_in=is<ns?ns-is+5:5-(is-ns),es.avail_out=rs<as?as-rs+257:257-(rs-as),bs.hold=ps,bs.bits=us};let ce$1=15,ei=852,ti=592,ii=0,ct$1=1,ni=2,Za=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ia=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oa=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Na=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),La=(es,ts,is,ns,rs,ss,as,os)=>{var ds=os.bits;let ls,cs,fs,ps,us,ms,$s=0,hs=0,gs=0,ws=0,vs=0,Ss=0,Ts=0,Cs=0,_s=0,ys=0,Es=null;var bs=new Uint16Array(ce$1+1),Is=new Uint16Array(ce$1+1);let Ms,Ls,Gs,xs=null;for($s=0;$s<=ce$1;$s++)bs[$s]=0;for(hs=0;hs<ns;hs++)bs[ts[is+hs]]++;for(vs=ds,ws=ce$1;1<=ws&&bs[ws]===0;ws--);if(vs>ws&&(vs=ws),ws===0)rs[ss++]=20971520,rs[ss++]=20971520,os.bits=1;else{for(gs=1;gs<ws&&bs[gs]===0;gs++);for(vs<gs&&(vs=gs),Cs=1,$s=1;$s<=ce$1;$s++)if((Cs=(Cs<<=1)-bs[$s])<0)return-1;if(0<Cs&&(es===ii||ws!==1))return-1;for(Is[1]=0,$s=1;$s<ce$1;$s++)Is[$s+1]=Is[$s]+bs[$s];for(hs=0;hs<ns;hs++)ts[is+hs]!==0&&(as[Is[ts[is+hs]]++]=hs);if(ms=es===ii?(Es=xs=as,20):es===ct$1?(Es=Za,xs=Ia,257):(Es=Oa,xs=Na,0),ys=0,hs=0,$s=gs,us=ss,Ss=vs,Ts=0,fs=-1,ps=(_s=1<<vs)-1,es===ct$1&&_s>ei||es===ni&&_s>ti)return 1;for(;;){for(Ms=$s-Ts,Gs=as[hs]+1<ms?(Ls=0,as[hs]):as[hs]>=ms?(Ls=xs[as[hs]-ms],Es[as[hs]-ms]):(Ls=96,0),ls=1<<$s-Ts,cs=1<<Ss,gs=cs;cs-=ls,rs[us+(ys>>Ts)+cs]=Ms<<24|Ls<<16|Gs,cs!==0;);for(ls=1<<$s-1;ys&ls;)ls>>=1;if(ls!==0?ys=(ys&=ls-1)+ls:ys=0,hs++,--bs[$s]==0){if($s===ws)break;$s=ts[is+as[hs]]}if($s>vs&&(ys&ps)!==fs){for(Ts===0&&(Ts=vs),us+=gs,Ss=$s-Ts,Cs=1<<Ss;Ss+Ts<ws&&!((Cs-=bs[Ss+Ts])<=0);)Ss++,Cs<<=1;if(_s+=1<<Ss,es===ct$1&&_s>ei||es===ni&&_s>ti)return 1;rs[fs=ys&ps]=vs<<24|Ss<<16|us-ss}}ys!==0&&(rs[us+ys]=$s-Ts<<24|64<<16),os.bits=vs}return 0};var Te$1=La;let Ua=0,ai=1,ri=2,{Z_FINISH:li,Z_BLOCK:Ca,Z_TREES:He$1,Z_OK:ae,Z_STREAM_END:$a,Z_NEED_DICT:Fa,Z_STREAM_ERROR:$$1,Z_DATA_ERROR:fi,Z_MEM_ERROR:oi,Z_BUF_ERROR:Ma,Z_DEFLATED:_i}=ee$2,Be=16180,hi=16181,di=16182,si=16183,ci=16184,ui=16185,wi=16186,bi=16187,gi=16188,pi=16189,Ke$1=16190,P$5=16191,ut$1=16192,xi=16193,wt$1=16194,vi=16195,ki=16196,Ei=16197,yi=16198,Pe$1=16199,Xe$1=16200,mi=16201,zi=16202,Si=16203,Ai=16204,Ri=16205,bt$1=16206,Ti=16207,Di=16208,R$1=16209,Zi=16210,Ii=16211,Ha=852,Ba=592,Ka=15,Pa=Ka,Oi=es=>(es>>>24&255)+(es>>>8&65280)+((65280&es)<<8)+((255&es)<<24);function Xa(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let re$1=es=>{var ts;return!es||!(ts=es.state)||ts.strm!==es||ts.mode<Be||ts.mode>Ii?1:0},Ni=es=>{var ts;return re$1(es)?$$1:(ts=es.state,es.total_in=es.total_out=ts.total=0,es.msg="",ts.wrap&&(es.adler=1&ts.wrap),ts.mode=Be,ts.last=0,ts.havedict=0,ts.flags=-1,ts.dmax=32768,ts.head=null,ts.hold=0,ts.bits=0,ts.lencode=ts.lendyn=new Int32Array(Ha),ts.distcode=ts.distdyn=new Int32Array(Ba),ts.sane=1,ts.back=-1,ae)},Li=es=>{var ts;return re$1(es)?$$1:((ts=es.state).wsize=0,ts.whave=0,ts.wnext=0,Ni(es))},Ui=(es,ts)=>{let is;var ns;return re$1(es)||(ns=es.state,ts<0?(is=0,ts=-ts):(is=5+(ts>>4),ts<48&&(ts&=15)),ts&&(ts<8||15<ts))?$$1:(ns.window!==null&&ns.wbits!==ts&&(ns.window=null),ns.wrap=is,ns.wbits=ts,Li(es))},Ci=(es,ts)=>{var is;return es?(is=new Xa,(es.state=is).strm=es,is.window=null,is.mode=Be,(is=Ui(es,ts))!==ae&&(es.state=null),is):$$1},Ya=es=>Ci(es,Pa),$i=!0,gt$1,pt$1,Ga=es=>{if($i){gt$1=new Int32Array(512),pt$1=new Int32Array(32);let ts=0;for(;ts<144;)es.lens[ts++]=8;for(;ts<256;)es.lens[ts++]=9;for(;ts<280;)es.lens[ts++]=7;for(;ts<288;)es.lens[ts++]=8;for(Te$1(ai,es.lens,0,288,gt$1,0,es.work,{bits:9}),ts=0;ts<32;)es.lens[ts++]=5;Te$1(ri,es.lens,0,32,pt$1,0,es.work,{bits:5}),$i=!1}es.lencode=gt$1,es.lenbits=9,es.distcode=pt$1,es.distbits=5},Fi=(es,ts,is,ns)=>{let rs;return es=es.state,es.window===null&&(es.wsize=1<<es.wbits,es.wnext=0,es.whave=0,es.window=new Uint8Array(es.wsize)),es.wsize<=ns?(es.window.set(ts.subarray(is-es.wsize,is),0),es.wnext=0,es.whave=es.wsize):((rs=es.wsize-es.wnext)>ns&&(rs=ns),es.window.set(ts.subarray(is-ns,is-ns+rs),es.wnext),(ns-=rs)?(es.window.set(ts.subarray(is-ns,is),0),es.wnext=ns,es.whave=es.wsize):(es.wnext+=rs,es.wnext===es.wsize&&(es.wnext=0),es.whave<es.wsize&&(es.whave+=rs))),0},ja=(es,ts)=>{let is,ns,rs,ss,as,os,ds,ls,cs,fs,ps,us,ms,$s,hs,gs,ws,vs,Ss,Ts,Cs,_s,ys=0;var Es=new Uint8Array(4);let bs,Is;var Ms=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(re$1(es)||!es.output||!es.input&&es.avail_in!==0)return $$1;(is=es.state).mode===P$5&&(is.mode=ut$1),as=es.next_out,rs=es.output,ds=es.avail_out,ss=es.next_in,ns=es.input,os=es.avail_in,ls=is.hold,cs=is.bits,fs=os,ps=ds,_s=ae;e:for(;;)switch(is.mode){case Be:if(is.wrap===0)is.mode=ut$1;else{for(;cs<16;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}2&is.wrap&&ls===35615?(is.wbits===0&&(is.wbits=15),Es[is.check=0]=255&ls,Es[1]=ls>>>8&255,is.check=Z$1(is.check,Es,2,0),ls=0,cs=0,is.mode=hi):(is.head&&(is.head.done=!1),!(1&is.wrap)||(((255&ls)<<8)+(ls>>8))%31?(es.msg="incorrect header check",is.mode=R$1):(15&ls)!==_i?(es.msg="unknown compression method",is.mode=R$1):(ls>>>=4,cs-=4,Cs=8+(15&ls),is.wbits===0&&(is.wbits=Cs),15<Cs||Cs>is.wbits?(es.msg="invalid window size",is.mode=R$1):(is.dmax=1<<is.wbits,is.flags=0,es.adler=is.check=1,is.mode=512&ls?pi:P$5,ls=0,cs=0)))}break;case hi:for(;cs<16;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(is.flags=ls,(255&is.flags)!==_i){es.msg="unknown compression method",is.mode=R$1;break}if(57344&is.flags){es.msg="unknown header flags set",is.mode=R$1;break}is.head&&(is.head.text=ls>>8&1),512&is.flags&&4&is.wrap&&(Es[0]=255&ls,Es[1]=ls>>>8&255,is.check=Z$1(is.check,Es,2,0)),ls=0,cs=0,is.mode=di;case di:for(;cs<32;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.head&&(is.head.time=ls),512&is.flags&&4&is.wrap&&(Es[0]=255&ls,Es[1]=ls>>>8&255,Es[2]=ls>>>16&255,Es[3]=ls>>>24&255,is.check=Z$1(is.check,Es,4,0)),ls=0,cs=0,is.mode=si;case si:for(;cs<16;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.head&&(is.head.xflags=255&ls,is.head.os=ls>>8),512&is.flags&&4&is.wrap&&(Es[0]=255&ls,Es[1]=ls>>>8&255,is.check=Z$1(is.check,Es,2,0)),ls=0,cs=0,is.mode=ci;case ci:if(1024&is.flags){for(;cs<16;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.length=ls,is.head&&(is.head.extra_len=ls),512&is.flags&&4&is.wrap&&(Es[0]=255&ls,Es[1]=ls>>>8&255,is.check=Z$1(is.check,Es,2,0)),ls=0,cs=0}else is.head&&(is.head.extra=null);is.mode=ui;case ui:if(1024&is.flags&&((us=(us=is.length)>os?os:us)&&(is.head&&(Cs=is.head.extra_len-is.length,is.head.extra||(is.head.extra=new Uint8Array(is.head.extra_len)),is.head.extra.set(ns.subarray(ss,ss+us),Cs)),512&is.flags&&4&is.wrap&&(is.check=Z$1(is.check,ns,us,ss)),os-=us,ss+=us,is.length-=us),is.length))break e;is.length=0,is.mode=wi;case wi:if(2048&is.flags){if(os===0)break e;for(us=0;Cs=ns[ss+us++],is.head&&Cs&&is.length<65536&&(is.head.name+=String.fromCharCode(Cs)),Cs&&us<os;);if(512&is.flags&&4&is.wrap&&(is.check=Z$1(is.check,ns,us,ss)),os-=us,ss+=us,Cs)break e}else is.head&&(is.head.name=null);is.length=0,is.mode=bi;case bi:if(4096&is.flags){if(os===0)break e;for(us=0;Cs=ns[ss+us++],is.head&&Cs&&is.length<65536&&(is.head.comment+=String.fromCharCode(Cs)),Cs&&us<os;);if(512&is.flags&&4&is.wrap&&(is.check=Z$1(is.check,ns,us,ss)),os-=us,ss+=us,Cs)break e}else is.head&&(is.head.comment=null);is.mode=gi;case gi:if(512&is.flags){for(;cs<16;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(4&is.wrap&&ls!==(65535&is.check)){es.msg="header crc mismatch",is.mode=R$1;break}ls=0,cs=0}is.head&&(is.head.hcrc=is.flags>>9&1,is.head.done=!0),es.adler=is.check=0,is.mode=P$5;break;case pi:for(;cs<32;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}es.adler=is.check=Oi(ls),ls=0,cs=0,is.mode=Ke$1;case Ke$1:if(is.havedict===0)return es.next_out=as,es.avail_out=ds,es.next_in=ss,es.avail_in=os,is.hold=ls,is.bits=cs,Fa;es.adler=is.check=1,is.mode=P$5;case P$5:if(ts===Ca||ts===He$1)break e;case ut$1:if(is.last)ls>>>=7&cs,cs-=7&cs,is.mode=bt$1;else{for(;cs<3;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}switch(is.last=1&ls,ls>>>=1,--cs,3&ls){case 0:is.mode=xi;break;case 1:if(Ga(is),is.mode=Pe$1,ts!==He$1)break;ls>>>=2,cs-=2;break e;case 2:is.mode=ki;break;case 3:es.msg="invalid block type",is.mode=R$1}ls>>>=2,cs-=2}break;case xi:for(ls>>>=7&cs,cs-=7&cs;cs<32;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if((65535&ls)!=(ls>>>16^65535)){es.msg="invalid stored block lengths",is.mode=R$1;break}if(is.length=65535&ls,ls=0,cs=0,is.mode=wt$1,ts===He$1)break e;case wt$1:is.mode=vi;case vi:if(us=is.length){if((us=(us=us>os?os:us)>ds?ds:us)===0)break e;rs.set(ns.subarray(ss,ss+us),as),os-=us,ss+=us,ds-=us,as+=us,is.length-=us}else is.mode=P$5;break;case ki:for(;cs<14;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(is.nlen=257+(31&ls),ls>>>=5,cs-=5,is.ndist=1+(31&ls),ls>>>=5,cs-=5,is.ncode=4+(15&ls),ls>>>=4,cs-=4,286<is.nlen||30<is.ndist){es.msg="too many length or distance symbols",is.mode=R$1;break}is.have=0,is.mode=Ei;case Ei:for(;is.have<is.ncode;){for(;cs<3;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.lens[Ms[is.have++]]=7&ls,ls>>>=3,cs-=3}for(;is.have<19;)is.lens[Ms[is.have++]]=0;if(is.lencode=is.lendyn,is.lenbits=7,bs={bits:is.lenbits},_s=Te$1(Ua,is.lens,0,19,is.lencode,0,is.work,bs),is.lenbits=bs.bits,_s){es.msg="invalid code lengths set",is.mode=R$1;break}is.have=0,is.mode=yi;case yi:for(;is.have<is.nlen+is.ndist;){for(;ys=is.lencode[ls&(1<<is.lenbits)-1],hs=ys>>>24,gs=ys>>>16&255,ws=65535&ys,!(hs<=cs);){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(ws<16)ls>>>=hs,cs-=hs,is.lens[is.have++]=ws;else{if(ws===16){for(Is=hs+2;cs<Is;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(ls>>>=hs,cs-=hs,is.have===0){es.msg="invalid bit length repeat",is.mode=R$1;break}Cs=is.lens[is.have-1],us=3+(3&ls),ls>>>=2,cs-=2}else if(ws===17){for(Is=hs+3;cs<Is;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}ls>>>=hs,cs-=hs,Cs=0,us=3+(7&ls),ls>>>=3,cs-=3}else{for(Is=hs+7;cs<Is;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}ls>>>=hs,cs-=hs,Cs=0,us=11+(127&ls),ls>>>=7,cs-=7}if(is.have+us>is.nlen+is.ndist){es.msg="invalid bit length repeat",is.mode=R$1;break}for(;us--;)is.lens[is.have++]=Cs}}if(is.mode===R$1)break;if(is.lens[256]===0){es.msg="invalid code -- missing end-of-block",is.mode=R$1;break}if(is.lenbits=9,bs={bits:is.lenbits},_s=Te$1(ai,is.lens,0,is.nlen,is.lencode,0,is.work,bs),is.lenbits=bs.bits,_s){es.msg="invalid literal/lengths set",is.mode=R$1;break}if(is.distbits=6,is.distcode=is.distdyn,bs={bits:is.distbits},_s=Te$1(ri,is.lens,is.nlen,is.ndist,is.distcode,0,is.work,bs),is.distbits=bs.bits,_s){es.msg="invalid distances set",is.mode=R$1;break}if(is.mode=Pe$1,ts===He$1)break e;case Pe$1:is.mode=Xe$1;case Xe$1:if(6<=os&&258<=ds){es.next_out=as,es.avail_out=ds,es.next_in=ss,es.avail_in=os,is.hold=ls,is.bits=cs,Da(es,ps),as=es.next_out,rs=es.output,ds=es.avail_out,ss=es.next_in,ns=es.input,os=es.avail_in,ls=is.hold,cs=is.bits,is.mode===P$5&&(is.back=-1);break}for(is.back=0;ys=is.lencode[ls&(1<<is.lenbits)-1],hs=ys>>>24,gs=ys>>>16&255,ws=65535&ys,!(hs<=cs);){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(gs&&!(240&gs)){for(vs=hs,Ss=gs,Ts=ws;ys=is.lencode[Ts+((ls&(1<<vs+Ss)-1)>>vs)],hs=ys>>>24,gs=ys>>>16&255,ws=65535&ys,!(vs+hs<=cs);){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}ls>>>=vs,cs-=vs,is.back+=vs}if(ls>>>=hs,cs-=hs,is.back+=hs,is.length=ws,gs===0){is.mode=Ri;break}if(32&gs){is.back=-1,is.mode=P$5;break}if(64&gs){es.msg="invalid literal/length code",is.mode=R$1;break}is.extra=15&gs,is.mode=mi;case mi:if(is.extra){for(Is=is.extra;cs<Is;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.length+=ls&(1<<is.extra)-1,ls>>>=is.extra,cs-=is.extra,is.back+=is.extra}is.was=is.length,is.mode=zi;case zi:for(;ys=is.distcode[ls&(1<<is.distbits)-1],hs=ys>>>24,gs=ys>>>16&255,ws=65535&ys,!(hs<=cs);){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(!(240&gs)){for(vs=hs,Ss=gs,Ts=ws;ys=is.distcode[Ts+((ls&(1<<vs+Ss)-1)>>vs)],hs=ys>>>24,gs=ys>>>16&255,ws=65535&ys,!(vs+hs<=cs);){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}ls>>>=vs,cs-=vs,is.back+=vs}if(ls>>>=hs,cs-=hs,is.back+=hs,64&gs){es.msg="invalid distance code",is.mode=R$1;break}is.offset=ws,is.extra=15&gs,is.mode=Si;case Si:if(is.extra){for(Is=is.extra;cs<Is;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}is.offset+=ls&(1<<is.extra)-1,ls>>>=is.extra,cs-=is.extra,is.back+=is.extra}if(is.offset>is.dmax){es.msg="invalid distance too far back",is.mode=R$1;break}is.mode=Ai;case Ai:if(ds===0)break e;if(us=ps-ds,is.offset>us){if((us=is.offset-us)>is.whave&&is.sane){es.msg="invalid distance too far back",is.mode=R$1;break}ms=us>is.wnext?(us-=is.wnext,is.wsize-us):is.wnext-us,us>is.length&&(us=is.length),$s=is.window}else $s=rs,ms=as-is.offset,us=is.length;for(us>ds&&(us=ds),ds-=us,is.length-=us;rs[as++]=$s[ms++],--us;);is.length===0&&(is.mode=Xe$1);break;case Ri:if(ds===0)break e;rs[as++]=is.length,ds--,is.mode=Xe$1;break;case bt$1:if(is.wrap){for(;cs<32;){if(os===0)break e;os--,ls|=ns[ss++]<<cs,cs+=8}if(ps-=ds,es.total_out+=ps,is.total+=ps,4&is.wrap&&ps&&(es.adler=is.check=(is.flags?Z$1:ve$1)(is.check,rs,ps,as-ps)),ps=ds,4&is.wrap&&(is.flags?ls:Oi(ls))!==is.check){es.msg="incorrect data check",is.mode=R$1;break}ls=0,cs=0}is.mode=Ti;case Ti:if(is.wrap&&is.flags){for(;cs<32;){if(os===0)break e;os--,ls+=ns[ss++]<<cs,cs+=8}if(4&is.wrap&&ls!==(4294967295&is.total)){es.msg="incorrect length check",is.mode=R$1;break}ls=0,cs=0}is.mode=Di;case Di:_s=$a;break e;case R$1:_s=fi;break e;case Zi:return oi;default:return $$1}return es.next_out=as,es.avail_out=ds,es.next_in=ss,es.avail_in=os,is.hold=ls,is.bits=cs,(is.wsize||ps!==es.avail_out&&is.mode<R$1&&(is.mode<bt$1||ts!==li))&&Fi(es,es.output,es.next_out,ps-es.avail_out),fs-=es.avail_in,ps-=es.avail_out,es.total_in+=fs,es.total_out+=ps,is.total+=ps,4&is.wrap&&ps&&(es.adler=is.check=(is.flags?Z$1:ve$1)(is.check,rs,ps,es.next_out-ps)),es.data_type=is.bits+(is.last?64:0)+(is.mode===P$5?128:0)+(is.mode===Pe$1||is.mode===wt$1?256:0),_s=(fs==0&&ps===0||ts===li)&&_s===ae?Ma:_s},Wa=es=>{var ts;return re$1(es)?$$1:((ts=es.state).window&&(ts.window=null),es.state=null,ae)},Va=(es,ts)=>!re$1(es)&&2&(es=es.state).wrap?((es.head=ts).done=!1,ae):$$1,Ja=(es,ts)=>{var is=ts.length;let ns;return re$1(es)||(ns=es.state).wrap!==0&&ns.mode!==Ke$1?$$1:ns.mode===Ke$1&&ve$1(1,ts,is,0)!==ns.check?fi:Fi(es,ts,is,is)?(ns.mode=Zi,oi):(ns.havedict=1,ae)};var Qa=Li,qa=Ui,er$1=Ni,tr$1=Ya,ir$1=Ci,nr$1=ja,ar$1=Wa,rr$1=Va,lr$1=Ja,fr$1="pako inflate (from Nodeca project)",X$3={inflateReset:Qa,inflateReset2:qa,inflateResetKeep:er$1,inflateInit:tr$1,inflateInit2:ir$1,inflate:nr$1,inflateEnd:ar$1,inflateGetHeader:rr$1,inflateSetDictionary:lr$1,inflateInfo:fr$1};function or$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _r$1=or$1;let Mi=Object.prototype.toString,{Z_NO_FLUSH:hr$1,Z_FINISH:dr$1,Z_OK:De$1,Z_STREAM_END:xt$1,Z_NEED_DICT:vt$1,Z_STREAM_ERROR:sr$1,Z_DATA_ERROR:Hi,Z_MEM_ERROR:cr$1}=ee$2;function Ze$1(es){this.options=$e$1.assign({chunkSize:65536,windowBits:15,to:""},es||{});var ts=this.options;ts.raw&&0<=ts.windowBits&&ts.windowBits<16&&(ts.windowBits=-ts.windowBits,ts.windowBits===0)&&(ts.windowBits=-15),!(0<=ts.windowBits&&ts.windowBits<16)||es&&es.windowBits||(ts.windowBits+=32),15<ts.windowBits&&ts.windowBits<48&&(15&ts.windowBits||(ts.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt$1,this.strm.avail_out=0;let is=X$3.inflateInit2(this.strm,ts.windowBits);if(is!==De$1)throw new Error(q$2[is]);if(this.header=new _r$1,X$3.inflateGetHeader(this.strm,this.header),ts.dictionary&&(typeof ts.dictionary=="string"?ts.dictionary=Ae$1.string2buf(ts.dictionary):Mi.call(ts.dictionary)==="[object ArrayBuffer]"&&(ts.dictionary=new Uint8Array(ts.dictionary)),ts.raw)&&(is=X$3.inflateSetDictionary(this.strm,ts.dictionary))!==De$1)throw new Error(q$2[is])}function kt$1(es,ts){if(ts=new Ze$1(ts),ts.push(es),ts.err)throw ts.msg||q$2[ts.err];return ts.result}function ur$1(es,ts){return(ts=ts||{}).raw=!0,kt$1(es,ts)}Ze$1.prototype.push=function(es,ts){var is,ns,rs,ss=this.strm,as=this.options.chunkSize,os=this.options.dictionary;let ds,ls,cs;if(this.ended)return!1;for(ls=ts===~~ts?ts:ts===!0?dr$1:hr$1,Mi.call(es)==="[object ArrayBuffer]"?ss.input=new Uint8Array(es):ss.input=es,ss.next_in=0,ss.avail_in=ss.input.length;;){for(ss.avail_out===0&&(ss.output=new Uint8Array(as),ss.next_out=0,ss.avail_out=as),(ds=X$3.inflate(ss,ls))===vt$1&&os&&((ds=X$3.inflateSetDictionary(ss,os))===De$1?ds=X$3.inflate(ss,ls):ds===Hi&&(ds=vt$1));0<ss.avail_in&&ds===xt$1&&0<ss.state.wrap&&es[ss.next_in]!==0;)X$3.inflateReset(ss),ds=X$3.inflate(ss,ls);switch(ds){case sr$1:case Hi:case vt$1:case cr$1:return this.onEnd(ds),!(this.ended=!0)}if(cs=ss.avail_out,!ss.next_out||ss.avail_out!==0&&ds!==xt$1||(this.options.to==="string"?(is=Ae$1.utf8border(ss.output,ss.next_out),ns=ss.next_out-is,rs=Ae$1.buf2string(ss.output,is),ss.next_out=ns,ss.avail_out=as-ns,ns&&ss.output.set(ss.output.subarray(is,is+ns),0),this.onData(rs)):this.onData(ss.output.length===ss.next_out?ss.output:ss.output.subarray(0,ss.next_out))),ds!==De$1||cs!==0){if(ds===xt$1)return ds=X$3.inflateEnd(this.strm),this.onEnd(ds),this.ended=!0;if(ss.avail_in===0)break}}return!0},Ze$1.prototype.onData=function(es){this.chunks.push(es)},Ze$1.prototype.onEnd=function(es){es===De$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$e$1.flattenChunks(this.chunks)),this.chunks=[],this.err=es,this.msg=this.strm.msg};var wr$1=Ze$1,br$1=kt$1,gr$1=ur$1,pr$1=kt$1,xr$1=ee$2,vr$1={Inflate:wr$1,inflate:br$1,inflateRaw:gr$1,ungzip:pr$1,constants:xr$1};let{Deflate:kr$1,deflate:Er$1,deflateRaw:yr$1,gzip:mr$1}=Ra,{Inflate:zr$1,inflate:Sr$1,inflateRaw:Ar$1,ungzip:Rr$1}=vr$1;var Tr$1=kr$1,Dr$1=Er$1,Zr$1=yr$1,Ir$1=mr$1,Or$1=zr$1,Nr$1=Sr$1,Lr$1=Ar$1,Ur$1=Rr$1,Cr$1=ee$2,$r$1={Deflate:Tr$1,deflate:Dr$1,deflateRaw:Zr$1,gzip:Ir$1,Inflate:Or$1,inflate:Nr$1,inflateRaw:Lr$1,ungzip:Ur$1,constants:Cr$1},q$1=[],se=0,be="",x$5;function Kt(es){return es.nodeType===es.ELEMENT_NODE}function we(es){var ts=es==null?void 0:es.host;return(ts==null?void 0:ts.shadowRoot)===es}function Me(es){return Object.prototype.toString.call(es)==="[object ShadowRoot]"}function Jt(es){return es=es.includes(" background-clip: text;")&&!es.includes(" -webkit-background-clip: text;")?es.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;"):es}function He(es){try{var ts=es.rules||es.cssRules;return ts?Jt(Array.from(ts).map(et).join("")):null}catch(is){return null}}function et(es){var ts=es.cssText;if(Qt(es))try{ts=He(es.styleSheet)||ts}catch(is){}return ts}function Qt(es){return"styleSheet"in es}(function(es){es[es.Document=0]="Document",es[es.DocumentType=1]="DocumentType",es[es.Element=2]="Element",es[es.Text=3]="Text",es[es.CDATA=4]="CDATA",es[es.Comment=5]="Comment"})(x$5=x$5||{});var tt=function(){function es(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return es.prototype.getId=function(ts){return ts&&(ts=(ts=this.getMeta(ts))==null?void 0:ts.id)!=null?ts:-1},es.prototype.getNode=function(ts){return this.idNodeMap.get(ts)||null},es.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},es.prototype.getMeta=function(ts){return this.nodeMetaMap.get(ts)||null},es.prototype.removeNodeFromMap=function(ts){var is=this,ns=this.getId(ts);this.idNodeMap.delete(ns),ts.childNodes&&ts.childNodes.forEach(function(rs){return is.removeNodeFromMap(rs)})},es.prototype.has=function(ts){return this.idNodeMap.has(ts)},es.prototype.hasNode=function(ts){return this.nodeMetaMap.has(ts)},es.prototype.add=function(ts,is){var ns=is.id;this.idNodeMap.set(ns,ts),this.nodeMetaMap.set(ts,is)},es.prototype.replace=function(ts,is){var ns=this.getNode(ts);ns&&(ns=this.nodeMetaMap.get(ns))&&this.nodeMetaMap.set(is,ns),this.idNodeMap.set(ts,is)},es.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},es}();function $t(){return new tt}function Ue(ss){var ts=ss.element,is=ss.maskInputOptions,ns=ss.tagName,as=ss.type,rs=ss.maskInputFn,ss=ss.value||"",as=as&&as.toLowerCase();return ss=is[ns.toLowerCase()]||as&&is[as]?rs?rs(ss,ts):"*".repeat(ss.length):ss}var rt="__rrweb_original__";function qt(es){var ts=es.getContext("2d");if(ts)for(var is=0;is<es.width;is+=50)for(var ns=0;ns<es.height;ns+=50){var rs=ts.getImageData,rs=rt in rs?rs[rt]:rs;if(new Uint32Array(rs.call(ts,is,ns,Math.min(50,es.width-is),Math.min(50,es.height-ns)).data.buffer).some(function(ss){return ss!==0}))return}return 1}function Ye(es){var ts=es.type;return es.hasAttribute("data-rr-is-password")?"password":ts?ts.toLowerCase():null}var er=1,tr=new RegExp("[^a-z0-9-_:]"),Ae=-2;function nt(){return er++}function rr(es){return es instanceof HTMLFormElement?"form":(es=es.tagName.toLowerCase().trim(),tr.test(es)?"div":es)}function nr(es){return es.cssRules?Array.from(es.cssRules).map(function(ts){return ts.cssText||""}).join(""):""}function or(es){return(-1<es.indexOf("//")?es.split("/").slice(0,3).join("/"):es.split("/")[0]).split("?")[0]}var me,ot,ar=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ir=/^(?:[a-z+]+:)?\/\//i,sr=/^www\..*/i,lr=/^(data:)([^,]*),(.*)/i;function _e(es,ts){return(es||"").replace(ar,function(is,ns,rs,ss,as,ls){if(rs=rs||as||ls,as=ns||ss||"",!rs)return is;if(ir.test(rs)||sr.test(rs)||lr.test(rs))return"url(".concat(as).concat(rs).concat(as,")");if(rs[0]==="/")return"url(".concat(as).concat(or(ts)+rs).concat(as,")");var ds=ts.split("/"),ls=rs.split("/");ds.pop();for(var cs=0,fs=ls;cs<fs.length;cs++){var ps=fs[cs];ps!=="."&&(ps===".."?ds.pop():ds.push(ps))}return"url(".concat(as).concat(ds.join("/")).concat(as,")")})}var cr=/^[^ \t\n\r\u000c]+/,dr=/^[, \t\n\r\u000c]+/;function ur(es,ts){if(ts.trim()==="")return ts;var is=0;function ns(cs){var cs=cs.exec(ts.substring(is));return cs?(cs=cs[0],is+=cs.length,cs):""}for(var rs=[];ns(dr),!(is>=ts.length);)if((as=ns(cr)).slice(-1)===",")as=ge(es,as.substring(0,as.length-1)),rs.push(as);else for(var ss="",as=ge(es,as),os=!1;;){var ds=ts.charAt(is);if(ds===""){rs.push((as+ss).trim());break}if(os)ds===")"&&(os=!1);else{if(ds===","){is+=1,rs.push((as+ss).trim());break}ds==="("&&(os=!0)}ss+=ds,is+=1}return rs.join(", ")}function ge(es,ts){return ts&&ts.trim()!==""?((es=es.createElement("a")).href=ts,es.href):ts}function pr(es){return!(es.tagName!=="svg"&&!es.ownerSVGElement)}function ze(){var es=document.createElement("a");return es.href="",es.href}function at(es,ts,is,ns){return ns&&(is==="src"||is==="href"&&(ts!=="use"||ns[0]!=="#")||is==="xlink:href"&&ns[0]!=="#"||is==="background"&&(ts==="table"||ts==="td"||ts==="th")?ge(es,ns):is==="srcset"?ur(es,ns):is==="style"?_e(ns,ze()):ts==="object"&&is==="data"?ge(es,ns):ns)}function it(es,ts,is){return(es==="video"||es==="audio")&&ts==="autoplay"}function hr(es,ts,is){try{if(typeof ts=="string"){if(es.classList.contains(ts))return!0}else for(var ns=es.classList.length;ns--;){var rs=es.classList[ns];if(ts.test(rs))return!0}if(is)return es.matches(is)}catch(ss){}return!1}function Le(es,ts,is){if(!es)return!1;if(es.nodeType===es.ELEMENT_NODE)for(var ns=es.classList.length;ns--;){var rs=es.classList[ns];if(ts.test(rs))return!0}return!!is&&Le(es.parentNode,ts,is)}function st(es,ts,is){try{var ns=es.nodeType===es.ELEMENT_NODE?es:es.parentElement;if(ns===null)return;if(typeof ts=="string"){if(ns.classList.contains(ts)||ns.closest(".".concat(ts)))return 1}else if(Le(ns,ts,!0))return 1;if(is&&(ns.matches(is)||ns.closest(is)))return 1}catch(rs){}}function fr(es,ts,is){var ns=es.contentWindow;if(ns){var rs,ss,as=!1;try{ss=ns.document.readyState}catch(os){return}return ss!=="complete"?(rs=setTimeout(function(){as||(ts(),as=!0)},is),es.addEventListener("load",function(){clearTimeout(rs),as=!0,ts()})):ns.location.href!==(ss="about:blank")||es.src===ss||es.src===""?(setTimeout(ts,0),es.addEventListener("load",ts)):void es.addEventListener("load",ts)}}function mr(es,ts,is){var ns,rs,ss=!1;try{ns=es.sheet}catch(as){return}ns||(rs=setTimeout(function(){ss||(ts(),ss=!0)},is),es.addEventListener("load",function(){clearTimeout(rs),ss=!0,ts()}))}function gr(es,ts){var is=ts.doc,ns=ts.blockClass,rs=ts.blockSelector,ss=ts.maskTextClass,as=ts.maskTextSelector,os=ts.inlineStylesheet,$s=ts.maskInputOptions,ds=$s===void 0?{}:$s,ls=ts.maskTextFn,cs=ts.maskInputFn,$s=ts.dataURLOptions,fs=$s===void 0?{}:$s,ps=ts.inlineImages,us=ts.recordCanvas,ms=ts.keepIframeSrcFn,$s=ts.newlyAddedElement,hs=$s!==void 0&&$s,gs=yr(is,ts.mirror);switch(es.nodeType){case es.DOCUMENT_NODE:return es.compatMode!=="CSS1Compat"?{type:x$5.Document,childNodes:[],compatMode:es.compatMode}:{type:x$5.Document,childNodes:[]};case es.DOCUMENT_TYPE_NODE:return{type:x$5.DocumentType,name:es.name,publicId:es.publicId,systemId:es.systemId,rootId:gs};case es.ELEMENT_NODE:return Cr(es,{doc:is,blockClass:ns,blockSelector:rs,inlineStylesheet:os,maskInputOptions:ds,maskInputFn:cs,dataURLOptions:fs,inlineImages:ps,recordCanvas:us,keepIframeSrcFn:ms,newlyAddedElement:hs,rootId:gs});case es.TEXT_NODE:return Ir(es,{maskTextClass:ss,maskTextSelector:as,maskTextFn:ls,rootId:gs});case es.CDATA_SECTION_NODE:return{type:x$5.CDATA,textContent:"",rootId:gs};case es.COMMENT_NODE:return{type:x$5.Comment,textContent:es.textContent||"",rootId:gs};default:return!1}}function yr(es,ts){return!ts.hasNode(es)||(ts=ts.getId(es))===1?void 0:ts}function Ir(es,ts){var is,ns=ts.maskTextClass,rs=ts.maskTextSelector,ss=ts.maskTextFn,as=ts.rootId,ls=es.parentNode&&es.parentNode.tagName,os=es.textContent,ds=ls==="STYLE"||void 0,ls=ls==="SCRIPT"||void 0;if(ds&&os){try{es.nextSibling||es.previousSibling||(is=es.parentNode.sheet)!=null&&is.cssRules&&(os=nr(es.parentNode.sheet))}catch(cs){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(cs),es)}os=_e(os,ze())}return ls&&(os="SCRIPT_PLACEHOLDER"),!ds&&!ls&&os&&st(es,ns,rs)&&(os=ss?ss(os):os.replace(/[\S]/g,"*")),{type:x$5.Text,textContent:os||"",isStyle:ds,rootId:as}}function Cr(es,ts){for(var is,ns,rs,ss,as,os=ts.doc,ds=ts.inlineStylesheet,ls=ts.maskInputOptions,ls=ls===void 0?{}:ls,cs=ts.maskInputFn,ps=ts.dataURLOptions,fs=ps===void 0?{}:ps,ps=ts.inlineImages,us=ts.recordCanvas,ms=ts.keepIframeSrcFn,$s=ts.newlyAddedElement,$s=$s!==void 0&&$s,hs=ts.rootId,ts=hr(es,ts.blockClass,ts.blockSelector),gs=rr(es),ws={},vs=es.attributes.length,Ss=0;Ss<vs;Ss++){var Ts=es.attributes[Ss];it(gs,Ts.name,Ts.value)||(ws[Ts.name]=at(os,gs,Ts.name,Ts.value))}return gs==="link"&&ds&&(as=null,as=(ds=Array.from(os.styleSheets).find(function(Cs){return Cs.href===es.href}))?He(ds):as)&&(delete ws.rel,delete ws.href,ws._cssText=_e(as,ds.href)),gs==="style"&&es.sheet&&!(es.innerText||es.textContent||"").trim().length&&(as=He(es.sheet))&&(ws._cssText=_e(as,ze())),gs!=="input"&&gs!=="textarea"&&gs!=="select"||(ds=es.value,as=es.checked,ws.type!=="radio"&&ws.type!=="checkbox"&&ws.type!=="submit"&&ws.type!=="button"&&ds?(is=Ye(es),ws.value=Ue({element:es,type:is,tagName:gs,value:ds,maskInputOptions:ls,maskInputFn:cs})):as&&(ws.checked=as)),gs==="option"&&(es.selected&&!ls.select?ws.selected=!0:delete ws.selected),gs==="canvas"&&us&&(es.__context==="2d"?qt(es)||(ws.rr_dataURL=es.toDataURL(fs.type,fs.quality)):"__context"in es||(is=es.toDataURL(fs.type,fs.quality),(ds=document.createElement("canvas")).width=es.width,ds.height=es.height,is!==ds.toDataURL(fs.type,fs.quality)&&(ws.rr_dataURL=is))),gs==="img"&&ps&&(me||(me=os.createElement("canvas"),ot=me.getContext("2d")),rs=(ns=es).crossOrigin,ns.crossOrigin="anonymous",ss=function(){ns.removeEventListener("load",ss);try{me.width=ns.naturalWidth,me.height=ns.naturalHeight,ot.drawImage(ns,0,0),ws.rr_dataURL=me.toDataURL(fs.type,fs.quality)}catch(Cs){console.warn("Cannot inline img src=".concat(ns.currentSrc,"! Error: ").concat(Cs))}rs?ws.crossOrigin=rs:ns.removeAttribute("crossorigin")},ns.complete&&ns.naturalWidth!==0?ss():ns.addEventListener("load",ss)),gs!=="audio"&&gs!=="video"||(ws.rr_mediaState=es.paused?"paused":"played",ws.rr_mediaCurrentTime=es.currentTime),$s||(es.scrollLeft&&(ws.rr_scrollLeft=es.scrollLeft),es.scrollTop&&(ws.rr_scrollTop=es.scrollTop)),ts&&(as=(cs=es.getBoundingClientRect()).width,ls=cs.height,ws={class:ws.class,rr_width:"".concat(as,"px"),rr_height:"".concat(ls,"px")}),gs!=="iframe"||ms(ws.src)||(es.contentDocument||(ws.rr_src=ws.src),delete ws.src),{type:x$5.Element,tagName:gs,attributes:ws,childNodes:[],isSVG:pr(es)||void 0,needBlock:ts,rootId:hs}}function A$5(es){return es==null?"":es.toLowerCase()}function vr(es,ts){if(ts.comment&&es.type===x$5.Comment||es.type===x$5.Element&&(ts.script&&(es.tagName==="script"||es.tagName==="link"&&(es.attributes.rel==="preload"||es.attributes.rel==="modulepreload")&&es.attributes.as==="script"||es.tagName==="link"&&es.attributes.rel==="prefetch"&&typeof es.attributes.href=="string"&&es.attributes.href.endsWith(".js"))||ts.headFavicon&&(es.tagName==="link"&&es.attributes.rel==="shortcut icon"||es.tagName==="meta"&&(A$5(es.attributes.name).match(/^msapplication-tile(image|color)$/)||A$5(es.attributes.name)==="application-name"||A$5(es.attributes.rel)==="icon"||A$5(es.attributes.rel)==="apple-touch-icon"||A$5(es.attributes.rel)==="shortcut icon"))||es.tagName==="meta"&&(ts.headMetaDescKeywords&&A$5(es.attributes.name).match(/^description|keywords$/)||ts.headMetaSocial&&(A$5(es.attributes.property).match(/^(og|twitter|fb):/)||A$5(es.attributes.name).match(/^(og|twitter):/)||A$5(es.attributes.name)==="pinterest")||ts.headMetaRobots&&(A$5(es.attributes.name)==="robots"||A$5(es.attributes.name)==="googlebot"||A$5(es.attributes.name)==="bingbot")||ts.headMetaHttpEquiv&&es.attributes["http-equiv"]!==void 0||ts.headMetaAuthorship&&(A$5(es.attributes.name)==="author"||A$5(es.attributes.name)==="generator"||A$5(es.attributes.name)==="framework"||A$5(es.attributes.name)==="publisher"||A$5(es.attributes.name)==="progid"||A$5(es.attributes.property).match(/^article:/)||A$5(es.attributes.property).match(/^product:/))||ts.headMetaVerification&&(A$5(es.attributes.name)==="google-site-verification"||A$5(es.attributes.name)==="yandex-verification"||A$5(es.attributes.name)==="csrf-token"||A$5(es.attributes.name)==="p:domain_verify"||A$5(es.attributes.name)==="verify-v1"||A$5(es.attributes.name)==="verification"||A$5(es.attributes.name)==="shopify-checkout-api-token"))))return 1}function ye(es,ys){var is=ys.doc,ns=ys.mirror,rs=ys.blockClass,ss=ys.blockSelector,as=ys.maskTextClass,os=ys.maskTextSelector,ds=ys.skipChild,ds=ds!==void 0&&ds,Es=ys.inlineStylesheet,ls=Es===void 0||Es,Es=ys.maskInputOptions,cs=Es===void 0?{}:Es,fs=ys.maskTextFn,ps=ys.maskInputFn,us=ys.slimDOMOptions,Es=ys.dataURLOptions,ms=Es===void 0?{}:Es,Es=ys.inlineImages,$s=Es!==void 0&&Es,Es=ys.recordCanvas,hs=Es!==void 0&&Es,gs=ys.onSerialize,ws=ys.onIframeLoad,Es=ys.iframeLoadTimeout,vs=Es===void 0?5e3:Es,Ss=ys.onStylesheetLoad,Es=ys.stylesheetLoadTimeout,Ts=Es===void 0?5e3:Es,Es=ys.keepIframeSrcFn,Cs=Es===void 0?function(){return!1}:Es,Es=ys.newlyAddedElement,ys=ys.preserveWhiteSpace,_s=ys===void 0||ys,ys=gr(es,{doc:is,mirror:ns,blockClass:rs,blockSelector:ss,maskTextClass:as,maskTextSelector:os,inlineStylesheet:ls,maskInputOptions:cs,maskTextFn:fs,maskInputFn:ps,dataURLOptions:ms,inlineImages:$s,recordCanvas:hs,keepIframeSrcFn:Cs,newlyAddedElement:Es!==void 0&&Es});if(!ys)return console.warn(es,"not serialized"),null;var Es=ns.hasNode(es)?ns.getId(es):vr(ys,us)||!_s&&ys.type===x$5.Text&&!ys.isStyle&&!ys.textContent.replace(/^\s+|\s+$/gm,"").length?Ae:nt(),bs=Object.assign(ys,{id:Es});if(ns.add(es,bs),Es===Ae)return null;if(gs&&gs(es),ys=!ds,bs.type===x$5.Element&&(ys=ys&&!bs.needBlock,delete bs.needBlock,Es=es.shadowRoot)&&Me(Es)&&(bs.isShadowHost=!0),(bs.type===x$5.Document||bs.type===x$5.Element)&&ys){us.headWhitespace&&bs.type===x$5.Element&&bs.tagName==="head"&&(_s=!1);for(var Is,Ms={doc:is,mirror:ns,blockClass:rs,blockSelector:ss,maskTextClass:as,maskTextSelector:os,skipChild:ds,inlineStylesheet:ls,maskInputOptions:cs,maskTextFn:fs,maskInputFn:ps,slimDOMOptions:us,dataURLOptions:ms,inlineImages:$s,recordCanvas:hs,preserveWhiteSpace:_s,onSerialize:gs,onIframeLoad:ws,iframeLoadTimeout:vs,onStylesheetLoad:Ss,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Cs},Ls=0,Gs=Array.from(es.childNodes);Ls<Gs.length;Ls++)(Is=ye(Gs[Ls],Ms))&&bs.childNodes.push(Is);if(Kt(es)&&es.shadowRoot)for(var xs=0,Ps=Array.from(es.shadowRoot.childNodes);xs<Ps.length;xs++)(Is=ye(Ps[xs],Ms))&&(Me(es.shadowRoot)&&(Is.isShadow=!0),bs.childNodes.push(Is))}return es.parentNode&&we(es.parentNode)&&Me(es.parentNode)&&(bs.isShadow=!0),bs.type===x$5.Element&&bs.tagName==="iframe"&&fr(es,function(){var ks=es.contentDocument;ks&&ws&&(ks=ye(ks,{doc:ks,mirror:ns,blockClass:rs,blockSelector:ss,maskTextClass:as,maskTextSelector:os,skipChild:!1,inlineStylesheet:ls,maskInputOptions:cs,maskTextFn:fs,maskInputFn:ps,slimDOMOptions:us,dataURLOptions:ms,inlineImages:$s,recordCanvas:hs,preserveWhiteSpace:_s,onSerialize:gs,onIframeLoad:ws,iframeLoadTimeout:vs,onStylesheetLoad:Ss,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Cs}))&&ws(es,ks)},vs),bs.type===x$5.Element&&bs.tagName==="link"&&bs.attributes.rel==="stylesheet"&&mr(es,function(){var ks;Ss&&(ks=ye(es,{doc:is,mirror:ns,blockClass:rs,blockSelector:ss,maskTextClass:as,maskTextSelector:os,skipChild:!1,inlineStylesheet:ls,maskInputOptions:cs,maskTextFn:fs,maskInputFn:ps,slimDOMOptions:us,dataURLOptions:ms,inlineImages:$s,recordCanvas:hs,preserveWhiteSpace:_s,onSerialize:gs,onIframeLoad:ws,iframeLoadTimeout:vs,onStylesheetLoad:Ss,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Cs}))&&Ss(es,ks)},Ts),bs}function Sr(es,is){var is=is||{},ns=is.mirror,ns=ns===void 0?new tt:ns,rs=is.blockClass,ss=is.blockSelector,as=is.maskTextClass,os=is.maskTextSelector,ds=is.inlineStylesheet,ls=is.inlineImages,cs=is.recordCanvas,fs=is.maskAllInputs,fs=fs!==void 0&&fs,ps=is.slimDOM,ps=ps!==void 0&&ps,us=is.keepIframeSrcFn;return ye(es,{doc:es,mirror:ns,blockClass:rs===void 0?"rr-block":rs,blockSelector:ss===void 0?null:ss,maskTextClass:as===void 0?"rr-mask":as,maskTextSelector:os===void 0?null:os,skipChild:!1,inlineStylesheet:ds===void 0||ds,maskInputOptions:fs===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:fs===!1?{password:!0}:fs,maskTextFn:is.maskTextFn,maskInputFn:is.maskInputFn,slimDOMOptions:ps===!0||ps==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:ps==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:ps===!1?{}:ps,dataURLOptions:is.dataURLOptions,inlineImages:ls!==void 0&&ls,recordCanvas:cs!==void 0&&cs,preserveWhiteSpace:is.preserveWhiteSpace,onSerialize:is.onSerialize,onIframeLoad:is.onIframeLoad,iframeLoadTimeout:is.iframeLoadTimeout,onStylesheetLoad:is.onStylesheetLoad,stylesheetLoadTimeout:is.stylesheetLoadTimeout,keepIframeSrcFn:us===void 0?function(){return!1}:us,newlyAddedElement:!1})}function Z(es,ts,is=document){let ns={capture:!0,passive:!0};return is.addEventListener(es,ts,ns),()=>is.removeEventListener(es,ts,ns)}let Ie=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,lt={map:{},getId:()=>(console.error(Ie),-1),getNode:()=>(console.error(Ie),null),removeNodeFromMap(){console.error(Ie)},has:()=>(console.error(Ie),!1),reset(){console.error(Ie)}};function Oe(es,ts,is={}){let ns=null,rs=0;return function(...ss){var as=Date.now();rs||is.leading!==!1||(rs=as);let os=ts-(as-rs),ds=this;os<=0||ts<os?(ns&&(clearTimeout(ns),ns=null),rs=as,es.apply(ds,ss)):ns||is.trailing===!1||(ns=setTimeout(()=>{rs=is.leading===!1?0:Date.now(),ns=null,es.apply(ds,ss)},os))}}function Ee$2(es,ts,is,ns,rs=window){let ss=rs.Object.getOwnPropertyDescriptor(es,ts);return rs.Object.defineProperty(es,ts,ns?is:{set(as){setTimeout(()=>{is.set.call(this,as)},0),ss&&ss.set&&ss.set.call(this,as)}}),()=>Ee$2(es,ts,ss||{},!0)}function Re(es,ts,is){try{if(!(ts in es))return()=>{};let ns=es[ts],rs=is(ns);return typeof rs=="function"&&(rs.prototype=rs.prototype||{},Object.defineProperties(rs,{__rrweb_original__:{enumerable:!1,value:ns}})),es[ts]=rs,()=>{es[ts]=ns}}catch(ns){return()=>{}}}function ct(es){var ts,is=es.document;return{left:is.scrollingElement?is.scrollingElement.scrollLeft:es.pageXOffset!==void 0?es.pageXOffset:(is==null?void 0:is.documentElement.scrollLeft)||((ts=(ts=is==null?void 0:is.body)==null?void 0:ts.parentElement)==null?void 0:ts.scrollLeft)||((ts=is==null?void 0:is.body)==null?void 0:ts.scrollLeft)||0,top:is.scrollingElement?is.scrollingElement.scrollTop:es.pageYOffset!==void 0?es.pageYOffset:(is==null?void 0:is.documentElement.scrollTop)||((es=(ts=is==null?void 0:is.body)==null?void 0:ts.parentElement)==null?void 0:es.scrollTop)||((ts=is==null?void 0:is.body)==null?void 0:ts.scrollTop)||0}}function dt(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ut(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function B$2(es,ts,is,ns){if(es){var rs=es.nodeType===es.ELEMENT_NODE?es:es.parentElement;if(rs){try{if(typeof ts=="string"){if(rs.classList.contains(ts)||ns&&rs.closest("."+ts)!==null)return 1}else if(Le(rs,ts,ns))return 1}catch(ss){}return is&&(rs.matches(is)||ns&&rs.closest(is)!==null)}}}function br(es,ts){return ts.getId(es)!==-1}function Xe(es,ts){return ts.getId(es)===Ae}function pt(es,ts){var is;return!we(es)&&(is=ts.getId(es),!ts.has(is)||(!es.parentNode||es.parentNode.nodeType!==es.DOCUMENT_NODE)&&(!es.parentNode||pt(es.parentNode,ts)))}function je(es){return es.changedTouches}function wr(es=window){"NodeList"in es&&!es.NodeList.prototype.forEach&&(es.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in es&&!es.DOMTokenList.prototype.forEach&&(es.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...ts)=>{let is=ts[0];if(!(0 in ts))throw new TypeError("1 argument is required");do if(this===is)return!0;while(is=is&&is.parentNode);return!1})}function ht(es,ts){return es.nodeName==="IFRAME"&&ts.getMeta(es)}function ft(es,ts){return es.nodeName==="LINK"&&es.nodeType===es.ELEMENT_NODE&&es.getAttribute&&es.getAttribute("rel")==="stylesheet"&&ts.getMeta(es)}function Ke(es){return es!=null&&es.shadowRoot}typeof window!="undefined"&&window.Proxy&&window.Reflect&&(lt=new Proxy(lt,{get:(es,ts,is)=>(ts==="map"&&console.error(Ie),Reflect.get(es,ts,is))}));class Mr{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(ts){return(ts=this.styleIDMap.get(ts))!=null?ts:-1}has(ts){return this.styleIDMap.has(ts)}add(ts,is){return this.has(ts)?this.getId(ts):(is=is===void 0?this.id++:is,this.styleIDMap.set(ts,is),this.idStyleMap.set(is,ts),is)}getStyle(ts){return this.idStyleMap.get(ts)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function mt(es){let ts,is,ns=null;return ns=((is=(ts=es.getRootNode)==null?void 0:ts.call(es))==null?void 0:is.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&es.getRootNode().host?es.getRootNode().host:ns}function Ar(es){let ts,is=es;for(;ts=mt(is);)is=ts;return is}function Or(es){var ts=es.ownerDocument;return!!ts&&(es=Ar(es),ts.contains(es))}function gt(es){var ts=es.ownerDocument;return ts&&(ts.contains(es)||Or(es))}var w$3=(es=>(es[es.DomContentLoaded=0]="DomContentLoaded",es[es.Load=1]="Load",es[es.FullSnapshot=2]="FullSnapshot",es[es.IncrementalSnapshot=3]="IncrementalSnapshot",es[es.Meta=4]="Meta",es[es.Custom=5]="Custom",es[es.Plugin=6]="Plugin",es))(w$3||{}),b$2=(es=>(es[es.Mutation=0]="Mutation",es[es.MouseMove=1]="MouseMove",es[es.MouseInteraction=2]="MouseInteraction",es[es.Scroll=3]="Scroll",es[es.ViewportResize=4]="ViewportResize",es[es.Input=5]="Input",es[es.TouchMove=6]="TouchMove",es[es.MediaInteraction=7]="MediaInteraction",es[es.StyleSheetRule=8]="StyleSheetRule",es[es.CanvasMutation=9]="CanvasMutation",es[es.Font=10]="Font",es[es.Log=11]="Log",es[es.Drag=12]="Drag",es[es.StyleDeclaration=13]="StyleDeclaration",es[es.Selection=14]="Selection",es[es.AdoptedStyleSheet=15]="AdoptedStyleSheet",es))(b$2||{}),U$6=(es=>(es[es.MouseUp=0]="MouseUp",es[es.MouseDown=1]="MouseDown",es[es.Click=2]="Click",es[es.ContextMenu=3]="ContextMenu",es[es.DblClick=4]="DblClick",es[es.Focus=5]="Focus",es[es.Blur=6]="Blur",es[es.TouchStart=7]="TouchStart",es[es.TouchMove_Departed=8]="TouchMove_Departed",es[es.TouchEnd=9]="TouchEnd",es[es.TouchCancel=10]="TouchCancel",es))(U$6||{}),le$2=(es=>(es[es.Mouse=0]="Mouse",es[es.Pen=1]="Pen",es[es.Touch=2]="Touch",es))(le$2||{}),Ce=(es=>(es[es["2D"]=0]="2D",es[es.WebGL=1]="WebGL",es[es.WebGL2=2]="WebGL2",es))(Ce||{}),ve=(es=>(es[es.Play=0]="Play",es[es.Pause=1]="Pause",es[es.Seeked=2]="Seeked",es[es.VolumeChange=3]="VolumeChange",es[es.RateChange=4]="RateChange",es))(ve||{});function yt(es){return"__ln"in es}class Rr{constructor(){this.length=0,this.head=null}get(ts){if(ts>=this.length)throw new Error("Position outside of list range");let is=this.head;for(let ns=0;ns<ts;ns++)is=(is==null?void 0:is.next)||null;return is}addNode(ts){var is,ns={value:ts,previous:null,next:null};ts.__ln=ns,ts.previousSibling&&yt(ts.previousSibling)?(is=ts.previousSibling.__ln.next,ns.next=is,ns.previous=ts.previousSibling.__ln,ts.previousSibling.__ln.next=ns,is&&(is.previous=ns)):ts.nextSibling&&yt(ts.nextSibling)&&ts.nextSibling.__ln.previous?(is=ts.nextSibling.__ln.previous,ns.previous=is,ns.next=ts.nextSibling.__ln,ts.nextSibling.__ln.previous=ns,is&&(is.next=ns)):(this.head&&(this.head.previous=ns),ns.next=this.head,this.head=ns),this.length++}removeNode(ts){var is=ts.__ln;this.head&&(is.previous?(is.previous.next=is.next,is.next&&(is.next.previous=is.previous)):(this.head=is.next,this.head&&(this.head.previous=null)),ts.__ln&&delete ts.__ln,this.length--)}}let It=(es,ts)=>es+"@"+ts;class Nr{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=ts=>{ts.forEach(this.processMutation),this.emit()},this.emit=()=>{if(!this.frozen&&!this.locked){let is=[],ns=new Rr,rs=os=>{let ds=os,ls=Ae;for(;ls===Ae;)ds=ds&&ds.nextSibling,ls=ds&&this.mirror.getId(ds);return ls},ss=os=>{var ds,ls,cs;if(os.parentNode&&gt(os))return ds=we(os.parentNode)?this.mirror.getId(mt(os)):this.mirror.getId(os.parentNode),ls=rs(os),ds===-1||ls===-1?ns.addNode(os):void((cs=ye(os,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:fs=>{ht(fs,this.mirror)&&this.iframeManager.addIframe(fs),ft(fs,this.mirror)&&this.stylesheetManager.trackLinkElement(fs),Ke(os)&&this.shadowDomManager.addShadowRoot(os.shadowRoot,this.doc)},onIframeLoad:(fs,ps)=>{this.iframeManager.attachIframe(fs,ps),this.shadowDomManager.observeAttachShadow(fs)},onStylesheetLoad:(fs,ps)=>{this.stylesheetManager.attachLinkElement(fs,ps)}}))&&is.push({parentId:ds,nextId:ls,node:cs}))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let os of this.movedSet)Ct(this.removes,os,this.mirror)&&!this.movedSet.has(os.parentNode)||ss(os);for(let os of this.addedSet)!St(this.droppedSet,os)&&!Ct(this.removes,os,this.mirror)||St(this.movedSet,os)?ss(os):this.droppedSet.add(os);let as=null;for(;ns.length;){let os=null;if(as){let ds=this.mirror.getId(as.value.parentNode),ls=rs(as.value);ds!==-1&&ls!==-1&&(os=as)}if(!os)for(let ds=ns.length-1;0<=ds;ds--){let ls=ns.get(ds);if(ls){let cs=this.mirror.getId(ls.value.parentNode);if(rs(ls.value)!==-1){if(cs!==-1){os=ls;break}{let fs=ls.value;if(fs.parentNode&&fs.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let ps=fs.parentNode.host;if(this.mirror.getId(ps)!==-1){os=ls;break}}}}}}if(!os){for(;ns.head;)ns.removeNode(ns.head.value);break}as=os.previous,ns.removeNode(os.value),ss(os.value)}var ts={texts:this.texts.map(os=>({id:this.mirror.getId(os.node),value:os.value})).filter(os=>this.mirror.has(os.id)),attributes:this.attributes.map(os=>({id:this.mirror.getId(os.node),attributes:os.attributes})).filter(os=>this.mirror.has(os.id)),removes:this.removes,adds:is};(ts.texts.length||ts.attributes.length||ts.removes.length||ts.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ts))}},this.processMutation=ts=>{if(!Xe(ts.target,this.mirror))switch(ts.type){case"characterData":var is=ts.target.textContent;B$2(ts.target,this.blockClass,this.blockSelector,!1)||is===ts.oldValue||this.texts.push({value:st(ts.target,this.maskTextClass,this.maskTextSelector)&&is?this.maskTextFn?this.maskTextFn(is):is.replace(/[\S]/g,"*"):is,node:ts.target});break;case"attributes":{var ns=ts.target;let ds=ts.attributeName,ls=ts.target.getAttribute(ds);if(ds==="value"){let fs=Ye(ns);ls=Ue({element:ns,maskInputOptions:this.maskInputOptions,tagName:ns.tagName,type:fs,value:ls,maskInputFn:this.maskInputFn})}if(B$2(ts.target,this.blockClass,this.blockSelector,!1)||ls===ts.oldValue)return;let cs=this.attributes.find(fs=>fs.node===ts.target);if(ns.tagName==="IFRAME"&&ds==="src"&&!this.keepIframeSrcFn(ls)){if(ns.contentDocument)return;ds="rr_src"}if(cs||(cs={node:ts.target,attributes:{}},this.attributes.push(cs)),ds==="type"&&ns.tagName==="INPUT"&&(ts.oldValue||"").toLowerCase()==="password"&&ns.setAttribute("data-rr-is-password","true"),ds==="style"){var rs=this.doc.createElement("span"),ss=(ts.oldValue&&rs.setAttribute("style",ts.oldValue),cs.attributes.style!==void 0&&cs.attributes.style!==null||(cs.attributes.style={}),cs.attributes.style);for(let fs of Array.from(ns.style)){var as=ns.style.getPropertyValue(fs),os=ns.style.getPropertyPriority(fs);as===rs.style.getPropertyValue(fs)&&os===rs.style.getPropertyPriority(fs)||(ss[fs]=os===""?as:[as,os])}for(let fs of Array.from(rs.style))ns.style.getPropertyValue(fs)===""&&(ss[fs]=!1)}else it(ns.tagName,ds)||(cs.attributes[ds]=at(this.doc,ns.tagName,ds,ls));break}case"childList":if(B$2(ts.target,this.blockClass,this.blockSelector,!0))return;ts.addedNodes.forEach(ds=>this.genAdds(ds,ts.target)),ts.removedNodes.forEach(ds=>{var ls=this.mirror.getId(ds),cs=we(ts.target)?this.mirror.getId(ts.target.host):this.mirror.getId(ts.target);B$2(ts.target,this.blockClass,this.blockSelector,!1)||Xe(ds,this.mirror)||!br(ds,this.mirror)||(this.addedSet.has(ds)?(Je(this.addedSet,ds),this.droppedSet.add(ds)):this.addedSet.has(ts.target)&&ls===-1||pt(ts.target,this.mirror)||(this.movedSet.has(ds)&&this.movedMap[It(ls,cs)]?Je(this.movedSet,ds):this.removes.push({parentId:cs,id:ls,isShadow:!(!we(ts.target)||!Me(ts.target))||void 0})),this.mapRemoves.push(ds))})}},this.genAdds=(ts,is)=>{if(!this.processedNodeManager.inOtherBuffer(ts,this)){if(this.mirror.hasNode(ts)){if(Xe(ts,this.mirror))return;this.movedSet.add(ts);let ns=null;(ns=is&&this.mirror.hasNode(is)?this.mirror.getId(is):ns)&&ns!==-1&&(this.movedMap[It(this.mirror.getId(ts),ns)]=!0)}else this.addedSet.add(ts),this.droppedSet.delete(ts);B$2(ts,this.blockClass,this.blockSelector,!1)||(ts.childNodes.forEach(ns=>this.genAdds(ns)),Ke(ts)&&ts.shadowRoot.childNodes.forEach(ns=>{this.processedNodeManager.add(ns,this),this.genAdds(ns,ts)}))}}}init(ts){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(is=>{this[is]=ts[is]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Je(es,ts){es.delete(ts),ts.childNodes.forEach(is=>Je(es,is))}function Ct(es,ts,is){return es.length!==0&&vt(es,ts,is)}function vt(es,ts,is){if(ts=ts.parentNode,!ts)return!1;let ns=is.getId(ts);return!!es.some(rs=>rs.id===ns)||vt(es,ts,is)}function St(es,ts){return es.size!==0&&bt(es,ts)}function bt(es,ts){return ts=ts.parentNode,!!ts&&(!!es.has(ts)||bt(es,ts))}let Ne;function kr(es){Ne=es}function Tr(){Ne=void 0}let S$3=es=>Ne?(...ts)=>{try{return es(...ts)}catch(is){if(!Ne||Ne(is)!==!0)throw is}}:es;var _r=Object.defineProperty,Lr=Object.defineProperties,Er=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable,Mt=(es,ts,is)=>ts in es?_r(es,ts,{enumerable:!0,configurable:!0,writable:!0,value:is}):es[ts]=is,Qe=(es,ts)=>{for(var is in ts=ts||{})Dr.call(ts,is)&&Mt(es,is,ts[is]);if(wt)for(var is of wt(ts))xr.call(ts,is)&&Mt(es,is,ts[is]);return es},Fr=(es,ts)=>Lr(es,Er(ts));let pe$2=[];function ke(es){try{if("composedPath"in es){var ts=es.composedPath();if(ts.length)return ts[0]}else if("path"in es&&es.path.length)return es.path[0];return es.target}catch(is){return es.target}}function At(ss,ts){var is=new Nr;pe$2.push(is),is.init(ss);let ns=window.MutationObserver||window.__rrMutationObserver;var rs=(rs=(ss=window==null?void 0:window.Zone)==null?void 0:ss.__symbol__)==null?void 0:rs.call(ss,"MutationObserver"),ss=new(ns=rs&&window[rs]?window[rs]:ns)(S$3(is.processMutations.bind(is)));return ss.observe(ts,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),ss}function Wr({mousemoveCb:es,sampling:ss,doc:is,mirror:ns}){if(ss.mousemove===!1)return()=>{};var rs=typeof ss.mousemove=="number"?ss.mousemove:50,ss=typeof ss.mousemoveCallback=="number"?ss.mousemoveCallback:500;let as,os=[],ds=Oe(S$3(fs=>{let ps=Date.now()-as;es(os.map(us=>(us.timeOffset-=ps,us)),fs),os=[],as=null}),ss),ls=S$3(Oe(S$3(fs=>{var ps=ke(fs),{clientX:us,clientY:ms}=je(fs)?fs.changedTouches[0]:fs;as=as||Date.now(),os.push({x:us,y:ms,id:ns.getId(ps),timeOffset:Date.now()-as}),ds(typeof DragEvent!="undefined"&&fs instanceof DragEvent?b$2.Drag:fs instanceof MouseEvent?b$2.MouseMove:b$2.TouchMove)}),rs,{trailing:!1})),cs=[Z("mousemove",ls,is),Z("touchmove",ls,is),Z("drag",ls,is)];return S$3(()=>{cs.forEach(fs=>fs())})}function Pr({mouseInteractionCb:es,doc:ts,mirror:is,blockClass:ns,blockSelector:rs,sampling:ss}){if(ss.mouseInteraction===!1)return()=>{};let as=ss.mouseInteraction===!0||ss.mouseInteraction===void 0?{}:ss.mouseInteraction,os=[],ds=null;return Object.keys(U$6).filter(ls=>Number.isNaN(Number(ls))&&!ls.endsWith("_Departed")&&as[ls]!==!1).forEach(ls=>{let cs=ls.toLowerCase();fs=ls;var fs,ps=us=>{var ms=ke(us);if(!B$2(ms,ns,rs,!0)){let hs=null,gs=fs;if("pointerType"in us){switch(us.pointerType){case"mouse":hs=le$2.Mouse;break;case"touch":hs=le$2.Touch;break;case"pen":hs=le$2.Pen}hs===le$2.Touch?U$6[fs]===U$6.MouseDown?gs="TouchStart":U$6[fs]===U$6.MouseUp&&(gs="TouchEnd"):le$2.Pen}else je(us)&&(hs=le$2.Touch);hs!==null?(ds=hs,(gs.startsWith("Touch")&&hs===le$2.Touch||gs.startsWith("Mouse")&&hs===le$2.Mouse)&&(hs=null)):U$6[fs]===U$6.Click&&(hs=ds,ds=null);var $s,us=je(us)?us.changedTouches[0]:us;us&&(ms=is.getId(ms),{clientX:us,clientY:$s}=us,S$3(es)(Qe({type:U$6[gs],id:ms,x:us,y:$s},hs!==null&&{pointerType:hs})))}};if(window.PointerEvent)switch(U$6[ls]){case U$6.MouseDown:case U$6.MouseUp:cs=cs.replace("mouse","pointer");break;case U$6.TouchStart:case U$6.TouchEnd:return}os.push(Z(cs,ps,ts))}),S$3(()=>{os.forEach(ls=>ls())})}function Ot({scrollCb:es,doc:ts,mirror:is,blockClass:ns,blockSelector:rs,sampling:ss}){return Z("scroll",S$3(Oe(S$3(as=>{if(as=ke(as),as&&!B$2(as,ns,rs,!0)){var os=is.getId(as);if(as===ts&&ts.defaultView){let ds=ct(ts.defaultView);es({id:os,x:ds.left,y:ds.top})}else es({id:os,x:as.scrollLeft,y:as.scrollTop})}}),ss.scroll||100)),ts)}function Gr({viewportResizeCb:es}){let ts=-1,is=-1;return Z("resize",S$3(Oe(S$3(()=>{var ns=dt(),rs=ut();ts===ns&&is===rs||(es({width:Number(rs),height:Number(ns)}),ts=ns,is=rs)}),200)),window)}function Rt(es,ts){return es=Qe({},es),ts||delete es.userTriggered,es}let Zr=["INPUT","TEXTAREA","SELECT"],$e=window.WeakMap!==void 0?new WeakMap:null;function Br({inputCb:es,doc:ts,mirror:is,blockClass:ns,blockSelector:rs,ignoreClass:ss,maskInputOptions:as,maskInputFn:os,sampling:ds,userTriggeredOnInput:ls}){function cs(gs){let hs=ke(gs);var gs=gs.isTrusted,ws=hs&&hs.tagName;if(!(!(hs=hs&&ws==="OPTION"?hs.parentElement:hs)||!ws||Zr.indexOf(ws)<0||B$2(hs,ns,rs,!0)||hs.classList.contains(ss))){let Ss=hs.value,Ts=!1;var vs=Ye(hs)||"",ws=(vs==="radio"||vs==="checkbox"?Ts=hs.checked:(as[ws.toLowerCase()]||as[vs])&&(Ss=Ue({element:hs,maskInputOptions:as,tagName:ws,type:vs,value:Ss,maskInputFn:os})),fs(hs,S$3(Rt)({text:Ss,isChecked:Ts,userTriggered:gs},ls)),hs.name);vs==="radio"&&ws&&Ts&&ts.querySelectorAll(`input[type="radio"][name="${ws}"]`).forEach(_s=>{_s!==hs&&fs(_s,S$3(Rt)({text:_s.value,isChecked:!Ts,userTriggered:!1},ls))})}}function fs($s,hs){if($e!==null){let gs=$e.get($s);if(!gs||gs.text!==hs.text||gs.isChecked!==hs.isChecked){$e.set($s,hs);let ws=is.getId($s);S$3(es)(Fr(Qe({},hs),{id:ws}))}}}let ps=(ds.input==="last"?["change"]:["input","change"]).map($s=>Z($s,S$3(cs),ts)),us=ts.defaultView;var ms;return us?(ds=us.Object.getOwnPropertyDescriptor(us.HTMLInputElement.prototype,"value"),ms=[[us.HTMLInputElement.prototype,"value"],[us.HTMLInputElement.prototype,"checked"],[us.HTMLSelectElement.prototype,"value"],[us.HTMLTextAreaElement.prototype,"value"],[us.HTMLSelectElement.prototype,"selectedIndex"],[us.HTMLOptionElement.prototype,"selected"]],ds&&ds.set&&ps.push(...ms.map($s=>Ee$2($s[0],$s[1],{set(){S$3(cs)({target:this,isTrusted:!1})}},!1,us))),S$3(()=>{ps.forEach($s=>$s())})):()=>{ps.forEach($s=>$s())}}function De(es){return es=es,ts=[],xe("CSSGroupingRule")&&es.parentRule instanceof CSSGroupingRule||xe("CSSMediaRule")&&es.parentRule instanceof CSSMediaRule||xe("CSSSupportsRule")&&es.parentRule instanceof CSSSupportsRule||xe("CSSConditionRule")&&es.parentRule instanceof CSSConditionRule?(is=Array.from(es.parentRule.cssRules).indexOf(es),ts.unshift(is)):es.parentStyleSheet&&(is=Array.from(es.parentStyleSheet.cssRules).indexOf(es),ts.unshift(is)),ts;var ts,is}function ue$2(es,ts,is){let ns,rs;return es?(es.ownerNode?ns=ts.getId(es.ownerNode):rs=is.getId(es),{styleId:rs,id:ns}):{}}function Vr({styleSheetRuleCb:es,mirror:ts,stylesheetManager:is},{win:ns}){if(!ns.CSSStyleSheet||!ns.CSSStyleSheet.prototype)return()=>{};let rs=ns.CSSStyleSheet.prototype.insertRule,ss=(ns.CSSStyleSheet.prototype.insertRule=new Proxy(rs,{apply:S$3((cs,fs,ps)=>{var[us,ms]=ps,{id:$s,styleId:hs}=ue$2(fs,ts,is.styleMirror);return($s&&$s!==-1||hs&&hs!==-1)&&es({id:$s,styleId:hs,adds:[{rule:us,index:ms}]}),cs.apply(fs,ps)})}),ns.CSSStyleSheet.prototype.deleteRule),as,os,ds=(ns.CSSStyleSheet.prototype.deleteRule=new Proxy(ss,{apply:S$3((cs,fs,ps)=>{var[us]=ps,{id:ms,styleId:$s}=ue$2(fs,ts,is.styleMirror);return(ms&&ms!==-1||$s&&$s!==-1)&&es({id:ms,styleId:$s,removes:[{index:us}]}),cs.apply(fs,ps)})}),ns.CSSStyleSheet.prototype.replace&&(as=ns.CSSStyleSheet.prototype.replace,ns.CSSStyleSheet.prototype.replace=new Proxy(as,{apply:S$3((cs,fs,ps)=>{var[us]=ps,{id:ms,styleId:$s}=ue$2(fs,ts,is.styleMirror);return(ms&&ms!==-1||$s&&$s!==-1)&&es({id:ms,styleId:$s,replace:us}),cs.apply(fs,ps)})})),ns.CSSStyleSheet.prototype.replaceSync&&(os=ns.CSSStyleSheet.prototype.replaceSync,ns.CSSStyleSheet.prototype.replaceSync=new Proxy(os,{apply:S$3((cs,fs,ps)=>{var[us]=ps,{id:ms,styleId:$s}=ue$2(fs,ts,is.styleMirror);return(ms&&ms!==-1||$s&&$s!==-1)&&es({id:ms,styleId:$s,replaceSync:us}),cs.apply(fs,ps)})})),{}),ls=(Fe("CSSGroupingRule")?ds.CSSGroupingRule=ns.CSSGroupingRule:(Fe("CSSMediaRule")&&(ds.CSSMediaRule=ns.CSSMediaRule),Fe("CSSConditionRule")&&(ds.CSSConditionRule=ns.CSSConditionRule),Fe("CSSSupportsRule")&&(ds.CSSSupportsRule=ns.CSSSupportsRule)),{});return Object.entries(ds).forEach(([cs,fs])=>{ls[cs]={insertRule:fs.prototype.insertRule,deleteRule:fs.prototype.deleteRule},fs.prototype.insertRule=new Proxy(ls[cs].insertRule,{apply:S$3((ps,us,ms)=>{var[$s,hs]=ms,{id:gs,styleId:ws}=ue$2(us.parentStyleSheet,ts,is.styleMirror);return(gs&&gs!==-1||ws&&ws!==-1)&&es({id:gs,styleId:ws,adds:[{rule:$s,index:[...De(us),hs||0]}]}),ps.apply(us,ms)})}),fs.prototype.deleteRule=new Proxy(ls[cs].deleteRule,{apply:S$3((ps,us,ms)=>{var[$s]=ms,{id:hs,styleId:gs}=ue$2(us.parentStyleSheet,ts,is.styleMirror);return(hs&&hs!==-1||gs&&gs!==-1)&&es({id:hs,styleId:gs,removes:[{index:[...De(us),$s]}]}),ps.apply(us,ms)})})}),S$3(()=>{ns.CSSStyleSheet.prototype.insertRule=rs,ns.CSSStyleSheet.prototype.deleteRule=ss,as&&(ns.CSSStyleSheet.prototype.replace=as),os&&(ns.CSSStyleSheet.prototype.replaceSync=os),Object.entries(ds).forEach(([cs,fs])=>{fs.prototype.insertRule=ls[cs].insertRule,fs.prototype.deleteRule=ls[cs].deleteRule})})}function Nt({mirror:es,stylesheetManager:ts},is){let ns,rs,ss,as,os=(as=is.nodeName==="#document"?es.getId(is):es.getId(is.host),is.nodeName==="#document"?(ns=is.defaultView)==null?void 0:ns.Document:(ss=(rs=is.ownerDocument)==null?void 0:rs.defaultView)==null?void 0:ss.ShadowRoot),ds=Object.getOwnPropertyDescriptor(os==null?void 0:os.prototype,"adoptedStyleSheets");return as!==null&&as!==-1&&os&&ds?(Object.defineProperty(is,"adoptedStyleSheets",{configurable:ds.configurable,enumerable:ds.enumerable,get(){var ls;return(ls=ds.get)==null?void 0:ls.call(this)},set(ls){var cs=(cs=ds.set)==null?void 0:cs.call(this,ls);if(as!==null&&as!==-1)try{ts.adoptStyleSheets(ls,as)}catch(fs){}return cs}}),S$3(()=>{Object.defineProperty(is,"adoptedStyleSheets",{configurable:ds.configurable,enumerable:ds.enumerable,get:ds.get,set:ds.set})})):()=>{}}function Hr({styleDeclarationCb:es,mirror:ts,ignoreCSSAttributes:is,stylesheetManager:ns},{win:rs}){let ss=rs.CSSStyleDeclaration.prototype.setProperty,as=(rs.CSSStyleDeclaration.prototype.setProperty=new Proxy(ss,{apply:S$3((os,ds,ls)=>{var cs,fs,[ps,us,ms]=ls;return is.has(ps)?ss.apply(ds,[ps,us,ms]):({id:cs,styleId:fs}=ue$2((cs=ds.parentRule)==null?void 0:cs.parentStyleSheet,ts,ns.styleMirror),(cs&&cs!==-1||fs&&fs!==-1)&&es({id:cs,styleId:fs,set:{property:ps,value:us,priority:ms},index:De(ds.parentRule)}),os.apply(ds,ls))})}),rs.CSSStyleDeclaration.prototype.removeProperty);return rs.CSSStyleDeclaration.prototype.removeProperty=new Proxy(as,{apply:S$3((os,ds,ls)=>{var cs,fs,[ps]=ls;return is.has(ps)?as.apply(ds,[ps]):({id:cs,styleId:fs}=ue$2((cs=ds.parentRule)==null?void 0:cs.parentStyleSheet,ts,ns.styleMirror),(cs&&cs!==-1||fs&&fs!==-1)&&es({id:cs,styleId:fs,remove:{property:ps},index:De(ds.parentRule)}),os.apply(ds,ls))})}),S$3(()=>{rs.CSSStyleDeclaration.prototype.setProperty=ss,rs.CSSStyleDeclaration.prototype.removeProperty=as})}function Ur({mediaInteractionCb:es,blockClass:ts,blockSelector:is,mirror:ns,sampling:rs}){let ss=S$3(os=>Oe(S$3(us=>{var ls,cs,fs,ps,us=ke(us);us&&!B$2(us,ts,is,!0)&&({currentTime:ls,volume:cs,muted:fs,playbackRate:ps}=us,es({type:os,id:ns.getId(us),currentTime:ls,volume:0,muted:!0,playbackRate:ps}))}),rs.media||500)),as=[Z("play",ss(ve.Play)),Z("pause",ss(ve.Pause)),Z("seeked",ss(ve.Seeked)),Z("volumechange",ss(ve.VolumeChange)),Z("ratechange",ss(ve.RateChange))];return S$3(()=>{as.forEach(os=>os())})}function Yr({fontCb:es,doc:ts}){let is=ts.defaultView;if(!is)return()=>{};let ns=[],rs=new WeakMap,ss=is.FontFace;return is.FontFace=function(as,os,ds){var ls=new ss(as,os,ds);return rs.set(ls,{family:as,buffer:typeof os!="string",descriptors:ds,fontSource:typeof os=="string"?os:JSON.stringify(Array.from(new Uint8Array(os)))}),ls},ts=Re(ts.fonts,"add",function(as){return function(os){return setTimeout(S$3(()=>{var ds=rs.get(os);ds&&(es(ds),rs.delete(os))}),0),as.apply(this,[os])}}),ns.push(()=>{is.FontFace=ss}),ns.push(ts),S$3(()=>{ns.forEach(as=>as())})}function zr(es){let{doc:ts,mirror:is,blockClass:ns,blockSelector:rs,selectionCb:ss}=es,as=!0;return es=S$3(()=>{var os=ts.getSelection();if(!(!os||as&&os!=null&&os.isCollapsed)){as=os.isCollapsed||!1;let ds=[],ls=os.rangeCount||0;for(let cs=0;cs<ls;cs++){let fs=os.getRangeAt(cs),{startContainer:ps,startOffset:us,endContainer:ms,endOffset:$s}=fs;B$2(ps,ns,rs,!0)||B$2(ms,ns,rs,!0)||ds.push({start:is.getId(ps),startOffset:us,end:is.getId(ms),endOffset:$s})}ss({ranges:ds})}}),es(),Z("selectionchange",es)}function Xr(es,ts){let{mutationCb:is,mousemoveCb:ns,mouseInteractionCb:rs,scrollCb:ss,viewportResizeCb:as,inputCb:os,mediaInteractionCb:ds,styleSheetRuleCb:ls,styleDeclarationCb:cs,canvasMutationCb:fs,fontCb:ps,selectionCb:us}=es;es.mutationCb=(...ms)=>{ts.mutation&&ts.mutation(...ms),is(...ms)},es.mousemoveCb=(...ms)=>{ts.mousemove&&ts.mousemove(...ms),ns(...ms)},es.mouseInteractionCb=(...ms)=>{ts.mouseInteraction&&ts.mouseInteraction(...ms),rs(...ms)},es.scrollCb=(...ms)=>{ts.scroll&&ts.scroll(...ms),ss(...ms)},es.viewportResizeCb=(...ms)=>{ts.viewportResize&&ts.viewportResize(...ms),as(...ms)},es.inputCb=(...ms)=>{ts.input&&ts.input(...ms),os(...ms)},es.mediaInteractionCb=(...ms)=>{ts.mediaInteaction&&ts.mediaInteaction(...ms),ds(...ms)},es.styleSheetRuleCb=(...ms)=>{ts.styleSheetRule&&ts.styleSheetRule(...ms),ls(...ms)},es.styleDeclarationCb=(...ms)=>{ts.styleDeclaration&&ts.styleDeclaration(...ms),cs(...ms)},es.canvasMutationCb=(...ms)=>{ts.canvasMutation&&ts.canvasMutation(...ms),fs(...ms)},es.fontCb=(...ms)=>{ts.font&&ts.font(...ms),ps(...ms)},es.selectionCb=(...ms)=>{ts.selection&&ts.selection(...ms),us(...ms)}}function jr(es,ts={}){var is=es.doc.defaultView;if(!is)return()=>{};Xr(es,ts);let ns=At(es,es.doc),rs=Wr(es),ss=Pr(es),as=Ot(es),os=Gr(es),ds=Br(es),ls=Ur(es),cs=Vr(es,{win:is}),fs=Nt(es,es.doc),ps=Hr(es,{win:is}),us=es.collectFonts?Yr(es):()=>{},ms=zr(es),$s=[];for(let hs of es.plugins)$s.push(hs.observer(hs.callback,is,hs.options));return S$3(()=>{pe$2.forEach(hs=>hs.reset()),ns.disconnect(),rs(),ss(),as(),os(),ds(),ls(),cs(),fs(),ps(),us(),ms(),$s.forEach(hs=>hs())})}function xe(es){return window[es]!==void 0}function Fe(es){return window[es]!==void 0&&window[es].prototype&&"insertRule"in window[es].prototype&&"deleteRule"in window[es].prototype}class kt{constructor(ts){this.generateIdFn=ts,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(ts,is,ns,rs){ns=ns||this.getIdToRemoteIdMap(ts),rs=rs||this.getRemoteIdToIdMap(ts);let ss=ns.get(is);return ss||(ss=this.generateIdFn(),ns.set(is,ss),rs.set(ss,is)),ss}getIds(ts,is){let ns=this.getIdToRemoteIdMap(ts),rs=this.getRemoteIdToIdMap(ts);return is.map(ss=>this.getId(ts,ss,ns,rs))}getRemoteId(ts,is,ns){return ns=ns||this.getRemoteIdToIdMap(ts),typeof is!="number"?is:ns.get(is)||-1}getRemoteIds(ts,is){let ns=this.getRemoteIdToIdMap(ts);return is.map(rs=>this.getRemoteId(ts,rs,ns))}reset(ts){ts?(this.iframeIdToRemoteIdMap.delete(ts),this.iframeRemoteIdToIdMap.delete(ts)):(this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}getIdToRemoteIdMap(ts){let is=this.iframeIdToRemoteIdMap.get(ts);return is||(is=new Map,this.iframeIdToRemoteIdMap.set(ts,is)),is}getRemoteIdToIdMap(ts){let is=this.iframeRemoteIdToIdMap.get(ts);return is||(is=new Map,this.iframeRemoteIdToIdMap.set(ts,is)),is}}class Kr{constructor(ts){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new kt(nt),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=ts.mutationCb,this.wrappedEmit=ts.wrappedEmit,this.stylesheetManager=ts.stylesheetManager,this.recordCrossOriginIframes=ts.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new kt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=ts.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(ts){this.iframes.set(ts,!0),ts.contentWindow&&this.crossOriginIframeMap.set(ts.contentWindow,ts)}addLoadListener(ts){this.loadListener=ts}attachIframe(ts,is){this.mutationCb({adds:[{parentId:this.mirror.getId(ts),nextId:null,node:is}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(is=this.loadListener)!=null&&is.call(this,ts),ts.contentDocument&&ts.contentDocument.adoptedStyleSheets&&0<ts.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(ts.contentDocument.adoptedStyleSheets,this.mirror.getId(ts.contentDocument))}handleMessage(ts){var is=ts;is.data.type==="rrweb"&&is.origin===is.data.origin&&ts.source&&(ts=this.crossOriginIframeMap.get(ts.source))&&(ts=this.transformCrossOriginEvent(ts,is.data.event))&&this.wrappedEmit(ts,is.data.isCheckout)}transformCrossOriginEvent(ts,is){var ns;switch(is.type){case w$3.FullSnapshot:{this.crossOriginIframeMirror.reset(ts),this.crossOriginIframeStyleMirror.reset(ts),this.replaceIdOnNode(is.data.node,ts);let rs=is.data.node.id;return this.crossOriginIframeRootIdMap.set(ts,rs),this.patchRootIdOnNode(is.data.node,rs),{timestamp:is.timestamp,type:w$3.IncrementalSnapshot,data:{source:b$2.Mutation,adds:[{parentId:this.mirror.getId(ts),nextId:null,node:is.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case w$3.Meta:case w$3.Load:case w$3.DomContentLoaded:return!1;case w$3.Plugin:return is;case w$3.Custom:return this.replaceIds(is.data.payload,ts,["id","parentId","previousId","nextId"]),is;case w$3.IncrementalSnapshot:switch(is.data.source){case b$2.Mutation:return is.data.adds.forEach(rs=>{this.replaceIds(rs,ts,["parentId","nextId","previousId"]),this.replaceIdOnNode(rs.node,ts);var ss=this.crossOriginIframeRootIdMap.get(ts);ss&&this.patchRootIdOnNode(rs.node,ss)}),is.data.removes.forEach(rs=>{this.replaceIds(rs,ts,["parentId","id"])}),is.data.attributes.forEach(rs=>{this.replaceIds(rs,ts,["id"])}),is.data.texts.forEach(rs=>{this.replaceIds(rs,ts,["id"])}),is;case b$2.Drag:case b$2.TouchMove:case b$2.MouseMove:return is.data.positions.forEach(rs=>{this.replaceIds(rs,ts,["id"])}),is;case b$2.ViewportResize:return!1;case b$2.MediaInteraction:case b$2.MouseInteraction:case b$2.Scroll:case b$2.CanvasMutation:case b$2.Input:return this.replaceIds(is.data,ts,["id"]),is;case b$2.StyleSheetRule:case b$2.StyleDeclaration:return this.replaceIds(is.data,ts,["id"]),this.replaceStyleIds(is.data,ts,["styleId"]),is;case b$2.Font:return is;case b$2.Selection:return is.data.ranges.forEach(rs=>{this.replaceIds(rs,ts,["start","end"])}),is;case b$2.AdoptedStyleSheet:return this.replaceIds(is.data,ts,["id"]),this.replaceStyleIds(is.data,ts,["styleIds"]),(ns=is.data.styles)!=null&&ns.forEach(rs=>{this.replaceStyleIds(rs,ts,["styleId"])}),is}}}replace(ts,is,ns,rs){for(var ss of rs)!Array.isArray(is[ss])&&typeof is[ss]!="number"||(Array.isArray(is[ss])?is[ss]=ts.getIds(ns,is[ss]):is[ss]=ts.getId(ns,is[ss]));return is}replaceIds(ts,is,ns){return this.replace(this.crossOriginIframeMirror,ts,is,ns)}replaceStyleIds(ts,is,ns){return this.replace(this.crossOriginIframeStyleMirror,ts,is,ns)}replaceIdOnNode(ts,is){this.replaceIds(ts,is,["id","rootId"]),"childNodes"in ts&&ts.childNodes.forEach(ns=>{this.replaceIdOnNode(ns,is)})}patchRootIdOnNode(ts,is){ts.type===x$5.Document||ts.rootId||(ts.rootId=is),"childNodes"in ts&&ts.childNodes.forEach(ns=>{this.patchRootIdOnNode(ns,is)})}}var Jr=Object.defineProperty,Qr=Object.defineProperties,$r=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,_t=(es,ts,is)=>ts in es?Jr(es,ts,{enumerable:!0,configurable:!0,writable:!0,value:is}):es[ts]=is,Lt=(es,ts)=>{for(var is in ts=ts||{})qr.call(ts,is)&&_t(es,is,ts[is]);if(Tt)for(var is of Tt(ts))en.call(ts,is)&&_t(es,is,ts[is]);return es},Et=(es,ts)=>Qr(es,$r(ts));class tn{constructor(ts){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=ts.mutationCb,this.scrollCb=ts.scrollCb,this.bypassOptions=ts.bypassOptions,this.mirror=ts.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(ts,is){if(Me(ts)&&!this.shadowDoms.has(ts)){this.shadowDoms.add(ts);let ns=At(Et(Lt({},this.bypassOptions),{doc:is,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),ts);this.restoreHandlers.push(()=>ns.disconnect()),this.restoreHandlers.push(Ot(Et(Lt({},this.bypassOptions),{scrollCb:this.scrollCb,doc:ts,mirror:this.mirror}))),setTimeout(()=>{ts.adoptedStyleSheets&&0<ts.adoptedStyleSheets.length&&this.bypassOptions.stylesheetManager.adoptStyleSheets(ts.adoptedStyleSheets,this.mirror.getId(ts.host)),this.restoreHandlers.push(Nt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},ts))},0)}}observeAttachShadow(ts){ts.contentWindow&&ts.contentDocument&&this.patchAttachShadow(ts.contentWindow.Element,ts.contentDocument)}patchAttachShadow(ts,is){let ns=this;this.restoreHandlers.push(Re(ts.prototype,"attachShadow",function(rs){return function(ss){return ss=rs.call(this,ss),this.shadowRoot&&gt(this)&&ns.addShadowRoot(this.shadowRoot,is),ss}}))}reset(){this.restoreHandlers.forEach(ts=>{try{ts()}catch(is){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),We=0;We<Se.length;We++)rn[Se.charCodeAt(We)]=We;var nn=function(es){for(var ts=new Uint8Array(es),is=ts.length,ns="",rs=0;rs<is;rs+=3)ns=(ns=(ns=(ns+=Se[ts[rs]>>2])+Se[(3&ts[rs])<<4|ts[rs+1]>>4])+Se[(15&ts[rs+1])<<2|ts[rs+2]>>6])+Se[63&ts[rs+2]];return is%3==2?ns=ns.substring(0,ns.length-1)+"=":is%3==1&&(ns=ns.substring(0,ns.length-2)+"=="),ns};let Dt=new Map;function on(es,ts){let is=Dt.get(es);return is||(is=new Map,Dt.set(es,is)),is.has(ts)||is.set(ts,[]),is.get(ts)}let xt=(es,ts,is)=>{if(es&&(Wt(es,ts)||typeof es=="object")){ts=on(is,es.constructor.name);let ns=ts.indexOf(es);return ns===-1&&(ns=ts.length,ts.push(es)),ns}};function Pe(es,ts,is){if(es instanceof Array)return es.map(ns=>Pe(ns,ts,is));if(es===null)return es;if(es instanceof Float32Array||es instanceof Float64Array||es instanceof Int32Array||es instanceof Uint32Array||es instanceof Uint8Array||es instanceof Uint16Array||es instanceof Int16Array||es instanceof Int8Array||es instanceof Uint8ClampedArray)return{rr_type:es.constructor.name,args:[Object.values(es)]};if(es instanceof ArrayBuffer)return{rr_type:es.constructor.name,base64:nn(es)};if(es instanceof DataView)return{rr_type:es.constructor.name,args:[Pe(es.buffer,ts,is),es.byteOffset,es.byteLength]};if(es instanceof HTMLImageElement){let ns=es.constructor.name,rs=es.src;return{rr_type:ns,src:rs}}return es instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:es.toDataURL()}:es instanceof ImageData?{rr_type:es.constructor.name,args:[Pe(es.data,ts,is),es.width,es.height]}:Wt(es,ts)||typeof es=="object"?{rr_type:es.constructor.name,index:xt(es,ts,is)}:es}let Ft=(es,ts,is)=>[...es].map(ns=>Pe(ns,ts,is)),Wt=(es,ts)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(is=>typeof ts[is]=="function").find(is=>es instanceof ts[is]);function an(es,ts,is,ns){let rs=[],ss=Object.getOwnPropertyNames(ts.CanvasRenderingContext2D.prototype);for(let as of ss)try{if(typeof ts.CanvasRenderingContext2D.prototype[as]!="function")continue;let os=Re(ts.CanvasRenderingContext2D.prototype,as,function(ds){return function(...ls){return B$2(this.canvas,is,ns,!0)||setTimeout(()=>{var cs=Ft([...ls],ts,this);es(this.canvas,{type:Ce["2D"],property:as,args:cs})},0),ds.apply(this,ls)}});rs.push(os)}catch(os){let ds=Ee$2(ts.CanvasRenderingContext2D.prototype,as,{set(ls){es(this.canvas,{type:Ce["2D"],property:as,args:[ls],setter:!0})}});rs.push(ds)}return()=>{rs.forEach(as=>as())}}function Pt(es,ts,is){let ns=[];try{var rs=Re(es.HTMLCanvasElement.prototype,"getContext",function(ss){return function(as,...os){return B$2(this,ts,is,!0)||"__context"in this||(this.__context=as),ss.apply(this,[as,...os])}});ns.push(rs)}catch(ss){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{ns.forEach(ss=>ss())}}function Gt(es,ts,is,ns,rs,ss,as){let os=[],ds=Object.getOwnPropertyNames(es);for(let ls of ds)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(ls))try{if(typeof es[ls]!="function")continue;let cs=Re(es,ls,function(fs){return function(...ps){var us=fs.apply(this,ps);if(xt(us,as,this),!B$2(this.canvas,ns,rs,!0)){let ms=Ft([...ps],as,this),$s={type:ts,property:ls,args:ms};is(this.canvas,$s)}return us}});os.push(cs)}catch(cs){let fs=Ee$2(es,ls,{set(ps){is(this.canvas,{type:ts,property:ls,args:[ps],setter:!0})}});os.push(fs)}return os}function sn(es,ts,is,ns,rs){let ss=[];return ss.push(...Gt(ts.WebGLRenderingContext.prototype,Ce.WebGL,es,is,ns,rs,ts)),ts.WebGL2RenderingContext!==void 0&&ss.push(...Gt(ts.WebGL2RenderingContext.prototype,Ce.WebGL2,es,is,ns,rs,ts)),()=>{ss.forEach(as=>as())}}function ln(es,ts){return atob(es)}function cn(ns,ts,is){var ns=ln(ns),rs=ns.indexOf(`
`,10)+1,ns=ns.substring(rs)+"",rs=new Blob([ns],{type:"application/javascript"});return URL.createObjectURL(rs)}function dn(es,ts,is){var ns;return function(rs){return ns=ns||cn(es),new Worker(ns,rs)}}var un=dn("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qCiAgICAgKiBiYXNlNjQtYXJyYXlidWZmZXIgMS4wLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXI+CiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMjEgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPgogICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2UKICAgICAqLwogICAgdmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nOwogICAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LgogICAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogICAgfQogICAgdmFyIGVuY29kZSA9IGZ1bmN0aW9uIChhcnJheWJ1ZmZlcikgewogICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJzsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdOwogICAgICAgIH0KICAgICAgICBpZiAobGVuICUgMyA9PT0gMikgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9OwoKICAgIGNvbnN0IGxhc3RCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICAgIGNvbnN0IHRyYW5zcGFyZW50QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsKICAgICAgaWYgKCJPZmZzY3JlZW5DYW52YXMiIGluIGdsb2JhbFRoaXMpIHsKICAgICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7CiAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgICAgICByZXR1cm4gYmFzZTY0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsKICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsKICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsKICAgICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICAgIH0KICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQogICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBpZCwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBiYXNlNjQsCiAgICAgICAgICB3aWR0aCwKICAgICAgICAgIGhlaWdodAogICAgICAgIH0pOwogICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgICAgfQogICAgfTsKCn0pKCk7Cgo="),Zt=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,hn=Object.prototype.propertyIsEnumerable,fn=(es,ts)=>{var is={};for(ns in es)pn.call(es,ns)&&ts.indexOf(ns)<0&&(is[ns]=es[ns]);if(es!=null&&Zt)for(var ns of Zt(es))ts.indexOf(ns)<0&&hn.call(es,ns)&&(is[ns]=es[ns]);return is},mn=(es,ts,is)=>new Promise((ns,rs)=>{var ss=ds=>{try{os(is.next(ds))}catch(ls){rs(ls)}},as=ds=>{try{os(is.throw(ds))}catch(ls){rs(ls)}},os=ds=>ds.done?ns(ds.value):Promise.resolve(ds.value).then(ss,as);os((is=is.apply(es,ts)).next())});class gn{constructor(ts){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(ds,ls)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(ds)||this.pendingCanvasMutations.set(ds,[]),this.pendingCanvasMutations.get(ds).push(ls)};var{sampling:is="all",win:ns,blockClass:rs,blockSelector:ss,recordCanvas:as,dataURLOptions:os}=ts;this.mutationCb=ts.mutationCb,this.mirror=ts.mirror,as&&is==="all"&&this.initCanvasMutationObserver(ns,rs,ss),as&&typeof is=="number"&&this.initCanvasFPSObserver(is,ns,rs,ss,{dataURLOptions:os})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(ts,is,ns,rs,ss){let as=Pt(is,ns,rs),os=new Map,ds=new un,ls=(ds.onmessage=us=>{var ms,$s,hs,gs=us.data.id;os.set(gs,!1),"base64"in us.data&&({base64:us,type:ms,width:$s,height:hs}=us.data,this.mutationCb({id:gs,type:Ce["2D"],commands:[{property:"clearRect",args:[0,0,$s,hs]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:us}],type:ms}]},0,0]}]}))},1e3/ts),cs,fs=0,ps=us=>{fs&&us-fs<ls||(fs=us,(()=>{let ms=[];return is.document.querySelectorAll("canvas").forEach($s=>{B$2($s,ns,rs,!0)||ms.push($s)}),ms})().forEach(ms=>mn(this,null,function*(){let $s,hs=this.mirror.getId(ms);if(!os.get(hs)){if(os.set(hs,!0),["webgl","webgl2"].includes(ms.__context)){let ws=ms.getContext(ms.__context);(($s=ws==null?void 0:ws.getContextAttributes())==null?void 0:$s.preserveDrawingBuffer)!==!1||ws!=null&&ws.clear(ws.COLOR_BUFFER_BIT)}var gs=yield createImageBitmap(ms);ds.postMessage({id:hs,bitmap:gs,width:ms.width,height:ms.height,dataURLOptions:ss.dataURLOptions},[gs])}}))),cs=requestAnimationFrame(ps)};cs=requestAnimationFrame(ps),this.resetObservers=()=>{as(),cancelAnimationFrame(cs)}}initCanvasMutationObserver(ts,is,ns){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let rs=Pt(ts,is,ns),ss=an(this.processMutation.bind(this),ts,is,ns),as=sn(this.processMutation.bind(this),ts,is,ns,this.mirror);this.resetObservers=()=>{rs(),ss(),as()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let ts=is=>{this.rafStamps.latestId=is,requestAnimationFrame(ts)};requestAnimationFrame(ts)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((ts,is)=>{var ns=this.mirror.getId(is);this.flushPendingCanvasMutationFor(is,ns)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(ts,is){var ns,rs;this.frozen||this.locked||(rs=this.pendingCanvasMutations.get(ts))&&is!==-1&&(ns=rs.map(ss=>fn(ss,["type"])),rs=rs[0].type,this.mutationCb({id:is,type:rs,commands:ns}),this.pendingCanvasMutations.delete(ts))}}class yn{constructor(ts){this.trackedLinkElements=new WeakSet,this.styleMirror=new Mr,this.mutationCb=ts.mutationCb,this.adoptedStyleSheetCb=ts.adoptedStyleSheetCb}attachLinkElement(ts,is){"_cssText"in is.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:is.id,attributes:is.attributes}]}),this.trackLinkElement(ts)}trackLinkElement(ts){this.trackedLinkElements.has(ts)||(this.trackedLinkElements.add(ts),this.trackStylesheetInLinkElement(ts))}adoptStyleSheets(ts,is){if(ts.length!==0){let ns={id:is,styleIds:[]},rs=[];for(let ss of ts){let as;if(this.styleMirror.has(ss))as=this.styleMirror.getId(ss);else{as=this.styleMirror.add(ss);let os=Array.from(ss.rules||CSSRule);rs.push({styleId:as,rules:os.map((ds,ls)=>({rule:et(ds),index:ls}))})}ns.styleIds.push(as)}0<rs.length&&(ns.styles=rs),this.adoptedStyleSheetCb(ns)}}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(ts){}}class In{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(ts,is){return ts=this.nodeMap.get(ts),ts&&Array.from(ts).some(ns=>ns!==is)}add(ts,is){this.nodeMap.set(ts,(this.nodeMap.get(ts)||new Set).add(is))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}var Cn=Object.defineProperty,vn=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,Vt=(es,ts,is)=>ts in es?Cn(es,ts,{enumerable:!0,configurable:!0,writable:!0,value:is}):es[ts]=is,X$2=(es,ts)=>{for(var is in ts=ts||{})bn.call(ts,is)&&Vt(es,is,ts[is]);if(Bt)for(var is of Bt(ts))wn.call(ts,is)&&Vt(es,is,ts[is]);return es},Mn=(es,ts)=>vn(es,Sn(ts));function F$1(es){return Mn(X$2({},es),{timestamp:Date.now()})}let L$5,Ge,qe,Ze=!1,ee$1=$t();function ce(es={}){let{emit:ts,checkoutEveryNms:is,checkoutEveryNth:ns,blockClass:rs="rr-block",blockSelector:ss=null,ignoreClass:as="rr-ignore",maskTextClass:os="rr-mask",maskTextSelector:ds=null,inlineStylesheet:ls=!0,maskAllInputs:cs,maskInputOptions:fs,slimDOMOptions:ps,maskInputFn:us,maskTextFn:ms,hooks:$s,packFn:hs,sampling:gs={},dataURLOptions:ws={},mousemoveWait:vs,recordCanvas:Ss=!1,recordCrossOriginIframes:Ts=!0,recordAfter:Cs=es.recordAfter==="DOMContentLoaded"?es.recordAfter:"load",userTriggeredOnInput:_s=!1,collectFonts:ys=!1,inlineImages:Es=!1,plugins:bs,keepIframeSrcFn:Is=()=>!1,ignoreCSSAttributes:Ms=new Set([]),errorHandler:Ls}=es,Gs=(kr(Ls),!Ts||window.parent===window),xs=!1;if(!Gs)try{window.parent.document&&(xs=!1)}catch(Ds){xs=!0}if(Gs&&!ts)throw new Error("emit function is required");vs!==void 0&&gs.mousemove===void 0&&(gs.mousemove=vs),ee$1.reset();let Ps=cs===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:fs!==void 0?fs:{password:!0},ks=ps===!0||ps==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:ps==="all",headMetaDescKeywords:ps==="all"}:ps||{};wr();let Zs,zs=0,js=Ds=>{for(var Ns of bs||[])Ns.eventProcessor&&(Ds=Ns.eventProcessor(Ds));return Ds=hs&&!xs?hs(Ds):Ds},Fs=(L$5=(Ds,Ns)=>{var Rs;if((Rs=pe$2[0])==null||!Rs.isFrozen()||Ds.type===w$3.FullSnapshot||Ds.type===w$3.IncrementalSnapshot&&Ds.data.source===b$2.Mutation||pe$2.forEach(Os=>Os.unfreeze()),Gs)ts!=null&&ts(js(Ds),Ns);else if(xs){let Os={type:"rrweb",event:js(Ds),origin:window.location.origin,isCheckout:Ns};window.parent.postMessage(Os,"*")}if(Ds.type===w$3.FullSnapshot)Zs=Ds,zs=0;else if(Ds.type===w$3.IncrementalSnapshot&&(Ds.data.source!==b$2.Mutation||!Ds.data.isAttachIframe)){zs++;let Os=ns&&zs>=ns,As=is&&Ds.timestamp-Zs.timestamp>is;(Os||As)&&Ge(!0)}},Ds=>{L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.Mutation},Ds)}))}),Vs=Ds=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.Scroll},Ds)})),Ys=Ds=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.CanvasMutation},Ds)})),Us=new yn({mutationCb:Fs,adoptedStyleSheetCb:Ds=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.AdoptedStyleSheet},Ds)}))}),Bs=new Kr({mirror:ee$1,mutationCb:Fs,stylesheetManager:Us,recordCrossOriginIframes:Ts,wrappedEmit:L$5});for(let Ds of bs||[])Ds.getMirror&&Ds.getMirror({nodeMirror:ee$1,crossOriginIframeMirror:Bs.crossOriginIframeMirror,crossOriginIframeStyleMirror:Bs.crossOriginIframeStyleMirror});let Ks=new In,Hs=(qe=new gn({recordCanvas:Ss,mutationCb:Ys,win:window,blockClass:rs,blockSelector:ss,mirror:ee$1,sampling:gs.canvas,dataURLOptions:ws}),new tn({mutationCb:Fs,scrollCb:Vs,bypassOptions:{blockClass:rs,blockSelector:ss,maskTextClass:os,maskTextSelector:ds,inlineStylesheet:ls,maskInputOptions:Ps,dataURLOptions:ws,maskTextFn:ms,maskInputFn:us,recordCanvas:Ss,inlineImages:Es,sampling:gs,slimDOMOptions:ks,iframeManager:Bs,stylesheetManager:Us,canvasManager:qe,keepIframeSrcFn:Is,processedNodeManager:Ks},mirror:ee$1}));Ge=(Ds=!1)=>{L$5(F$1({type:w$3.Meta,data:{href:window.location.href,width:ut(),height:dt()}}),Ds),Us.reset(),Hs.init(),pe$2.forEach(Rs=>Rs.lock());var Ns=Sr(document,{mirror:ee$1,blockClass:rs,blockSelector:ss,maskTextClass:os,maskTextSelector:ds,inlineStylesheet:ls,maskAllInputs:Ps,maskTextFn:ms,slimDOM:ks,dataURLOptions:ws,recordCanvas:Ss,inlineImages:Es,onSerialize:Rs=>{ht(Rs,ee$1)&&Bs.addIframe(Rs),ft(Rs,ee$1)&&Us.trackLinkElement(Rs),Ke(Rs)&&Hs.addShadowRoot(Rs.shadowRoot,document)},onIframeLoad:(Rs,Os)=>{Bs.attachIframe(Rs,Os),Hs.observeAttachShadow(Rs)},onStylesheetLoad:(Rs,Os)=>{Us.attachLinkElement(Rs,Os)},keepIframeSrcFn:Is});if(!Ns)return console.warn("Failed to snapshot the document");L$5(F$1({type:w$3.FullSnapshot,data:{node:Ns,initialOffset:ct(window)}}),Ds),pe$2.forEach(Rs=>Rs.unlock()),document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&Us.adoptStyleSheets(document.adoptedStyleSheets,ee$1.getId(document))};try{let Ds=[],Ns=Os=>S$3(jr)({mutationCb:Fs,mousemoveCb:(As,qs)=>L$5(F$1({type:w$3.IncrementalSnapshot,data:{source:qs,positions:As}})),mouseInteractionCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.MouseInteraction},As)})),scrollCb:Vs,viewportResizeCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.ViewportResize},As)})),inputCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.Input},As)})),mediaInteractionCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.MediaInteraction},As)})),styleSheetRuleCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.StyleSheetRule},As)})),styleDeclarationCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.StyleDeclaration},As)})),canvasMutationCb:Ys,fontCb:As=>L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.Font},As)})),selectionCb:As=>{L$5(F$1({type:w$3.IncrementalSnapshot,data:X$2({source:b$2.Selection},As)}))},blockClass:rs,ignoreClass:as,maskTextClass:os,maskTextSelector:ds,maskInputOptions:Ps,inlineStylesheet:ls,sampling:gs,recordCanvas:Ss,inlineImages:Es,userTriggeredOnInput:_s,collectFonts:ys,doc:Os,maskInputFn:us,maskTextFn:ms,keepIframeSrcFn:Is,blockSelector:ss,slimDOMOptions:ks,dataURLOptions:ws,mirror:ee$1,iframeManager:Bs,stylesheetManager:Us,shadowDomManager:Hs,processedNodeManager:Ks,canvasManager:qe,ignoreCSSAttributes:Ms,plugins:((Os=bs==null?void 0:bs.filter(As=>As.observer))==null?void 0:Os.map(As=>({observer:As.observer,options:As.options,callback:qs=>L$5(F$1({type:w$3.Plugin,data:{plugin:As.name,payload:qs}}))})))||[]},$s),Rs=(Bs.addLoadListener(Os=>{try{Ds.push(Ns(Os.contentDocument))}catch(As){console.warn(As)}}),()=>{Ge(),Ds.push(Ns(document)),Ze=!0});return document.readyState==="interactive"||document.readyState==="complete"?Rs():(Ds.push(Z("DOMContentLoaded",()=>{L$5(F$1({type:w$3.DomContentLoaded,data:{}})),Cs==="DOMContentLoaded"&&Rs()})),Ds.push(Z("load",()=>{L$5(F$1({type:w$3.Load,data:{}})),Cs==="load"&&Rs()},window))),()=>{Ds.forEach(Os=>Os()),Ks.destroy(),Ze=!1,Tr()}}catch(Ds){console.warn(Ds)}}function An(es){return es=JSON.stringify(es),es=$r$1.gzip(es,{level:9}),btoa(new Uint8Array(es).reduce(function(ts,is){return ts+String.fromCharCode(is)},""))}function On(es,ts){var is,ns;isDefined(window.stopBonreeRecordUpload)||q$1.length===0||(se===0&&(se=1e3*q$1[0].timestamp),(is=new FormData).append("s",bonreeRUM.getSession()),is.append("v",bonreeRUM&&bonreeRUM.version||"1.0.0"),is.append("mt",String(now())),is.append("cmt",String(ts.initTime)),is.append("di",JSON.stringify(getDeviceInfo())),is.append("ai",JSON.stringify({ai:ts.appId,av:ts.appVersion||"unknown",an:ts.appName||"unknown",at:4})),ts.dataFusionInfo=="net"&&is.append("dfi",JSON.stringify({net:"net"})),se===0&&(se=1e3*q$1[0].timestamp),is.append("st",se),!isDefined(window.bonreeRUM)&&isDefined(window.bonreeRUM.getUserInfo)?log("C154"):(Object.getOwnPropertyNames(bonreeRUM.getUserInfo()).length!==0&&is.append("ui",JSON.stringify(Object.entries(bonreeRUM.getUserInfo())[0][1])),ns=1e3*q$1[q$1.length-1].timestamp-se,is.append("ud",ns),se=1e3*q$1[q$1.length-1].timestamp,is.append("wev","2.0.0-alpha.8"),ns=new Blob([JSON.stringify({wsd:An(q$1)})],{type:"application/json"}),is.append("event",ns),Rn(is,es+"?a="+ts.appId+"&brkey="+uuid()+"&d="+getDeviceInfo().di+"&v=2024041001")))}function Rn(es,ts){window.fetch&&fetch(ts,{method:"POST",body:es}).then(function(is){if(is!==void 0)return q$1=[],is.json()},function(is){console.warn("fetch reject:",is)}).catch(function(is){console.warn("fetch reject:",is)})}function BonreeRecord(es){u$1.BonreeRecordState=!0,(is=es.RecordConfiguration||es.mc)instanceof Array&&is.forEach(function(rs){rs.n==="sessionreplay"&&(ts=rs)});var ts,is=ts||is;if(isDefined(is)){var ns=function(rs){return!(rs<Math.floor(100*Math.random()))};if(isDefined(is)&&isDefined(is.Rate)&&ns(is.Rate)||isDefined(is)&&isDefined(is.c)&&ns(is.c))return be=window.location.protocol==="https:"?is.UploadHttps||is.src&&is.src.uas:is.UploadHttp||is.src&&is.src.ua,isDefined(window.$bonreeReplayUrl=be)&&setInterval(On,1e3*(is.UploadCycle||is.src&&is.src.uc),be,es),ns={emit:function(rs){q$1.push(rs)},maskAllInputs:!0,recordCanvas:!0,recordCrossOriginIframes:!0,maskTextSelector:"body",maskTextFn:function(rs){var ss;return rs.indexOf(`
`)===-1?"*".repeat(rs.length):(ss=rs.trim(),rs.replace(ss,"*".repeat(ss.length)))}},es={emit:function(rs){q$1.push(rs)},maskAllInputs:!0,recordCanvas:!0,recordCrossOriginIframes:!0},is.src&&is.src.sl!==void 0?is.src.sl===1?ce(ns):ce(es):is.Sensitivity!==void 0?is.Sensitivity===1?ce(ns):ce(es):void 0}}ce.addCustomEvent=(es,ts)=>{if(!Ze)throw new Error("please add custom event after start recording");L$5(F$1({type:w$3.Custom,data:{tag:es,payload:ts}}))},ce.freezePage=()=>{pe$2.forEach(es=>es.freeze())},ce.takeFullSnapshot=es=>{se=0,Ze&&Ge(es)},ce.mirror=ee$1,BonreeRecord.takeFullSnapshot=ce.takeFullSnapshot;let D$4=class{constructor(){this.firstDayEnd=0,this.isFirstDay=!1}getTodayEnd(){var is=new Date,es=is.getFullYear(),ts=is.getMonth(),is=is.getDate();return+new Date(es,ts,is+1)}unserialize(es){try{return JSON.parse(es)}catch(ts){return es}}updateFirstDay(es){var ts=this.unserialize(getLocaStore(GC.FIRST_DAY));return ts&&isRightTimestamp(ts)?(this.firstDayEnd=ts,this.isFirstDay=es<=this.firstDayEnd):(this.firstDayEnd=this.getTodayEnd(),this.isFirstDay=!0,setLocalStore(GC.FIRST_DAY,this.firstDayEnd)),this.isFirstDay}getIsFirstDay(es){return this.updateFirstDay(es)}},y$3=new D$4;class Protocol{constructor(){this.json={v:bonreeRUM&&bonreeRUM.version||"1.0.0",e:[]}}}Protocol.prototype.setMonitorTime=function(es){return this.json.mt=es,this},Protocol.prototype.setConfigTime=function(es){return this.json.cmt=es,this},Protocol.prototype.setSessionId=function(es){return this.json.s=es,this},Protocol.prototype.setDeviceInfo=function(es){return this.json.di=es,this},Protocol.prototype.setAppInfo=function(es){return this.json.ai=es,this},Protocol.prototype.setFirstUserInfoIndex=function(){var es=u$1.firstUserInfoSetMapKey;return es!==""&&(this.json.fui=es,u$1.updateFirstUserInfoSetMapKey("")),this},Protocol.prototype.setUserInfo=function(es){return this.json.ui=es,this},Protocol.prototype.setEventViewInfo=function(es){return this.json.evi=es,this},Protocol.prototype.setIfd=function(es){return this.json.ifd=es,this},Protocol.prototype.setEei=function(es){return isEmpty(es)||(this.json.eei=es),this},Protocol.prototype.setSessionDuration=function(es){return this.json.usd=es,this},Protocol.prototype.pushEventData=function(es){var ts={k:es.type,ent:es.ent,sin:es.sin,v:es.data};return isDefined(es.eei)&&!isEmpty(es.eei)&&(ts.eei=es.eei),isDefined(es.revts)&&(ts.revts=es.revts),this.json.e.push(ts),this},Protocol.prototype.build=function(es){return this.json},Protocol.prototype.setDataFusionInfo=function(es){return this.json.dfi={net:es},this},Protocol.prototype.setSessionStartTime=function(es){return this.json.sst=es,this};let c=3e4,a$3=[],p$3=!0;function A$4(){return f$2.sett.isFirstUpload?(extend(f$2.sett,{isFirstUpload:0}),1):0}function S$2(es,ts){let is="";return window.location.protocol==="https:"?(isDefined(f$2.sett.uploadAddrHttps)&&(is=f$2.sett.uploadAddrHttps),isDefined(f$2.secondSett.uploadAddrHttps)&&(is=f$2.secondSett.uploadAddrHttps)):(isDefined(f$2.sett.uploadAddrHttp)&&(is=f$2.sett.uploadAddrHttp),isDefined(f$2.secondSett.uploadAddrHttp)&&(is=f$2.secondSett.uploadAddrHttp)),is=(is=(is=(is=(is=(is=(is+="?v=2024041001")+("&a="+es.ai.ai))+("&d="+es.di.di))+("&mt="+es.mt))+("&cmt="+es.cmt))+("&s="+es.s)+("&brkey="+ts))+("&if="+A$4()),f$2.sett.sm4Config!==void 0&&/^[A-Za-z0-9_-]{1,256}$/.test(f$2.sett.sm4Config.identify||f$2.sett.sm4Config.identifier)&&(is+="&BR-Encryption-Method=sm4:"+(f$2.sett.sm4Config.identify||f$2.sett.sm4Config.identifier)),isDefined(window.bonreeRUM)&&window.bonreeRUM.isPrivate?is+="&isp=1":is+="&isp=0",is}function C$3(es,ts,is,ns,rs){var ss;if(window.XDomainRequest)return(ss=new window.XDomainRequest).open("POST",es),ss.timeout=c,ss.onload=function(){is&&is(!0)},ss.onerror=ss.ontimeout=function(){is&&is(!1)},delay(function(){ss.send(ts)});if(window.XMLHttpRequest){ss=new window.XMLHttpRequest;try{ss.$$inner=!0,ss.overrideMimeType("text/plain"),ss.open("POST",es,!0),ss.setRequestHeader("brkey",rs),ss.timeout=c,ss.onreadystatechange=function(){ss.readyState===4&&(is&&is(ss.status===200),h$8(ss))}}catch(as){}ss.send(ts)}}function H$3(){return/\bQQ\b/i.test(navigator.userAgent)}function h$8(es){p$3=!0,w$2()}function w$2(es,ts,is,ns,rs){if(es&&ts&&a$3.length<100&&a$3.push({data:ts,uid:rs,url:es}),p$3===!0&&0<a$3.length){let ss=a$3.shift();p$3=!1,C$3(ss.url,ss.data,is,!0,ss.uid)}}function sendUpload(es,ts,is){var ns=uuid(),rs=S$2(es,ns);if(startWith(rs,"http")){var ss,as=f$2.sett.useXHR||f$2.secondSett.useXHR||!1;if(window.navigator&&navigator.sendBeacon&&!H$3()&&as===!1){if(f$2.sett.sm4Config!==void 0&&/^[A-Za-z0-9_-]{1,256}$/.test(f$2.sett.sm4Config.identify||f$2.sett.sm4Config.identifier)){try{isDefined(window.BonreeRecord)&&window.BonreeRecord.Sm4&&(ss=new window.BonreeRecord.Sm4(f$2.sett.sm4Config)),isDefined(window.BonreeAgent)&&window.BonreeAgent.Sm4&&(ss=new window.BonreeAgent.Sm4(f$2.sett.sm4Config))}catch(os){return log("C156"),as=f$2.sett.sm4Config.identify||f$2.sett.sm4Config.identifier,is(navigator.sendBeacon(rs.replace("&BR-Encryption-Method=sm4:"+as,""),stringify(es)))}return is(navigator.sendBeacon(rs,ss.encrypt(stringify(es))))}return is(navigator.sendBeacon(rs,stringify(es)))}if(f$2.sett.sm4Config!==void 0){if(isDefined(window.BonreeRecord)&&window.BonreeRecord.Sm4)return w$2(rs,(ss=new window.BonreeRecord.Sm4(f$2.sett.sm4Config)).encrypt(stringify(es)),is,ts,ns);if(isDefined(window.BonreeAgent)&&window.BonreeAgent.Sm4)return w$2(rs,(ss=new window.BonreeAgent.Sm4(f$2.sett.sm4Config)).encrypt(stringify(es)),is,ts,ns)}w$2(rs,stringify(es),is,ts,ns)}}let T$6=0,S$1=[],s$4={WORKER:null,IDLE:0,CAPACITY:0,RETRY:3},g$7=0,O$5="br-session-cache";function setTotalSize(es){return g$7+=es}function B$1(){var es;0<s$4.IDLE||(es=Number(f$2.sett.cycleTime)||Number(f$2.secondSett.cycleTime)||10,s$4.IDLE=es&&0<es&&es<=60?1e3*es:1e4)}function getMaxSize(){var es;0<s$4.CAPACITY||(es=Number(f$2.sett.maxSize)||Number(f$2.secondSett.maxSize)||20,s$4.CAPACITY=es&&0<es&&es<=60?1024*es:20480)}function _(es){var ts=0;if(es.length!==0)return forEach(es,function(is){(ts===0||ts>is.data.ent)&&(ts=is.data.ent)}),ts}function K$2(){v$8(GC.FLUSH_DATA,function(es){var ts;B$1(),f$2.sett.osType!==1||isDefined(s$4.WORKER)||(ts=setInterval(E$5,s$4.IDLE),s$4.changeData(ts)),1<u$1.state&&!isDefined(s$4.WORKER)&&(ts=setInterval(E$5,s$4.IDLE),s$4.changeData(ts)),E$5(es.p)}),v$8(GC.INIT_SESSION_START,function(es){T$6=0})}function W$3(es,ts,is){let ns=new Protocol;var rs={ai:f$2.sett.appId||f$2.secondSett.appId,av:f$2.sett.appVersion||f$2.secondSett.appVersion||"unknown",an:f$2.sett.appName||f$2.secondSett.appName||"unknown",at:4};isDefined(f$2.sett.channelId)&&(rs.ci=f$2.sett.channelId),ns.setMonitorTime(now()).setConfigTime(f$2.sett.initTime).setSessionId(B$5.getSession().sessionID).setAppInfo(rs).setUserInfo(u$1.getUserInfo()).setEventViewInfo(u$1.getEviData()).setEei(u$1.getEeiData()).setIfd(y$3.getIsFirstDay(+new Date)).setFirstUserInfoIndex(),isDefined(window.BonreeAgent)&&isDefined(window.BonreeAgent.getDeviceInfo)?ns.setDeviceInfo(window.BonreeAgent.getDeviceInfo()):log("C153"),isDefined(window.BonreeRecord)&&isDefined(window.BonreeRecord.getDeviceInfo)?ns.setDeviceInfo(window.BonreeRecord.getDeviceInfo()):log("C153"),isDefined(f$2.sett.dataFusionInfo)&&f$2.sett.dataFusionInfo=="net"&&ns.setDataFusionInfo("net"),T$6===0&&(T$6=_(S$1)),ns.setSessionStartTime(T$6);let ss=0,as=0;forEach(es,function(os){var ds=os.ent;if((ds<ss||ss===0)&&(ss=ds),(ds>as||as===0)&&(as=ds),isDefined(os.revts))for(var ls of os.revts)ls.ent<ss&&(ss=ls.ent),ls.ent>as&&(as=ls.ent);ns.pushEventData(os)},function(){var os,ds=getCookie(O$5),ls=isJSON(ds)&&JSON.parse(ds)||[];for(os of ls)isDefined(os.startTime)&&os.startTime==0&&(os.startTime=ss,B$5.setSessionCookie(O$5,JSON.stringify(ls)))}),rs=d$6.usdTime&&as-d$6.usdTime||as-ss,rs=Math.abs(rs),d$6.changUsdTime(as),ns.setSessionDuration(rs),sendUpload(ns.build(),ts,is)}function k$2(es,ts,is){if(isDefined(es)&&!isEmpty(es))try{W$3(es,ts,is),is&&is(!0)}catch(ns){log(ns),is&&is(!1)}}function J$1(es,ts){let is,ns=[],rs=0,ss=0;if(rs>=s$4.RETRY)return log("C117");function as(os,ds){!isEmpty(ns)&&(getMaxSize(),os||ss>s$4.CAPACITY)&&(k$2(ns,ts,function(ls){ls?0<rs&&(rs=0):(rs+=1,ts||delay(function(){var cs=size(es);ss+=cs,ns.push(es)},s$4.IDLE/10))}),ns=[],ss=0,is=os===1?ds:null)}forEach(es,os=>{var ls=os.data&&os.data.e;if(os.data&&os.data.eei&&delete os.data.eei,!isDefined(ls))return ss+=os.size,ns.push(os.data),as.call(this);var ds=ls[0],ls=ls[1],cs=os.data&&os.data.p.info;cs.userTime=Math.max(0,cs.timestamp-ls),(is=isDefined(is)?is:ds)!==ds&&as.call(this,1,ds),ss+=os.size,ns.push(os.data),as.call(this)}),as.call(this,2)}function E$5(es){isEmpty(S$1)||(g$9.useAPI||g$9.startCatchDataFun(),J$1(S$1,es),S$1=[],g$7=0)}s$4.changeData=function(es){this.WORKER=es};var h$7={};let a$2=class Ws{constructor(ts,is,ns=!1,rs,ss=-1,as=!1,os){this.isChild=ns,isDefined(rs)&&(this.startTime=rs),isDefined(ts)&&isDefined(is)&&typeof ts=="string"&&typeof is=="string"&&/^[a-zA-Z0-9:_-\s@./]+$/.test(is)&&is.trim()!==""&&/^[a-zA-Z0-9:_-\s@./]+$/.test(ts)&&ts.trim()!==""?(this.spanEvent={n:ts.slice(0,256),t:is.slice(0,256),da:[],tag:[],m:[],ic:!0,st:isDefined(rs)?1e3*new Date().getTime()-rs:0},this.special=as):this.special=!0,ns||this.special||(this.spanEvent.timestamp=1e3*new Date().getTime(),this.startTime=this.spanEvent.timestamp),ns?(this.identify=os,h$7[this.identify]=h$7[this.identify]+1):(this.identify=uuid(),h$7[this.identify]=0),this.dataSave=[],this.tagSave=[],this.metricSave=[],this.childSave=[],this.hasFinished=!1,this.deep=ss+1}startChild(ts,is){return this.hasFinished||!(isDefined(ts)&&isDefined(is)&&typeof ts=="string"&&typeof is=="string"&&/^[a-zA-Z0-9:_-\s@./]+$/.test(is)&&is.trim()!==""&&/^[a-zA-Z0-9:_-\s@./]+$/.test(ts)&&ts.trim()!=="")||this.special||10<=this.deep||isDefined(this.childSave)&&50<=this.childSave.length||isDefined(h$7)&&isDefined(h$7[this.identify])&&200<=h$7[this.identify]?new Ws("name","type",!0,this.startTime,this.deep,!0,this.identify):isDefined(this.spanEvent)?(ts=new Ws(ts,is,!0,this.startTime,this.deep,!1,this.identify),isDefined(this.spanEvent.sub)?this.spanEvent.sub.push(ts.spanEvent):this.spanEvent.sub=[ts.spanEvent],this.childSave.push(ts),ts):void 0}setData(ts,is){if(!this.special&&!this.hasFinished&&isDefined(ts)&&isDefined(is)&&typeof ts=="string"&&typeof is=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&is.trim()!==""&&!(isDefined(this.spanEvent.da)&&64<=this.spanEvent.da.length)&&isDefined(this.spanEvent.da))if(0<this.spanEvent.da.length)if(isDefined(this.dataSave)&&-1<this.dataSave.indexOf(ts))for(let ns=0;ns<this.spanEvent.da.length;ns++)isDefined(this.spanEvent.da[ns].k)&&this.spanEvent.da[ns].k===ts&&(this.spanEvent.da[ns].k=ts,this.spanEvent.da[ns].v=is.slice(0,7e3));else this.spanEvent.da.push({k:ts,v:is.slice(0,7e3)}),this.dataSave.push(ts);else this.spanEvent.da.push({k:ts,v:is.slice(0,7e3)}),this.dataSave.push(ts)}removeData(ts){if(!this.special&&!this.hasFinished&&isDefined(ts)&&typeof ts=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&isDefined(this.dataSave)&&-1<this.dataSave.indexOf(ts))for(let ns=0;ns<this.spanEvent.da.length;ns++){var is;isDefined(this.spanEvent.da[ns].k)&&this.spanEvent.da[ns].k===ts&&(this.spanEvent.da.splice(ns,1),is=this.dataSave.indexOf(ts),this.dataSave.splice(is,1))}}setTag(ts,is){if(!this.special&&!this.hasFinished&&isDefined(ts)&&isDefined(is)&&typeof ts=="string"&&typeof is=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&is.trim()!==""&&!(isDefined(this.spanEvent.tag)&&64<=this.spanEvent.tag.length)&&isDefined(this.spanEvent.tag))if(0<this.spanEvent.tag.length)if(isDefined(this.tagSave)&&-1<this.tagSave.indexOf(ts))for(let ns=0;ns<this.spanEvent.tag.length;ns++)isDefined(this.spanEvent.tag[ns].k)&&this.spanEvent.tag[ns].k===ts&&(this.spanEvent.tag[ns].k=ts,this.spanEvent.tag[ns].v=is.slice(0,7e3));else this.spanEvent.tag.push({k:ts,v:is.slice(0,7e3)}),this.tagSave.push(ts);else this.spanEvent.tag.push({k:ts,v:is.slice(0,7e3)}),this.tagSave.push(ts)}removeTag(ts){if(!this.special&&!this.hasFinished&&isDefined(ts)&&typeof ts=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&isDefined(this.tagSave)&&-1<this.tagSave.indexOf(ts))for(let ns=0;ns<this.spanEvent.tag.length;ns++){var is;isDefined(this.spanEvent.tag[ns].k)&&this.spanEvent.tag[ns].k===ts&&(this.spanEvent.tag.splice(ns,1),is=this.tagSave.indexOf(ts),this.tagSave.splice(is,1))}}setMetric(ts,is,ns){if(!this.special&&!this.hasFinished&&isDefined(ts)&&isDefined(is)&&typeof is=="number"&&typeof ts=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&!(isDefined(this.spanEvent.m)&&64<=this.spanEvent.m.length)&&isDefined(this.spanEvent.m))if(0<this.spanEvent.m.length)if(isDefined(this.metricSave)&&-1<this.metricSave.indexOf(ts))for(let rs=0;rs<this.spanEvent.m.length;rs++)isDefined(this.spanEvent.m[rs].k)&&this.spanEvent.m[rs].k===ts&&(this.spanEvent.m[rs].k=ts,this.spanEvent.m[rs].v=Math.round(is),isDefined(ns)&&typeof ns=="string"&&ns.length<=256&&/^[a-zA-Z0-9:_-\s@./]+$/.test(ns)&&ns.trim()!==""?this.spanEvent.m[rs].u=ns:delete this.spanEvent.m[rs].u);else isDefined(ns)&&typeof ns=="string"&&ns.length<=256&&/^[a-zA-Z0-9:_-\s@./]+$/.test(ns)&&ns.trim()!==""?this.spanEvent.m.push({k:ts,v:Math.round(is),u:ns}):this.spanEvent.m.push({k:ts,v:Math.round(is)}),this.metricSave.push(ts);else isDefined(ns)&&typeof ns=="string"&&ns.length<=256&&/^[a-zA-Z0-9:_-\s@./]+$/.test(ns)&&ns.trim()!==""?this.spanEvent.m.push({k:ts,v:Math.round(is),u:ns}):this.spanEvent.m.push({k:ts,v:Math.round(is)}),this.metricSave.push(ts)}removeMetric(ts){if(!this.special&&!this.hasFinished&&isDefined(ts)&&typeof ts=="string"&&!(200<ts.length)&&/^[a-zA-Z][a-zA-Z._-]{0,199}$/.test(ts)&&ts.trim()!==""&&isDefined(this.metricSave)&&-1<this.metricSave.indexOf(ts))for(let ns=0;ns<this.spanEvent.m.length;ns++){var is;isDefined(this.spanEvent.m[ns].k)&&this.spanEvent.m[ns].k===ts&&(this.spanEvent.m.splice(ns,1),is=this.metricSave.indexOf(ts),this.metricSave.splice(is,1))}}setDuration(ts){this.special||this.hasFinished||!isDefined(ts)||typeof ts!="number"||(this.spanEvent.du=Math.round(ts))}setStatus(ts){this.special||this.hasFinished||!isDefined(ts)||typeof ts!="number"||ts!==0&&ts!==1&&ts!==2||(this.spanEvent.sta=ts)}setStatusCode(ts){this.special||this.hasFinished||!isDefined(ts)||typeof ts!="string"||7e3<ts.length||ts.trim()===""||(this.spanEvent.stac=ts)}finish(ts){if(!this.special&&!this.hasFinished&&(!isDefined(ts)&&typeof ts!="number"||ts!==0&&ts!==1&&ts!==2||(this.spanEvent.sta=ts),this.hasFinished=!0,isDefined(this.spanEvent.da)&&this.spanEvent.da.length===0&&delete this.spanEvent.da,isDefined(this.spanEvent.tag)&&this.spanEvent.tag.length===0&&delete this.spanEvent.tag,isDefined(this.spanEvent.m)&&this.spanEvent.m.length===0&&delete this.spanEvent.m,isDefined(this.spanEvent.du)||(this.spanEvent.du=1e3*new Date().getTime()-this.startTime-this.spanEvent.st),isDefined(this.spanEvent.sta)||(this.spanEvent.sta=1),isDefined(this.spanEvent.st))&&isDefined(this.spanEvent.n)&&isDefined(this.spanEvent.t)&&isDefined(this.spanEvent.ic)){if(isDefined(this.childSave)&&0<this.childSave.length)for(let is=0;is<this.childSave.length;is++)this.childSave[is].finish();this.isChild||(isDefined(h$7)&&isDefined(h$7[this.identify])&&delete h$7[this.identify],c$2({t:GC.SPAN_DATA,p:{info:this.spanEvent}}))}}},T$5=class{constructor(){this.varObj={},this.localObj={},this.pushData={}}objDeal(es){let ts=0;for(var is in es){var ns;ts>=GC.LIMIT_64&&delete es[is],ts+=1,Object.hasOwnProperty.call(es,is)&&(ns=es[is],isString(is)&&GC.ATT_REG.test(is)&&!(is.length>GC.LIMIT_256)&&isDefined(ns)&&typeof ns!="object"||(delete es[is],--ts),isDefined(ns))&&typeof ns=="string"&&ns.length>GC.LIMIT_512&&(es[is]=set_length(ns,GC.LIMIT_512))}return es}addWithObj(es,ts){for(let is in es)Object.hasOwnProperty.call(es,is)&&(is==null||/^\s{0,}$/.test(is)||typeof is=="number"||typeof is=="boolean")&&delete es[is];typeof this.varObj=="object"&&64<=Object.keys(this.varObj).length||(ts?(ts=getLocaStore(GC.BR_ATTRIBUTE)||"{}",this.localObj=Object.assign({},JSON.parse(ts),this.objDeal(es)),setLocalStore(GC.BR_ATTRIBUTE,JSON.stringify(this.localObj))):(ts=Object.assign({},this.varObj),this.varObj=Object.assign({},ts,this.objDeal(es))),this.sendObj())}addWithKey(es,ts,is){es==null||/^\s{0,}$/.test(es)||typeof es=="number"||typeof es=="boolean"||typeof this.varObj=="object"&&64<=Object.keys(this.varObj).length||!isString(es)||!GC.ATT_REG.test(es)||es.length>GC.LIMIT_256||!isDefined(ts)||typeof ts=="object"||(es={[es]:ts=typeof ts!="number"&&ts.length>GC.LIMIT_512?set_length(ts,GC.LIMIT_512):ts},is?(ts=getLocaStore(GC.BR_ATTRIBUTE)||"{}",this.localObj=Object.assign({},JSON.parse(ts),es),setLocalStore(GC.BR_ATTRIBUTE,JSON.stringify(this.localObj))):(is=Object.assign({},this.varObj),this.varObj=Object.assign({},is,es)),this.sendObj())}delWithKeys(es){let ts=JSON.parse(getLocaStore(GC.BR_ATTRIBUTE)||"{}"),is=this.varObj;isArray(es)&&forEach(es,function(ns){delete ts[ns],delete is[ns]}),this.localObj=Object.assign({},ts),setLocalStore(GC.BR_ATTRIBUTE,JSON.stringify(this.localObj)),this.varObj=Object.assign({},is),this.sendObj()}delAll(){c$2({t:GC.FLUSH_DATA,p:!1}),this.localObj={},setLocalStore(GC.BR_ATTRIBUTE,JSON.stringify(this.localObj)),this.varObj={},this.sendObj()}sendObj(){var es=getLocaStore(GC.BR_ATTRIBUTE)||"{}",ts=Object.assign({},JSON.parse(es),this.varObj);if(64<Object.keys(ts).length){let ns=0;for(var is in ts)Object.hasOwnProperty.call(ts,is)&&(64<=ns?delete ts[is]:ns+=1)}this.pushData=ts,u$1.setEeiData(this.pushData)}},g$6=new T$5;class Metric{constructor(ts,is){this.d_type=is,this.data=ts||{},this.$metric={},is=ts&&ts.info&&ts.info.timestamp&&ts.info.timestamp||now(),this.ent=is}}function x$4(es,ts){this.$metric[es]=ts}function pushQueueData(es,ts){if(isDefined(es)&&isDefined(S$1)){let is=size(es);S$1.push({data:es,size:is}),es=setTotalSize(is),getMaxSize(),es>s$4.CAPACITY&&E$5()}}function k$1(es,ns){var is=ns.fullCollect||ns.fc,ns=ns.whiteList||ns.wl;if(!isDefined(is)||is)return 1;if(isDefined(ns)){try{var rs=es,ss="";if(rs.indexOf("http")!==0&&rs.indexOf("file:")!==0&&rs.indexOf("ws")!==0)return;ss=(isDefined(rs.match(/:\/\/\[([^\]]+)\]/))?rs.match(/:\/\/\[([^\]]+)\]/):rs.match(/:\/\/(.[^/:]+)/))[1]}catch(fs){return}let as=isDefined(ns.hostRule||ns.hr)?(ns.hostRule||ns.hr).slice(0,20):[],os=isDefined(ns.pathRule||ns.pr)?(ns.pathRule||ns.pr).slice(0,20):[],ds=function(fs,ps){var us=ps.split("*");return!(2<us.length)&&(ps.indexOf("*")===-1?ps===fs:us[0]!==""&&us[1]!==""?new RegExp("("+us[0]+").+("+us[1]+")").test(fs):us[0]==""&&us[1]!==""?!!endWith(fs,us[1]):us[0]!==""&&us[1]==""?!!startWith(fs,us[0]):void 0)},ls=function(fs,ps){return fs=fs.split("?")[0],ds(fs,ps)},cs=function(fs,ps){var us,ms=ps===1?ds:ls,$s=ps===1?ss:rs;for(us of fs)if(ms($s,us))return!0;return!1};return cs(as,1)||cs(os,2)}}function O$4(es){var ts=void 0;return isDefined(es.collectionStrategy)?ts=es.collectionStrategy:isDefined(es.mc)&&es.mc instanceof Array&&es.mc.forEach(function(is){is.n==="network"&&isDefined(is.cs)&&(ts=is.cs)}),ts}function A$3(es,ts,is){{var ns=es.mk||es.maskKeys,rs=es.mt||es.maskType,es=isDefined(ns.qka||ns.urlKeys)&&(ns.qka||ns.urlKeys);if(ns.aqk||ns.allQueryKeys)switch(rs){case 1:ts.p.info.url=ts.p.info.url.split("?")[0],isDefined(is.reqURLKey)&&(ts.p.info.reqUrlDta=null);break;case 2:ts.p.info.url=ts.p.info.url.replace(/(\?|&)([^=&]+)=([^&]+)/g,"$1$2=**"),isDefined(is.reqURLKey)&&(ts.p.info.reqUrlDta=ts.p.info.url.split("?")[1]);break;default:return}else if(isDefined(es)&&0<es.length&&ts.p.info&&ts.p.info.url&&-1<ts.p.info.url.indexOf("?")){var ss=ts.p.info.url.split("?")[1].split("&"),as="";for(let gs=0;gs<ss.length;gs++){var os=ss[gs].split("=");switch(rs){case 1:includes(ns.qka||ns.urlKeys,os[0])||(as+=ss[gs]+"&");break;case 2:includes(ns.qka||ns.urlKeys,os[0])?as+=ss[gs].split("=")[0]+"=**&":as+=ss[gs]+"&"}}isDefined(is.reqURLKey)&&(ts.p.info.reqUrlDta=as.slice(0,-1)),as.slice(0,-1)!==""?ts.p.info.url=ts.p.info.url.split("?")[0]+"?"+as.slice(0,-1):ts.p.info.url=ts.p.info.url.split("?")[0]}let $s=isDefined(ns.reqhka||ns.requestHeadersKeys)?ns.reqhka||ns.requestHeadersKeys:[];if($s=$s.map(function(gs){return gs.toLowerCase()}),ns.areqh||ns.allRequestHeaders)switch(rs){case 1:ts.p.info[GC.REQUEST_HEADER]=void 0,ts.p.info.reqhtData={};break;case 2:isDefined(ts.p.info[GC.REQUEST_HEADER])&&(ts.p.info[GC.REQUEST_HEADER]=ts.p.info[GC.REQUEST_HEADER].replace(/:(.*?)($|\r\n)/g,":**$2")),isDefined(is.reqHeaderTraceKey)&&0<is.reqHeaderTraceKey.length&&(isEmpty(ts.p.info.reqhtData)||forEach(ts.p.info.reqhtData,function(gs,ws){ts.p.info.reqhtData[ws]="**"}));break;default:return}else switch(rs){case 1:if(isDefined(ts.p.info[GC.REQUEST_HEADER])&&isDefined($s)&&0<$s.length)for(var ds of $s)ds=new RegExp(ds+`:(.*?)(\r
|$)`,"i"),ds.test(ts.p.info[GC.REQUEST_HEADER])&&(ts.p.info[GC.REQUEST_HEADER]=ts.p.info[GC.REQUEST_HEADER].replace(ds,""));if(isDefined(is.reqHeaderTraceKey)&&0<is.reqHeaderTraceKey.length&&!isEmpty(ts.p.info.reqhtData)){for(var ls in ts.p.info.reqhtData)if(includes($s,ls.toLowerCase())){delete ts.p.info.reqhtData[ls];continue}}break;case 2:if(isDefined(ts.p.info[GC.REQUEST_HEADER])&&isDefined($s)&&0<$s.length)for(var cs of $s)cs=new RegExp(cs+`:(.*?)(\r
|$)`,"i"),cs.test(ts.p.info[GC.REQUEST_HEADER])&&(ts.p.info[GC.REQUEST_HEADER]=ts.p.info[GC.REQUEST_HEADER].replace(cs,function(gs,ws){return gs.replace(ws,"**")}));if(isDefined(is.reqHeaderTraceKey)&&0<is.reqHeaderTraceKey.length&&!isEmpty(ts.p.info.reqhtData)){for(var fs in ts.p.info.reqhtData)if(includes($s,fs.toLowerCase())){ts.p.info.reqhtData[fs]="**";continue}}break;default:return}let hs=isDefined(ns.reshka||ns.responseHeadersKeys)?ns.reshka||ns.responseHeadersKeys:[];if(hs=hs.map(function(gs){return gs.toLowerCase()}),ns.aresh||ns.allResponseHeaders)switch(rs){case 1:isDefined(ts.p.info.responseHeader)&&delete ts.p.info.responseHeader,isEmpty(ts.p.info.reshtData)||delete ts.p.info.reshtData,isDefined(ts.p.info.guid)&&delete ts.p.info.guid,isDefined(ts.p.info.xBrResponse)&&delete ts.p.info.xBrResponse,isDefined(ts.p.info.traceResponse)&&delete ts.p.info.traceResponse;break;case 2:isDefined(ts.p.info.responseHeader)&&(ts.p.info.responseHeader=ts.p.info.responseHeader.replace(/:(.*?)($|\r\n)/g,":**$2")),isEmpty(ts.p.info.reshtData)||forEach(ts.p.info.reshtData,function(gs,ws){ts.p.info.reshtData[ws]="**"}),isDefined(ts.p.info.guid)&&ts.p.info.guid!==""&&(ts.p.info.guid="**"),isDefined(ts.p.info.xBrResponse)&&ts.p.info.xBrResponse!=""&&(ts.p.info.xBrResponse="**"),isDefined(ts.p.info.traceResponse)&&ts.p.info.traceResponse!==""&&(ts.p.info.traceResponse="**")}else switch(rs){case 1:if(isDefined(ts.p.info.responseHeader))for(var ps of hs)ps=new RegExp(ps+`:(.*?)(\r
|$)`,"i"),ps.test(ts.p.info.responseHeader)&&(ts.p.info.responseHeader=ts.p.info.responseHeader.replace(ps,""));isEmpty(ts.p.info.reshtData)||forEach(ts.p.info.reshtData,function(gs,ws){includes(hs,ws.toLowerCase())&&delete ts.p.info.reshtData[ws]}),isDefined(ts.p.info.guid)&&includes(hs,"br-resp-key")&&delete ts.p.info.guid,isDefined(ts.p.info.xBrResponse)&&includes(hs,"x-br-response")&&delete ts.p.info.xBrResponse,isDefined(ts.p.info.traceResponse)&&includes(hs,"traceresponse")&&delete ts.p.info.traceResponse;break;case 2:if(isDefined(ts.p.info.responseHeader))for(var us of hs)us=new RegExp(us+`:(.*?)(\r
|$)`,"i"),us.test(ts.p.info.responseHeader)&&(ts.p.info.responseHeader=ts.p.info.responseHeader.replace(us,function(gs,ws){return gs.replace(ws,"**")}));isEmpty(ts.p.info.reshtData)||forEach(ts.p.info.reshtData,function(gs,ws){includes(hs,ws.toLowerCase())&&(ts.p.info.reshtData[ws]="**")}),isDefined(ts.p.info.guid)&&includes(hs,"br-resp-key")&&(ts.p.info.guid="**"),isDefined(ts.p.info.xBrResponse)&&includes(hs,"x-br-response")&&(ts.p.info.xBrResponse="**"),isDefined(ts.p.info.traceResponse)&&includes(hs,"traceresponse")&&(ts.p.info.traceResponse="**")}}}function d$3(es,ts){if(isDefined(ts)&&(isDefined(ts.sensitiveNetworkRule)||isDefined(ts.snr))){try{var is,ns=es.p.info.url;if(ns.indexOf("http")!==0&&ns.indexOf("file:")!==0&&ns.indexOf("ws")!==0)return es;is=ns.match(/:\/\/(.[^/:?]+)/)[1]}catch(ds){return es}var rs,ss=ts.sensitiveNetworkRule||ts.snr,as=function(ds){if(ds.type===1||ds.t===1){if(!isDefined(ds.c||ds.content))return!1;switch(ds.r||ds.rule){case 1:if(is.toLowerCase()===(ds.c||ds.content).toLowerCase())return!0;break;case 2:if(-1<is.toLowerCase().indexOf((ds.c||ds.content).toLowerCase()))return!0;break;case 3:if(startWith(is.toLowerCase(),(ds.c||ds.content).toLowerCase()))return!0;break;case 4:if(endWith(is.toLowerCase(),(ds.c||ds.content).toLowerCase()))return!0;default:return!1}}if(ds.type===2||ds.t===2)switch(ds.r||ds.rule){case 1:if(ns===(ds.c||ds.content))return!0;break;case 2:if(-1<ns.indexOf(ds.c||ds.content))return!0;break;case 3:if(startWith(ns,ds.c||ds.content))return!0;break;case 4:if(endWith(ns,ds.c||ds.content))return!0;default:return!1}return!1},os=function(ds,ls){switch(ls){case 1:for(var cs of ds)if(as(cs))return!0;return!1;case 2:for(var fs of ds)if(!as(fs))return!1;return!0;default:return!1}};for(rs of ss)rs.t!==1&&rs.type!==1?rs.t!==2&&rs.type!==2||os(rs.sa||rs.scopes,2)&&A$3(rs,es,ts):os(rs.sa||rs.scopes,1)&&A$3(rs,es,ts)}return es}function x$3(es){let ts=0,is=0,ns=0,rs=0,ss=0,as=0,{domainLookupStart:os,domainLookupEnd:ds,connectStart:ls,connectEnd:cs,responseStart:fs,responseEnd:ps,secureConnectionStart:us,fetchStart:ms,requestStart:$s}=es.p.metric;isDefined(os)&&isDefined(ds)&&0<os&&(hs=ds-os||-1,ts=0<hs?hs:0),isDefined(ls)&&isDefined(cs)&&0<ls&&(hs=cs-ls||-1,is=0<hs?hs:0),isDefined(cs)&&isDefined(us)&&0<us&&(hs=cs-us||-1,ns=0<hs?hs:0),isDefined(fs)&&0<fs?(isDefined($s)&&0<$s&&(hs=fs-$s||-1,ss=0<=hs?hs:999),isDefined(cs)&&0<cs&&(hs=$s-cs||-1,rs=0<=hs?hs:999),isDefined(ps)&&(hs=ps-fs||-1,as=0<=hs?hs:999)):isDefined(ms)&&0<ms&&(hs=ps-ms||-1,as=0<=hs?hs:999);var hs=isDefined(es.p.metric)?es.p.metric:{};hs.domianTime=ts,hs.connetcTime=is,hs.sslt=ns,hs.rti=ss,hs.dti=as,hs.rt=rs}function g$5(es,ts){if(isDefined(ts.reqBodyKey)){let is="";if(isJSON(es.p.info.requestBody))try{let ns=new Function("","return "+es.p.info.requestBody)();forEach(ts.reqBodyKey,function(rs,ss){isDefined(ns[rs])&&(is+=`${rs}=${escape(ns[rs])}&`)}),es.p.info[GC.NET_CBBQ]=is.slice(0,-1)}catch(ns){}else if(isString(es.p.info.requestBody))try{forEach(es.p.info.requestBody.split("&"),function(ns){forEach(ts.reqBodyKey,function(rs,ss){rs&&ns.indexOf(rs+"=")!==-1&&(is+=ns.split("=")[0]+"="+escape(ns.split("=")[1])+"&")})}),es.p.info[GC.NET_CBBQ]=is.slice(0,-1)}catch(ns){}}if(isDefined(ts.reqURLKey)&&isString(es.p.info.reqUrlDta))try{let is="";forEach(es.p.info.reqUrlDta.split("&"),function(ns){forEach(ts.reqURLKey,function(rs,ss){rs&&ns.split("=")[0]===rs&&(is+=ns.split("=")[0]+"="+escape(ns.split("=")[1])+"&")})}),es.p.info[GC.NET_CBQ]=is.slice(0,-1)}catch(is){}else delete es.p.info[GC.NET_CBQ];if(isDefined(es.p.metric)&&isDefined(es.p.metric[GC.CALLBACK_END])&&isDefined(es.p.metric[GC.CALLBACK_START])&&(es.p.metric[GC.CALLBACK_TIME]=es.p.metric[GC.CALLBACK_END]-es.p.metric[GC.CALLBACK_START],es.p.metric[GC.CALLBACK_TIME]=0<es.p.metric[GC.CALLBACK_TIME]&&1e3*es.p.metric[GC.CALLBACK_TIME]||0),isDefined(ts.reqHeaderKey)&&isDefined(es.p.info)&&isDefined(es.p.info[GC.REQUEST_HEADER]))try{let is="";forEach(es.p.info[GC.REQUEST_HEADER].split(`\r
`),function(ns){forEach(ts.reqHeaderKey,function(rs){isDefined(rs)&&rs!=""&&ns.split(":")[0].toLowerCase()===rs.toLowerCase()&&(is+=ns.split(":")[0]+"="+escape(ns.split(":")[1])+"&")})}),es.p.info[GC.NET_CBHQ]=is.slice(0,-1)}catch(is){}return es}function B(es){var ts=es.data;return isDefined(ts.tid)&&ts.tid===""&&delete ts.tid,isDefined(ts.xbr)&&ts.xbr===""&&delete ts.xbr,isDefined(ts.trsp)&&ts.trsp===""&&delete ts.trsp,isDefined(ts.tpar)&&ts.tpar===""&&delete ts.tpar,isDefined(ts.cbhq)&&ts.cbhq===""&&delete ts.cbhq,isDefined(ts.cbbq)&&ts.cbbq===""&&delete ts.cbbq,isDefined(ts.cbq)&&ts.cbq===""&&delete ts.cbq,isDefined(ts.ti)&&ts.ti===""&&delete ts.ti,isDefined(ts.ec)&&200<=ts.ec&&ts.ec<400&&(isDefined(ts.ep)&&delete ts.ep,isDefined(ts.eop))&&delete ts.eop,isDefined(ts.ec)&&400<ts.ec&&ts.ec<=602&&isDefined(ts.eop)&&(ts.eop=4),isDefined(ts.cbhq)&&(ts.cbhq=ts.cbhq.replace("/","%2F")),isDefined(ts.ec)&&ts.ec===602&&isDefined(ts.ru)&&ts.ru.indexOf("file:")===0&&(ts.ec=200,delete ts.eop,delete ts.ep,delete ts.em),es}function U$5(es,ts){if(isDefined(ts.reqHeaderTraceKey)&&0<ts.reqHeaderTraceKey.length){let is={};isDefined(es.p.info.reqhtData&&Object.getOwnPropertyNames(es.p.info.reqhtData).length<=64)?is=es.p.info.reqhtData:Object.getOwnPropertyNames(es.p.info.reqhtData).slice(0,64).forEach(function(ns){is[ns]=es.p.info.reqhtData[ns]}),isEmpty(is)||(es.p.info.reqht=is)}if(isDefined(ts.respHeaderTraceKey)&&0<ts.respHeaderTraceKey.length){let is={},ns=0;for(let rs=0,ss=ts.respHeaderTraceKey.length-1;rs<=ss;rs++)ns<64&&isDefined(es.p.info.reshtData)&&isDefined(es.p.info.reshtData[ts.respHeaderTraceKey[rs]])&&(ns+=1,is[ts.respHeaderTraceKey[rs]]=es.p.info.reshtData[ts.respHeaderTraceKey[rs]]);isEmpty(is)||(es.p.info.resht=is)}}function Q(es,ts,is=!1){var ns={};if(es){var ns=JSON.parse(JSON.stringify(es)),rs=O$4(ts);if(!is&&isDefined(rs)&&!k$1(ns.p.info.url||"",rs))return null;try{if(isDefined(window.$bonreeReplayUrl)&&-1<ns.p.info.url.indexOf(window.$bonreeReplayUrl))return null}catch(as){}return isDefined(ns.p.metric)&&x$3.call(this,ns),isDefined(ns.p.metric)&&x$3.call(this,ns),isDefined(ts.sensitiveNetworkRule||ts.snr)&&d$3.call(this,ns,ts),g$5.call(this,ns,ts),U$5.call(this,ns,ts),is=ns.p.info,rs=ts.hcs,ts=(isDefined(rs)&&(isDefined(is.requestHeader)||isDefined(is.responseHeader))&&(rs===0||rs===1&&is.status<400||rs===1&&is.code<400)&&(delete ns.p.info.requestHeader,delete ns.p.info.responseHeader),ns&&ns.p.info.url&&-1<ns.p.info.url.indexOf("https")?2:1),rs=getMineTypeByHeader(ns.p.info[GC.RESPONSE_HEADER])||getMineTypeByHeader(ns.p.info[GC.REQUEST_HEADER])||getMineTypeByUrl(ns.p.info[GC.URL])||"text/html",is=new Metric(ns.p,GC.NET),(isDefined(is.data.info[GC.NET_EC])&&400<is.data.info[GC.NET_EC]||!isDefined(is.data.info[GC.NET_EC]))&&isDefined(window.BRLog)&&window.BRLog.__sendNetInfo(is.data.info),is.info("id").info(GC.URL,"","ru").info(GC.NET_METHOD,"","m").info(GC.NET_IP,"","ti").info(GC.NET_PORT,0,"tp").info(GC.REQUEST_HEADER,"","rh",!0).info(GC.RESPONSE_HEADER,"","rhe",!0).info(GC.NET_TID,"","tid").info(GC.NET_XBR,"","xbr").info(GC.NET_TRACE,"","trsp").info("reqht","","reqht",!0).info("resht","","resht",!0).info(GC.E_TYPE,"http","ep",!0).info(GC.NET_EOP,"","eop",!0).info(GC.NET_TYPE,3,"art").info(GC.PAGE_ID,"","pvid").info(GC.CUSTOM_IC,!1,"ic").info(GC.NET_CBBQ,"","cbbq").info(GC.NET_CBHQ,"","cbhq").info(GC.NET_CBQ,"","cbq").info("ret",rs,"ret").metric("domianTime",0,"dt").metric("connetcTime",0,"ct").metric("sslt",0,"sslt").metric("rt",0,"rt").metric("rti",0,"rti").metric("dti",0,"dti").metric(GC.DECODED_BODY_SIZE,0,"ds").metric(GC.UPLOAD_BODY_SIZE,0,"rds").metric(GC.NET_PT,ts,"pt"),ns.p&&ns.p.info.ai&&is.info("ai","","ai"),(ns.p&&ns.p.info[GC.NET_EC]==200||ns.p&&ns.p[GC.STATUS]==200)&&is.info(GC.NET_EOP,0,"eop"),ns.p&&isDefined(ns.p.info[GC.NET_EC])&&is.info(GC.NET_EC,200,"ec"),ns.p&&isDefined(ns.p.info[GC.STATUS])&&is.info(GC.STATUS,200,"ec"),ns.p&&ns.p.info[GC.E_TYPE]==="XHR"&&is.info(GC.MESSAGE,"","em",!0),ns.p&&ns.p.info[GC.E_TYPE]==="FETCH"&&is.info(GC.STATUS_TEXT,"","em",!0),B(is.build())}}function P$4(is){var ts=new Metric(is,GC.NET),is=getMineTypeByUrl(is[GC.URL])||"text/html";return ts.info("id").info("ru").info("m").info("ti").info("tp").info("art").info("pvid","","pvid").info("ic").info("ret",is,"ret").info("dt").info("ct").info("sslt").info("rt").info("rti").info("dti").info("ds",0,"ds").info("rds",0,"rds").info("pt").info("ec",200,"ec"),B(ts.build())}Metric.prototype.info=function(es,ts="",is,ns=!1){var rs=this.data.info;if(isDefined(rs)){let ss=rs[es];isDefined(ss)||(ss=ts),isDefined(is)&&(es=is),ns&&ss===""||(this.$metric[es]=ss)}return this},Metric.prototype.metric=function(es,ts="",is){var ns=this.data.metric;if(isDefined(ns)){let rs=ns[es];isDefined(rs)||(rs=isDefined(ts)?ts:-1),isDefined(is)&&(es=is),x$4.call(this,es,rs)}return this},Metric.prototype.build=function(as){var ts=u$1.getEviData("key"),is=u$1.getEeiData("key"),ns=u$1.lastUserInfoSetMapKey,as=(as&&as.ent?as:this).ent,rs=g$6.pushData,ss=u$1.getEviData("value"),as={type:this.d_type,ent:as,data:{},sin:[ns,"","",is,ts],evi:ss},os=(isEmpty(rs)||(as.eei=rs),this.$metric);if(isDefined(this.data.ext))switch(this.d_type){case GC.ACTION:case GC.NET:case GC.ERROR:case GC.ROUTE:break;case GC.PAGE:case GC.RESOURCE:case GC.WEBVIEWDATA:default:os.ext=this.data.ext}return as.data=os,as};let d$2=function(es,ts,is,ns,rs,ss){return!(es===void 0||(ts==null||ts===""?(v$9.log(is+" Parameter has a value or key ["+es+"] that does not exist!"),ss):ns!==null&&ts.length>ns?(v$9.log(is+" Parameter has a value or key ["+es+"] that the value length exceeds "+ts.length+"!"),0):!rs||!isNaN(ts)||(v$9.log(is+" Parameter has a value or key ["+es+"] value is not a valid number!"),0)))},E$4=2083,m$3=256,T$4=512,W$2=function(es){var ts={};if(es!==void 0&&Object.prototype.toString.call(es)==="[object Object]"){if(64<Object.getOwnPropertyNames(es).length){var is,ns=Object.getOwnPropertyNames(es).slice(0,64);for(is in ns)typeof ns[is]!="string"||256<ns[is].length||ns[is]===""||(ts[ns[is]]=es[ns[is]])}else for(var rs in es)typeof rs!="string"||256<rs.length||rs===""||(ts[rs]=es[rs]);return Object.getOwnPropertyNames(ts).length===0?void 0:ts}},O$3={},x$2={},M$2={},U$4={},A$2=[],L$4=[],X$1=u$1.getEviData("value");function v$4(es,ts){!isDefined(f$2.secondSett)||isEmpty(f$2.secondSett)||isEmpty(es)||(isDefined(es.data.url)&&(es.data.url=d$3({p:{info:{url:es.data.url}}},f$2.secondSett).p.info.url),isDefined(f$2.secondSett.osType)&&f$2.secondSett.osType!==GC.BROWSER?ts.call(v$9,stringify({ent:es.ent,v:es.data,evi:X$1}),f$2.secondSett):pushQueueData(es)),!isDefined(f$2.sett)||isEmpty(f$2.sett)||isEmpty(es)||(isDefined(f$2.sett.osType)&&f$2.sett.osType!==GC.BROWSER?ts.call(v$9,stringify({ent:es.ent,v:es.data}),f$2.sett):pushQueueData(es))}let K$1={returnShadeArea:function(){return S$7.checkElement()},setCustomSpeedTest:function(es,ts){var is;arguments.length<1||2<arguments.length||es&&256<es.length||(Array.isArray(ts)&&0<ts.length&&ts.length<=1e3?(is={},isDefined(es)&&es!==""&&(is.oip=es,is.sti=ts,(es=new Metric({info:is},"speedtest")).info("oip").info("sti"),v$4(es.build(),v$9.customSpeedTestEvent))):log("C156"))},setExtraInfo:function(es){v$9.log("setExtraInfo=>"+es);var ts=es&&set_64_keys(es,64)||es;try{S$5(ts),S$6(f$2.sett.osType)||S$6(f$2.secondSett.osType)?window.webkit.messageHandlers.brsWKSetExtraInfo.postMessage(stringify(ts)):w$4(f$2.sett.osType)||w$4(f$2.secondSett.osType)?window.bonreePrivateInterface.call(stringify({setExtraInfo:ts})):window.bonreePrivateInterface.setExtraInfo(stringify(ts))}catch(is){}},setUserID:function(es){if(v$9.log("setUserID=>"+es),!d$2("userId",es,"setUserID",m$3,!1)&&/^[\u4E00-\u9FFFa-zA-Z0-9:_\-@.\s/]+$/.test(es))try{K$5(es),S$6(f$2.sett.osType)||S$6(f$2.secondSett.osType)?window.webkit.messageHandlers.brsWKSetUserId.postMessage(es):w$4(f$2.sett.osType)||w$4(f$2.secondSett.osType)?window.bonreePrivateInterface.call(stringify({setUserID:es})):window.bonreePrivateInterface.setUserID(es)}catch(ts){}},setCustomEventWithLabel:function(es,ts,is,ns,rs){var ss;arguments.length<1||5<arguments.length||d$2("eventId",es,"setCustomEvent",m$3,!1)||isDefined(rs)&&7e3<JSON.stringify(rs).length||(ss={},ts=set_length(ts,m$3),ns=set_length(ns,7e3),ss.eventId=isDefined(es)?es:"",ss.eventName=ts,ss.eventParam=ns,ss.eventLabel=set_length(is,256),ss.info=W$2(rs),(es=new Metric({info:ss},GC.CUSTOM_EVENT)).info("eventId","","i").info("t",0).info("d",0),ss.eventName!==void 0&&ss.eventName!==""&&ss.eventName!==null&&es.info("eventName","","n"),ss.eventLabel!==void 0&&ss.eventLabel!=="unuse"&&ss.eventLabel!==""&&ss.eventLabel!==null&&es.info("eventLabel","","l"),ss.eventParam!==void 0&&ss.eventParam!==""&&ss.eventParam!==null&&es.info("eventParam","","p"),ss.info!==void 0&&ss.info instanceof Object&&es.info("info","","info"),v$4(es.build(),v$9.customEvent))},setCustomEvent:function(es,ts,is,ns){this.setCustomEventWithLabel(es,ts,"unuse",is,ns)},setCustomLog:function(es,ts){var is;arguments.length<1||2<arguments.length?v$9.log("setcustomlog custom log parameter number error"):d$2("logInfo",es,"setCustomLog",null,!1)||(is={},es=isDefined(es)&&set_length(es,1e4)||"",ts=isDefined(ts)?set_length(ts,1e4):ts,is.logInfo=es,is.logParam=ts,(es=new Metric({info:is},GC.CUSTOM_LOG)).info("logInfo","","i"),is.logParam!==void 0&&es.info("logParam","","p"),v$4(es.build(),v$9.customLogEvent))},setCustomMetric:function(es,ts,is){var ns;arguments.length<1||3<arguments.length?v$9.log("setCustomMetric\u81EA\u5B9A\u4E49\u6307\u6807\u53C2\u6570\u4E2A\u6570\u9519\u8BEF"):d$2("metricName",es,"setCustomMetric",m$3,!1)||d$2("metricValue",ts,"setCustomMetric",null,!1)||((ns={}).metricName=isDefined(es)?es:"",ns.metricValue=isDefined(ts)?Math.round(ts):"",isDefined(is)&&(ns.metricParam=1e4<is.length?is.slice(0,1e4):is),(es=new Metric({info:ns},GC.CUSTOM_METRIC)).info("metricName","","n").info("metricValue",0,"v"),is!==void 0&&es.info("metricParam","","p"),v$4(es.build(),v$9.customMetricEvent))},setCustomException:function(es,ts,is){var ns;arguments.length<1||3<arguments.length?v$9.log("onEvent\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u53C2\u6570\u4E2A\u6570\u9519\u8BEF"):d$2("exceptionType",es,"setCustomException",m$3,!1)||(ns={},ts=isDefined(ts)&&set_length(ts,512)||"",is=isDefined(is)&&set_length(is,1e4)||"",ns.exceptionType=isDefined(es)?es:"",ns.causedBy=ts,ns.errorDump=is,(es=new Metric({info:ns},GC.CRASH)).info("causedBy","","cab").info("exceptionType","","t").info("errorDump","","p").info("ic",!0).info("id",uuid()),v$4(es.build(),v$9.customExceptionEvent))},setCustomPageStart:function(es,ts){var is;arguments.length<1||2<arguments.length||d$2("pageName",es,"setCustomPageStart",m$3,!1)||includes(A$2,es)||(A$2.push(es),O$3[es]=dateNow(),x$2[es]=buildViewID(),!es)||(is=set_length(ts,m$3),(is=new Metric({info:{pageName:es,param:is}},GC.VIEW)).info("pageName","","n").info("ci",x$2[es]).info("lt",0).info("m",1).info("t",1).info("ic",!0),ts!==void 0&&is.info("param","","p"),v$4(is.build(),v$9.webviewPageEvent))},setCustomPageEnd:function(es,ts){if(!(arguments.length<1||2<arguments.length||d$2("pageName",es,"setCustomPageEnd",m$3,!1))&&includes(A$2,es)){let ns=0;var is;isDefined(dateNow)&&O$3&&isDefined(O$3[es])&&(ns=dateNow()-O$3[es],ns*=1e3,es)&&(is=set_length(ts,m$3),is={pageName:es,param:is},A$2=filter(A$2,function(rs){return rs!==es}),delete O$3[es],(is=new Metric({info:is},GC.VIEW)).info("pageName","","n").info("ci",x$2[es]).info("st",ns).info("lt",0).info("m",2).info("t",1).info("ic",!0),ts!==void 0&&is.info("param","","p"),v$4(is.build(),v$9.webviewPageEvent),delete x$2[es])}},setCustomH5performanceData:function(es){let ts={};try{ts=JSON.parse(es)}catch(ss){return void v$9.log("setCustomH5performanceData has error! ==>"+ss)}let is=!0;if(is&&forEach(["url"],function(ss){d$2(ss,ts[ss],"setCustomH5performanceData",E$4,!1)&&(ts[ss]=set_length(ts[ss],E$4))}),is&&forEach(["imd","ns","ues","uee","rds","rde","fs","dls","dle","cs","scs","ce","reqs","rsps","rspe","dl","di","dcles","dclee","dc","les","lee","fp","fcp","lcp"],function(ss){if(d$2(ss,ts[ss],"setCustomH5performanceData",null,!0))return is=!1}),is&&((ts.pvid===void 0||ts.pvid===null||ts.pvid===""||ts.pvid.length>m$3)&&(ts.pvid=uuid()),ts={url:ts.url,pvid:ts.pvid,ic:!0,wpi:{ns:isDefined(ts.ns)&&0<ts.ns?ts.ns:0,ues:isDefined(ts.ues)&&0<ts.ues?ts.ues:-1,uee:isDefined(ts.uee)&&0<ts.uee?ts.uee:-1,rds:isDefined(ts.rds)&&0<ts.rds?ts.rds:-1,rde:isDefined(ts.rde)&&0<ts.rde?ts.rde:-1,fs:isDefined(ts.fs)&&0<ts.fs?ts.fs:0,dls:isDefined(ts.dls)&&0<ts.dls?ts.dls:-1,dle:isDefined(ts.dle)&&0<ts.dle?ts.dle:-1,cs:isDefined(ts.cs)&&0<ts.cs?ts.cs:-1,scs:isDefined(ts.scs)&&0<ts.scs?ts.scs:-1,ce:isDefined(ts.ce)&&0<ts.ce?ts.ce:-1,reqs:isDefined(ts.reqs)&&0<ts.reqs?ts.reqs:0,rsps:isDefined(ts.rsps)&&0<ts.rsps?ts.rsps:0,rspe:isDefined(ts.rspe)&&0<ts.rspe?ts.rspe:0,dl:isDefined(ts.dl)&&0<ts.dl?ts.dl:0,di:isDefined(ts.di)&&0<ts.di?ts.di:0,dcles:isDefined(ts.dcles)&&0<ts.dcles?ts.dcles:0,dclee:isDefined(ts.dclee)&&0<ts.dclee?ts.dclee:0,dc:isDefined(ts.dc)&&0<ts.dc?ts.dc:0,les:isDefined(ts.les)&&0<ts.les?ts.les:0,lee:isDefined(ts.lee)&&0<ts.lee?ts.lee:-1,fp:isDefined(ts.fp)&&0<ts.fp?ts.fp:-1,fcp:isDefined(ts.fcp)&&0<ts.fcp?ts.fcp:-1,lcp:isDefined(ts.lcp)&&0<ts.lcp?ts.lcp:-1}},isDefined(ts.url))&&ts.url.trim("")!==""){if(D$5(f$2.sett.osType)||D$5(f$2.secondSett.osType)){let ss=new Metric({info:ts},GC.WEBVIEWDATA);ss.info("url","").info("ic",!0).info("pvid").info("wpi"),pushQueueData(ss.build())}var rs=u$1.getEviData("value"),ns=stringify({h5:[{ent:now(),v:ts,k:"h5",evi:rs}],imd:ts.imd}),rs=stringify({ent:now(),v:ts,evi:rs});v$9.log("setCustomH5performanceData=> "+rs);try{S$6(f$2.sett.osType)||S$6(f$2.secondSett.osType)?window.webkit.messageHandlers.brsWKSetCustomH5performanceData.postMessage(rs):w$4(f$2.sett.osType)||w$4(f$2.secondSett.osType)?window.bonreePrivateInterface.call(ns):window.bonreePrivateInterface.webViewEventBus(ns,f$2.sett.webviewID||f$2.secondSett.webviewID)}catch(ss){}}},setCustomRouteChangeData:function(es){let ts={};try{(ts=JSON.parse(es)).d=1e3*Math.round(ts.d)}catch(rs){return void v$9.log("setCustomRouteChangeData has error! ==>"+rs)}let is=!0;var ns;is&&forEach(["tu","fu","rt","pu"],function(rs){(!isDefined(ts[rs])||ts[rs]===""||ts[rs].length>E$4)&&(is=!1)}),is&&forEach(["pt","fw"],function(rs){(!isDefined(ts[rs])||ts[rs]===""||ts[rs].length>m$3)&&(is=!1)}),is&&forEach(["d","sta"],function(rs){isDefined(ts[rs])&&typeof ts[rs]=="number"||(is=!1)}),is&&(ts.fu===void 0&&ts.fu===null?v$9.log("setCustomRouteChangeData Parameter has a value or key [fu] that does not exist!"):(ts.al!==void 0&&ts.al!==null&&ts.al.length>m$3&&(v$9.log("setCustomRouteChangeData Parameter has a value or key [al] that the value length exceeds "+m$3+"!"),ts.al=""),ts.ent=1e3*new Date().getTime(),(ns=new Metric({info:ts},GC.ROUTE)).info("tu","").info("fu","").info("d",0).info("sta",0).info("pt","").info("rt","").info("pu","").info("fw","").info("ic",!0).info("ctp",2).info("pvid",isDefined(f$2.sett.pageViewId)?f$2.sett.pageViewId:""),isDefined(ts.al)&&ts.al!==""&&ns.info("al",""),isDefined(window.performance)&&isDefined(window.performance.timing)&&ns.info("ns",window.performance.timing.navigationStart),v$4(ns.build(),v$9.routeChangeData)))},setCustomNetworkData:function(es){let ts={};try{ts=JSON.parse(es)}catch(rs){return void v$9.log("setCustomNetworkData has error! ==>"+rs)}let is=!0;var ns;forEach(["tp","dt","ct","sslt","rt","rti","dti","ds","pt","rds"],function(rs){if(d$2(rs,ts[rs],"setCustomNetworkData",null,!0)||ts[rs]<0)return is=!1}),d$2("ti",ts.ti,"setCustomNetworkData",null,!1)&&(is=!1),isDefined(ts.ru)&&ts.ru!==""&&(d$2("ru",ts.ru,"setCustomNetworkData",E$4,!1)&&(ts.ru=set_length(ts.ru,E$4)),d$2("m",ts.m,"setCustomNetworkData",E$4,!1)&&(ts.m=set_length(ts.m,E$4)),is)&&(ts.ent=1e3*new Date().getTime(),(ns=new Metric({info:ts},GC.NET)).info("ru","").info("m","").info("ti","").info("tp",1e3).info("dt",1e3).info("ct",1e3).info("sslt",1e3).info("rt",1e3).info("rti",1e3).info("dti",1e3).info("ds",0).info("pt",0).info("rh","").info("rhe","").info("ret","").info("rds",0).info("id",uuid()).info("ic",!0).info("art",0).info("ec",200),v$4(ns.build(),v$9.NetworkEvent))},setCustomEventStart:function(es,ts,is,ns,rs){var ss;arguments.length<1||5<arguments.length||d$2("eventId",es,"setCustomEventStart",null,!1)||isDefined(rs)&&7e3<JSON.stringify(rs).length||includes(L$4,es)||(L$4.push(es),!es)||(U$4[es]=dateNow(),M$2[es]=buildViewID(),ss={},ts=set_length(ts,m$3),ns=set_length(ns,7e3),ss.eventId=isDefined(es)?es:"",256<es.length||es.length===0||(ss.eventName=ts,ss.eventParam=ns,ss.eventLabel=set_length(is,256),ss.info=W$2(rs),(ts=new Metric({info:ss},GC.CUSTOM_EVENT)).info("eventId","","i").info("t",1).info("d",0).info("ci",M$2[es]),ss.eventName!==void 0&&ss.eventName!==""&&ts.info("eventName","","n"),ss.eventLabel!==void 0&&ss.eventLabel!==""&&ts.info("eventLabel","","l"),ss.eventParam!==void 0&&ss.eventParam!==""&&ts.info("eventParam","","p"),ss.info!==void 0&&ss.info instanceof Object&&ts.info("info","","info"),v$4(ts.build(),v$9.customEvent)))},setCustomEventEnd:function(es,ts,is,ns,rs){if(!(arguments.length<1||5<arguments.length)&&!d$2("eventId",es,"setCustomEventEnd",null,!1)&&!(isDefined(rs)&&7e3<JSON.stringify(rs).length)&&includes(L$4,es)){if(es){let as=0;isDefined(dateNow)&&U$4&&isDefined(U$4[es])&&(as=dateNow()-U$4[es],as*=1e3);var ss={},ts=set_length(ts,m$3),ns=set_length(ns,7e3);if(ss.eventId=isDefined(es)?es:"",256<es.length||es.length===0)return;ss.eventName=ts,ss.eventParam=ns,ss.eventLabel=set_length(is,256),ss.info=W$2(rs),ts=new Metric({info:ss},GC.CUSTOM_EVENT),ts.info("eventId","","i").info("t",2).info("d",as).info("ci",M$2[es]),ss.eventName!==void 0&&ss.eventName!==""&&ts.info("eventName","","n"),ss.eventLabel!==void 0&&ss.eventLabel!==""&&ts.info("eventLabel","","l"),ss.eventParam!==void 0&&ss.eventParam!==""&&ts.info("eventParam","","p"),ss.info!==void 0&&ss.info instanceof Object&&ts.info("info","","info"),v$4(ts.build(),v$9.customEvent)}L$4=filter(L$4,function(as){return as!==es}),delete U$4[es],delete M$2[es]}},startSpan:function(es,ts){return new a$2(es,ts)},addUserExtraInfo:function(es,ts){var is;d$2("key",es,"setUserProperty",m$3,!1,!1)||!/^[:0-9a-zA-Z /@._-]{1,}$/.test(es)||/^\s{0,}$/.test(es)||typeof es=="boolean"||typeof es=="number"||!isDefined(ts)||typeof ts=="object"||/^\s{0,}$/.test(ts)||(typeof ts!="number"&&ts.length>T$4&&(ts=set_length(ts,T$4)),(is=u$1.getUser()||"")!=""&&((is={ui:is,c:2,i:{}}).i[es]=ts,(es=new Metric({info:is},GC.USERCHANGE)).info("ui","").info("c").info("i"),v$4(es.build(),v$9.setUserProperty)))},setUserExtraInfo:function(es){if(isObj(es)&&!isEmpty(es)){for(let ns in es)if(Object.hasOwnProperty.call(es,ns)){let rs=es[ns],ss=!0;!d$2("key",ns,"setUserProperty",m$3,!1,!1)&&/^[:0-9a-zA-Z /@._-]{1,}$/.test(ns)&&!/^\s{0,}$/.test(ns)||(delete es[ns],ss=!1),isDefined(rs)&&typeof rs!="object"&&!/^\s{0,}$/.test(rs)||(delete es[ns],ss=!1),ss&&typeof rs!="number"&&rs.length>T$4&&(es[ns]=set_length(rs,T$4))}let is=set_64_keys(es,64);if(!isEmpty(is)){let ns=u$1.getUser()||"";var ts;ns!=""&&((ts=new Metric({info:{ui:ns,c:1,i:is}},GC.USERCHANGE)).info("ui","").info("c").info("i"),v$4(ts.build(),v$9.setUserProperty))}}},increaseUserExtraInfo:function(es,ts){var is;!d$2("key",es,"setUserProperty",m$3,!1,!1)&&/^[:0-9a-zA-Z /@._-]{1,}$/.test(es)&&!/^\s{0,}$/.test(es)&&typeof es=="string"&&isDefined(ts)&&typeof ts!="object"&&typeof ts=="number"&&(typeof ts!="number"&&ts.length>T$4&&(ts=set_length(ts,T$4)),(is=u$1.getUser()||"")!="")&&((is={ui:is,c:4,i:{}}).i[es]=ts,(es=new Metric({info:is},GC.USERCHANGE)).info("ui","").info("c").info("i"),v$4(es.build(),v$9.setUserProperty))},removeUserExtraInfo:function(es){var ts;d$2("key",es,"setUserProperty",m$3,!1,!1)||!/^[:0-9a-zA-Z /@._-]{1,}$/.test(es)||typeof es!="string"||/^\s{0,}$/.test(es)||(ts=u$1.getUser()||"")!=""&&(ts={ui:ts,c:3,i:{}},es&&(ts.i[es]=""),(es=new Metric({info:ts},GC.USERCHANGE)).info("ui","").info("c").info("i"),v$4(es.build(),v$9.setUserProperty))},addEventAttributes(es,ts=!1){var is;typeof es=="object"&&(is=Object.assign({},es),g$6.addWithObj(es,ts),es={local:ts,attributes:is},v$9.addAtt(es))},addEventAttributeWithKey(es,ts,is=!1){g$6.addWithKey(es,ts,is),is={local:is,attributes:{[es]:ts}},v$9.addAtt(is)},removeEventAttributeWithKeys(es){g$6.delWithKeys(es),v$9.delAtt(es)},removeAllEventAttributes(){g$6.delAll(),v$9.delAttAll()}};var h$6=Object.defineProperty,o=(es,ts,is)=>ts in es?h$6(es,ts,{enumerable:!0,configurable:!0,writable:!0,value:is}):es[ts]=is,e$2=(es,ts,is)=>o(es,typeof ts!="symbol"?ts+"":ts,is);class u{constructor(ts){e$2(this,"funActionModify",function(is,ns){return isDefined(is)&&isDefined(ns)&&(this[is]=ns),this}),e$2(this,"funActionBuild",function(){var is={n:this.n,t:this.t,to:this.to,ice:this.ice,st:this.st,et:this.et||now(),ti:this.ti,im:this.im,ne:this.ne};return isEmpty(is.ne)&&delete is.ne,is}),this.n=ts&&typeof ts=="string"?ts:ts.name,this.t=12,this.to=!1,this.ice=!1,this.st=1,this.et=0,this.ti=1225,this.im=!0,this.ne={}}}let e$1=class{constructor(){this.lastTarget=null,this.count=0,this.lastTime=0}isClick(es,ts){return ts=ts&&ts/1e3||+new Date,this.lastTarget===null&&this.count===0?(this.lastTarget=es,this.count+=1,this.lastTime=ts,0):this.lastTarget!==es?(this.lastTarget=es,this.count=1,this.lastTime=ts,0):this.lastTarget==es&&300<=ts-this.lastTime?(this.count=1,this.lastTime=ts,0):this.lastTarget==es&&this.count<2&&ts-this.lastTime<300?(this.count+=1,this.lastTime=ts,0):this.lastTarget==es&&2<=this.count&&ts-this.lastTime<300?(this.count+=1,this.lastTime=ts,1):void 0}},h$5=new e$1;function P$3(es){var ts;return isDefined(es)?(es.$xpath||(200<(ts=xpath(es)).length?es.$xpath="[Error: Overflow with more than 200 characters.]":es.$xpath=ts),es.$xpath):""}function R(es,ts=!1){var is;isDefined(es)&&(isDefined(es.$timeoutTimer)&&clearTimeout(es.$timeoutTimer),d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.CUSTOM_ACTION_END),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.WEBSOCKET_CONNECTION_END),d$7(GC.SPAN_CALLBACK_DATA),(is=new u("anonymous")).funActionModify("st",es.startTime),is.funActionModify("et",es.endTime),ts&&(is.funActionModify("ice",!0),es.startEvent.lt=es.endTime-es.startTime,es.startEvent.ice=!0,isDefined(es.hasEmitStart))&&!es.hasEmitStart&&(c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:1}),isEmpty(f$2.secondSett)||c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:2}),es.hasEmitStart=!0),(ts=extend({},es.startEvent)).m=2,ts.me=is.funActionBuild(),c$2({t:GC.TRACE_ACTION_DATA,p:{info:ts},revts:es.handledRequestStruct,type:1}),isEmpty(f$2.secondSett)||c$2({t:GC.TRACE_ACTION_DATA,p:{info:ts},revts:es.handledRequestStructSecond,type:2}))}function W$1(es){try{d$7(GC.CUSTOM_ACTION_END);let ls=now();es.startTime=ls,es.requestRecord=[],es.handledRequestStruct=[],es.handledRequestStructSecond=[],es.requestCount=0,es.routeCount=0,es.wsCount=0,es.identify=uuid(),es.handledRouteRequest=[],es.handledRouteRequestSecond=[],es.handledSpan=[],v$8(GC.ROUTE_CHANGE_START,function(cs){es.routeCount=es.routeCount+1,es.relatedRoute=!0,cs.info.id=es.identify}),v$8(GC.ROUTE_CHANGE_END+es.identify,function(cs){var fs;es.routeCount=es.routeCount-1,isDefined(cs.routeData)&&es.relatedRoute&&0<es.handledRouteRequest.length&&es.routeCount===0?((fs=JSON.parse(JSON.stringify(cs.routeData))).revts=es.handledRouteRequest,es.handledRequestStruct.push(fs)):es.handledRequestStruct.push(cs.routeData),!isEmpty(f$2.secondSett)&&checkMoudle("routechange")&&(isDefined(cs.routeData)&&es.relatedRoute&&0<es.handledRouteRequestSecond.length&&es.routeCount===0?((fs=JSON.parse(JSON.stringify(cs.routeData))).revts=es.handledRouteRequestSecond,es.handledRequestStructSecond.push(fs)):es.handledRequestStructSecond.push(cs.routeData)),es.hasEmitStart&&es.requestCount===0&&es.wsCount===0&&(d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.WEBSOCKET_CONNECTION_END),R(es))}),v$8(GC.LIFESTYLE_FETCH_START,function(cs){isDefined(cs.info)&&(cs.info.ai=es.identify),es.requestRecord.push(now()),es.requestCount=es.requestCount+1}),v$8(GC.LIFESTYLE_XHR_START,function(cs){isDefined(cs.info)&&(cs.info.ai=es.identify),es.requestRecord.push(now()),es.requestCount=es.requestCount+1}),v$8(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify,function(cs){es.requestCount=es.requestCount+1}),v$8(GC.LIFESTYLE_REQUEST_END+es.identify,function(cs){es.requestCount=es.requestCount-1;var fs,ps=u$1.getEviData("value");isDefined(cs)&&isDefined(cs.requestData)&&isDefined(cs.endTime)&&!es.relatedRoute&&(fs=Q(cs.requestData,f$2.sett,!0),es.handledRequestStruct.push({k:fs.type,ent:fs.ent,sin:fs.sin,v:fs.data,evi:ps}),!isEmpty(f$2.secondSett))&&checkMoudle("network")&&(fs=Q(cs.requestData,f$2.secondSett,!0),es.handledRequestStructSecond.push({k:fs.type,ent:fs.ent,sin:fs.sin,v:fs.data,evi:ps})),es.relatedRoute&&(fs=Q(cs.requestData,f$2.sett,!0),ps=u$1.getEviData("value"),es.handledRouteRequest.push({k:fs.type,ent:fs.ent,sin:fs.sin,v:fs.data,evi:ps}),!isEmpty(f$2.secondSett))&&checkMoudle("network")&&(fs=Q(cs.requestData,f$2.secondSett,!0),es.handledRouteRequestSecond.push({k:fs.type,ent:fs.ent,sin:fs.sin,v:fs.data,evi:ps})),es.requestCount===0&&es.routeCount===0&&es.wsCount===0&&(d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.WEBSOCKET_CONNECTION_END),isDefined(es.loadTime)&&R(es),u$3.turnOffRecord(),u$3.stopPageActivityObserver())}),v$8(GC.CUSTOM_ACTION_END,function(cs){es.endTime=now(),R(es,!0)}),v$8(GC.SPAN_CALLBACK_DATA,function(cs){var fs,ps,us,ms,$s;isDefined(cs.websocketData)&&({type:fs,ent:ps,sin:us,data:ms,evi:$s}=cs.websocketData,cs.websocketData.isRelated=!0,es.handledRequestStruct.push({k:fs,ent:ps,sin:us,v:ms,evi:$s}),checkMoudle("span")&&es.handledRequestStructSecond.push({k:fs,ent:ps,sin:us,v:ms,evi:$s}),es.handledSpan.push(cs.websocketData))}),v$8(GC.WEBSOCKET_CONNECTION_START,function(){es.wsCount=es.wsCount+1}),v$8(GC.WEBSOCKET_CONNECTION_END,function(){es.wsCount=es.wsCount-1,es.requestCount===0&&es.routeCount===0&&es.wsCount===0&&(d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.WEBSOCKET_CONNECTION_END),R(es))}),f$2.sett.pageUrl=d$3({p:{info:{url:isDefined(window.location)?window.location.href:""}}},f$2.sett).p.info.url,isDefined(u$3)&&(u$3.startPageActivityObserver(),u$3.turnOnRecord());var ts,is,ns,rs,ss,as,os,ds=es.target;(isString(ds.tagName)||ds.name||"")!=="BODY"&&(ts=P$3(ds),is="xpath"+unicode("=")+ts+",outerHTML"+unicode("=")+ds.outerHTML,ns=es&&es.type==="click"?1:4,rs=es&&es.target&&es.target.tagName||"",ss={t:getActionText(ds)||ds.innerText||"",c:String(ds.className||""),tag:ds.nodeName||ds.localName||"",id:isDefined(ds.id)?ds.id:""},as=f$2.sett.pageUrl,os=h$5.isClick(ts,ls),es.startEvent={t:ns,n:rs,sa:1,i:is,vn:as,ic:!1,lt:0,is:!1,id:es.identify,m:1,ice:!1,ci:ss,timestamp:ls,vci:f$2.sett.pageViewId,ir:os},es.$startTimer=setTimeout(function(){isDefined(u$3)&&isDefined(checkRecord)&&(checkRecord(u$3.mutationRecord,ls)||checkRecord(u$3.performanceRecord,ls)||checkRecord(es.requestRecord,ls)?(c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:1}),isEmpty(f$2.secondSett)||c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:2}),d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.LIFESTYLE_FETCH_START),d$7(GC.LIFESTYLE_XHR_START),d$7(GC.CUSTOM_ACTION_END),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_START),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.SPAN_CALLBACK_DATA),d$7(GC.WEBSOCKET_CONNECTION_START),d$7(GC.WEBSOCKET_CONNECTION_END),u$3.turnOffRecord(),u$3.stopPageActivityObserver(),es.hasEmitStart=!0):(d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.LIFESTYLE_FETCH_START),d$7(GC.LIFESTYLE_XHR_START),d$7(GC.CUSTOM_ACTION_END),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_START),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.SPAN_CALLBACK_DATA),d$7(GC.WEBSOCKET_CONNECTION_START),d$7(GC.WEBSOCKET_CONNECTION_END),u$3.turnOffRecord(),u$3.stopPageActivityObserver()))},1e3))}catch(ls){log("C151")}}function X(es){try{var ts=now(),is=(isDefined(es.$startTimer)&&clearTimeout(es.$startTimer),d$7(GC.LIFESTYLE_FETCH_START),d$7(GC.LIFESTYLE_XHR_START),d$7(GC.ROUTE_CHANGE_START),d$7(GC.WEBSOCKET_CONNECTION_START),ts-es.startTime);if(es.loadTime=is,es.endTime=ts,isDefined(u$3))if(!es.hasEmitStart&&(0<es.requestRecord.length||checkRecord(u$3.mutationRecord,es.startTime)||checkRecord(u$3.performanceRecord,es.startTime)))es.startEvent.lt=is,c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:1}),isEmpty(f$2.secondSett)||c$2({t:GC.TRACE_ACTION_DATA,p:{info:es.startEvent},type:2}),es.hasEmitStart=!0,es.$timeoutTimer=setTimeout(function(){R(es)},12e4),es.requestCount===0&&es.routeCount===0&&es.wsCount===0&&R(es),u$3.turnOffRecord(),u$3.stopPageActivityObserver();else{if(0<es.handledSpan.length)for(var ns of es.handledSpan)v$4(ns,v$9.spanEvent);d$7(GC.LIFESTYLE_REQUEST_END+es.identify),d$7(GC.CUSTOM_ACTION_END),d$7(GC.LIFESTYLE_CALLBACK_REQUEST_START+es.identify),d$7(GC.ROUTE_CHANGE_END+es.identify),d$7(GC.WEBSOCKET_CONNECTION_END),d$7(GC.SPAN_CALLBACK_DATA)}}catch(rs){log("C152")}}function J(){c$2({t:GC.CUSTOM_ACTION_END})}function V(){on$2(window,"click",W$1,!0),on$2(window,"click",es=>setTimeout(()=>X(es),50),!1)}function e(es,ts){this.lastTimer=null,this.lastEvent=null,this.period=ts||1e3,this.compare=function(){return!1},this.submit=es||NIL_FN}function P$2(es,ts,is){if(!isReadable(es.file)&&ts)try{for(var ns,rs=/[@(\s]+?([\S]+):(\d+):(\d+)\)?/,ss=/[@(\s]+?([\S]+):(\d+)\)?/,as=/([^@(\s)]+):(\d+):(\d+)/,os=/([^@(\s)]+):(\d+)/,ds=ts.split(`
`),ls=!0,cs=function(ms){return ms=Number(ms),isNaN(ms)?0:ms},fs=0;fs<ds.length;fs++)if(ns=ds[fs],rs.test(ns)||ss.test(ns)){if(!ls||!is){var ps=last(ns.split(/\s+/)),us=as.exec(ps)||os.exec(ps);es.file=us[1].replace(/^\(/,""),es.line=cs(us[2]),es.column=cs(us[3]);break}ls=!1,ds[fs]=""}is&&(es.stack=ds.join(`
`).replace(/\n+/g,`
`).replace(/^\n/,""))}catch(ms){log("C146")}}function v$3(es,ts,is){var ns;isDefined(ts)&&(ns=ts.name||ts.constructor&&ts.constructor.name,es.name=ns&&toString(ns)||"",isReadable(es.message)||(es.message=(isReadable(ns)?ns+": ":"")+ts.message),isReadable(es.file)||(es.file=ts.fileName),isDefined(es.line)||(es.line=ts.lineNumber,es.column=ts.columnNumber),es.stack=ts.stack,P$2(es,es.stack,is))}extend(e.prototype,{$schedule:function(es){isDefined(this.lastTimer)&&clearTimeout(this.lastTimer);var ts=this;this.lastEvent=es,this.lastTimer=delay(function(){ts.submit(ts.lastEvent),ts.lastEvent=null},this.period)},event:function(es){isDefined(this.lastEvent)&&(this.compare(this.lastEvent,es)?(es.info[GC.DURATION]=es.info[GC.START_TIME]-this.lastEvent.info[GC.START_TIME],es.info[GC.TIMESTAMP]=this.lastEvent.info[GC.TIMESTAMP],es.info[GC.START_TIME]=this.lastEvent.info[GC.START_TIME],es.info.count=this.lastEvent.info.count+1):this.submit(this.lastEvent)),this.$schedule(es)},flush:function(){isDefined(this.lastTimer)&&(clearTimeout(this.lastTimer),this.lastTimer=null),isDefined(this.lastEvent)&&(this.submit(this.lastEvent),this.lastEvent=null)},equalsWith:function(es){"apply"in es&&(this.compare=es)}});var E$3=new e(function(es){c$2({t:GC.ERROR_DATA,p:es})},f$2.sett.debounce);function y$2(es,ts){es={info:extend(es,{message:withLength(es.message,200),duration:0,type:isDefined(es.type)?es.type:0,count:1,file:withLength(es.file,200)||"<anonymous>",stack:withLength(es.stack,5e3)})},isDefined(ts)&&(es.ext=ts),E$3.event(es)}function T$3(){window.onerror=hack(window.onerror,function(es,ts,is,ns,rs){es=extend({message:es,line:is,column:ns,file:ts,type:3},getTime()),v$3(es,rs),y$2(es)})}function U$3(){T$3(),v$8(GC.PAGE_READY,function(){T$3()}),addListener(window,"error",function(es){var ts=es.target||es.srcElement;isDefined(ts)&&(ts instanceof HTMLScriptElement||ts instanceof HTMLLinkElement||ts instanceof HTMLImageElement)&&c$2({t:GC.ERROR_DATA,p:{info:extend({message:xpath(ts),duration:0,type:1,count:1,file:withLength(ts.src||es.filename,200),line:0,column:0,stack:""},getTime())}})},!0),addListener(window,"unhandledrejection",function(es){var ts;isDefined(es)&&(isString(es.reason)?(ts=extend({message:es.reason,line:0,column:0},getTime()),isDefined(es.type)&&(ts.type=2),y$2(ts)):h$4(es.reason))},!0)}function h$4(es){if(!isDefined(es))return log("C122");var ts,is=getTime();typeof es=="string"?(is.message=es,v$3(is,es=new Error(es),!0)):window.ErrorEvent&&es instanceof ErrorEvent?(extend(is,{message:es.message,line:es.lineno,column:es.colno,file:es.filename}),v$3(is,es.error),isReadable(is.file)||es.target&&(is.file=es.target.baseURI)):(v$3(is,es),typeof es.type=="number"?is.type=es.type:is.type=3,ts=es.ext),y$2(is,ts)}function g$4(){console&&console.error&&(console.error=h$3(console.error,null,d$1))}function h$3(es,ts,is){var ns;return es.$original?es:((ns=function(){var rs=args(arguments);try{return isDefined(ts)&&ts.apply(this,rs),rs[0]instanceof Error&&h$4(rs[0]),es.apply(this,rs)}catch(ss){throw ss}finally{is.apply(this,rs)}}).$original=es,ns)}function d$1(){var es;console.$bonree||(es={lv:"error",msg:E$2(args(arguments))},c$2({t:GC.CONSOLE_DATA,p:{info:es}}))}function E$2(es){return es&&isArray(es)?map(es,function(ts){return S(ts=ts===void 0?String(ts):ts)}).join(" "):es}function S(es){let ts;if(isString(es))return es;if(es instanceof Error||es instanceof Function)return String(es);try{ts=stringify(es)}catch(is){ts=String(es)}return ts}E$3.equalsWith(function(es,ts){function is(ns){return ns.message+ns.line+ns.column}return is(es.info)===is(ts.info)}),v$8(GC.FLUSH_DATA,function(){E$3.flush()});var C$2=!1,h$2=[],l$1=[];let A$1,d,M$1;var m$2=[],I$3=[],K=!1,s$3=0;function W(){if(!isDefined(window.PerformanceObserver))return log("C113");var es=new PerformanceObserver(function(ts){forEach(ts.getEntries(),function(is){is.name==="first-paint"&&(A$1=is[GC.START_TIME]&&is[GC.START_TIME]||""),is.name==="first-contentful-paint"&&(d=is[GC.START_TIME]&&is[GC.START_TIME]||""),is.entryType==="largest-contentful-paint"&&(M$1=is.renderTime||is.loadTime||"")})});try{es.observe({entryTypes:["paint","largest-contentful-paint"]})}catch(ts){log("C114")}}function j$1(es){var ts,is;return u$1.state?(isDefined(A$1)&&isDefined(d)||!window.performance.getEntriesByType||forEach(window.performance.getEntriesByType("paint"),function(ns){ns.name==="first-paint"&&(A$1=ns[GC.START_TIME]&&ns[GC.START_TIME]||0),ns.name==="first-contentful-paint"&&(d=ns[GC.START_TIME]&&ns[GC.START_TIME]||0)}),isDefined(A$1)||(ts=(is=window.performance.timing)[GC.NAVIGATION_START],is.msFirstPaint&&(log("C111"),A$1=is.msFirstPaint-ts),window.chrome&&window.chrome.loadTimes&&(is=window.chrome.loadTimes())&&is.firstPaintTime&&(log("C112"),A$1=is.firstPaintTime-ts)),{fp:A$1?Math.round(A$1):0,fcp:d?Math.round(d):0,lcp:M$1?Math.round(M$1):0}):log("C110")}function a$1(es,ts){return 0<es?es-ts:0}function z(){var es=window.performance||window.msPerformance||window.webkitPerformance,ts=es.getEntriesByType("resource")||[];return ts.length===0?isDefined(es.timing)?0<es.timing[GC.LOAD_EVENT_END]-es.timing[GC.NAVIGATION_START]?es.timing[GC.LOAD_EVENT_END]-es.timing[GC.NAVIGATION_START]:0:10:(es=map(ts,function(is){return is.responseEnd}).sort((is,ns)=>ns-is),Math.round(es[0]))}function x$1(){var es=d$3({p:{info:{url:f$2.sett.pageUrl}}},f$2.sett).p.info.url;f$2.setData("pageUrl",es),c$2({t:GC.PAGE_LOAD}),ne(),delay(ee,1e3)}function ee(es){C$2||(C$2=!0,c$2({t:GC.RESOURCE_DATA,p:Ee$1(),type:1}),c$2({t:GC.RESOURCE_DATA,p:te(),type:2,special:K}),s$3===0&&(d$7(GC.LIFESTYLE_XHR_START),d$7(GC.LIFESTYLE_FETCH_START),d$7(GC.LIFESTYLE_REQUEST_END+"H5"),c$2({t:GC.RESOURCE_DATA,p:{},type:3,revts:m$2}),isEmpty(f$2.secondSett)||c$2({t:GC.RESOURCE_DATA,p:{},type:4,revts:I$3}))),c$2({t:GC.FLUSH_DATA,p:!!es})}function te(){var es;return window.performance&&window.performance.getEntriesByType?(es=l$1.concat(window.performance.getEntriesByType("resource")),l$1=[],map(es,function(ts){var is,ns,rs=ts[GC.INITIATOR_TYPE],ss=ts.entryType,as=getMineTypeByUrl(ts.name);if(isDefined(ts.name)&&ts.name.indexOf(f$2.sett.uploadAddrHttps)===-1||isDefined(ts.name)&&ts.name.indexOf(f$2.sett.uploadAddrHttp)===-1)return ns={},(is={}).name=d$3({p:{info:{url:ts.name}}},f$2.sett).p.info.url,is[GC.START_TIME]=getFixedMetric(ts,GC.START_TIME),is[GC.INITIATOR_TYPE]=rs,is.entryType=ss,is.ret=as,ns[GC.WORKER_START]=getFixedMetric(ts,GC.WORKER_START),ns[GC.REDIRECT_START]=getFixedMetric(ts,GC.REDIRECT_START),ns[GC.REDIRECT_END]=getFixedMetric(ts,GC.REDIRECT_END),ns[GC.FETCH_START]=getFixedMetric(ts,GC.FETCH_START),ns[GC.DOMAIN_LOOKUP_START]=getFixedMetric(ts,GC.DOMAIN_LOOKUP_START),ns[GC.DOMAIN_LOOKUP_END]=getFixedMetric(ts,GC.DOMAIN_LOOKUP_END),ns[GC.CONNECT_START]=getFixedMetric(ts,GC.CONNECT_START),ns[GC.CONNECT_END]=getFixedMetric(ts,GC.CONNECT_END),ns[GC.SECURE_CONNECTION_START]=getFixedMetric(ts,GC.SECURE_CONNECTION_START),ns[GC.REQUEST_START]=getFixedMetric(ts,GC.REQUEST_START),ns[GC.RESPONSE_START]=getFixedMetric(ts,GC.RESPONSE_START),ns[GC.RESPONSE_END]=getFixedMetric(ts,GC.RESPONSE_END),ns[GC.RESPONSE_STATUS]=ts[GC.RESPONSE_STATUS],is[GC.DURATION]=isDefined(ts[GC.DURATION])?getFixedMetric(ts,GC.DURATION):ns[GC.RESPONSE_END]-ns[GC.START_TIME],isDefined(ts[GC.DECODED_BODY_SIZE])&&(is[GC.NEXT_HOP_PROTOCOL]=ts[GC.NEXT_HOP_PROTOCOL],ns[GC.TRANSFER_SIZE]=ts[GC.TRANSFER_SIZE],ns[GC.ENCODED_BODY_SIZE]=ts[GC.ENCODED_BODY_SIZE]>=Math.pow(2,64)?Math.pow(2,60):ts[GC.ENCODED_BODY_SIZE],ns[GC.DECODED_BODY_SIZE]=ts[GC.DECODED_BODY_SIZE]),{info:is,metric:ns}})):(log("C116"),[])}function Te(es,ts){var is=performance.timing.domContentLoadedEventEnd-performance.timing.domContentLoadedEventStart;{var ns=es,rs=ts,ss=performance.getEntriesByType("resource"),as=is;let ds,ls=ns;for(;ns+5e3<=5e4;){ls=ns;var os=rs.filter(cs=>cs.startTime<ns+5e3&&ns<cs.startTime+cs.duration);if(os.length){let cs=os[os.length-1];ns=cs.startTime+cs.duration}else{if(!(2<(ds=ss.filter(cs=>!(cs.startTime>=ns+5e3||cs.startTime+cs.duration<=ns))).length))return Math.max(ls,as);{let cs=ds[0];ns=cs.startTime+cs.duration}}}return Math.max(ls,as)}}function Ee$1(){var es,ts,is=window.screen||{},is={timestamp:now(0),title:u$1.title,referrer:document.referrer,charset:document.characterSet||document.charset||"",embed:window.top&&window.self&&window.top!==window.self?1:0,width:is.width||0,height:is.height||0,completed:u$1.state,param:location&&location.search||""},ns=window.performance&&window.performance.timing;return is.supported=isDefined(ns)?1:0,ns?(ns={},es=(ts=window.performance.timing)[GC.NAVIGATION_START]||ts[GC.FETCH_START],ns[GC.NAVIGATION_START]=es||"",ns[GC.UNLOAD_EVENT_START]=a$1(ts[GC.UNLOAD_EVENT_START],es),ns[GC.UNLOAD_EVENT_END]=a$1(ts[GC.UNLOAD_EVENT_END],es),ns[GC.REDIRECT_START]=a$1(ts[GC.REDIRECT_START],es),ns[GC.REDIRECT_END]=a$1(ts[GC.REDIRECT_END],es),ns[GC.FETCH_START]=a$1(ts[GC.FETCH_START],es),ns[GC.DOMAIN_LOOKUP_START]=a$1(ts[GC.DOMAIN_LOOKUP_START],es),ns[GC.DOMAIN_LOOKUP_END]=a$1(ts[GC.DOMAIN_LOOKUP_END],es),ns[GC.CONNECT_START]=a$1(ts[GC.CONNECT_START],es),ns[GC.CONNECT_END]=a$1(ts[GC.CONNECT_END],es),ns[GC.SECURE_CONNECTION_START]=a$1(ts[GC.SECURE_CONNECTION_START],es),ns[GC.REQUEST_START]=a$1(ts[GC.REQUEST_START],es),ns[GC.RESPONSE_START]=a$1(ts[GC.RESPONSE_START],es),ns[GC.RESPONSE_END]=a$1(ts[GC.RESPONSE_END],es),ns[GC.DOM_LOADING]=a$1(ts[GC.DOM_LOADING],es),ns[GC.DOM_INTERACTIVE]=a$1(ts[GC.DOM_INTERACTIVE],es),ns[GC.DOM_CONTENT_LOADED_EVENT_START]=a$1(ts[GC.DOM_CONTENT_LOADED_EVENT_START],es),ns[GC.DOM_CONTENT_LOADED_EVENT_END]=a$1(ts[GC.DOM_CONTENT_LOADED_EVENT_END],es),ns[GC.DOM_COMPLETE]=a$1(ts[GC.DOM_COMPLETE],es),ns[GC.LOAD_EVENT_START]=a$1(ts[GC.LOAD_EVENT_START],es),ns[GC.LOAD_EVENT_END]=a$1(ts[GC.LOAD_EVENT_END],es),ns[GC.FULL_RESOURCE_LOAD_TIME]=z(),is[GC.DURATION]=u$1.state?Math.max(0,ns[GC.LOAD_EVENT_END],ns[GC.LOAD_EVENT_START]):Math.round(tillNow()/1e3),window.performance.getEntriesByType&&isDefined(ts=last(window.performance.getEntriesByType("navigation")))&&(is.type=ts.type,is[GC.NEXT_HOP_PROTOCOL]=ts[GC.NEXT_HOP_PROTOCOL],ns[GC.REDIRECT_COUNT]=ts[GC.REDIRECT_COUNT],ns[GC.TRANSFER_SIZE]=ts[GC.TRANSFER_SIZE],ns[GC.ENCODED_BODY_SIZE]=ts[GC.ENCODED_BODY_SIZE],ns[GC.DECODED_BODY_SIZE]=ts[GC.DECODED_BODY_SIZE],ns[GC.RESPONSE_STATUS]=ts[GC.RESPONSE_STATUS]),extend(ns,es=j$1()),es&&es.fcp&&(ts=Te(es.fcp,h$2)||0,extend(ns,{tti:Math.round(ts)})),{info:is,metric:ns}):(log("C109"),is[GC.DURATION]=tillNow(),{info:is})}function ne(){try{new PerformanceObserver(function(es){h$2=es.getEntries()}).observe({entryTypes:["longtask"]})}catch(es){log("C115")}}function re(){var es;window.performance&&window.performance.getEntriesByType&&(addListener(window.performance,"resourcetimingbufferfull",(es=function(ts){return function(){log("Dump when resource buffer is full");var is=window.performance.getEntriesByType("resource"),is=(c$2({t:GC.RESOURCE_DUMP,p:is}),C$2||(l$1=l$1.concat(is)),ts+"learResourceTimings");is in window.performance&&window.performance[is]()}})("c"),!1),addListener(window.performance,"webkitresourcetimingbufferfull",es("webkitC"),!1))}function ie(){v$8(GC.LIFESTYLE_XHR_START,function(es){isDefined(es.info)&&(es.info.isRelatedH5=!0),s$3+=1}),v$8(GC.LIFESTYLE_FETCH_START,function(es){isDefined(es.info)&&(es.info.isRelatedH5=!0),s$3+=1}),v$8(GC.LIFESTYLE_REQUEST_END+"H5",function(es){--s$3;var ts=Q(JSON.parse(JSON.stringify(es.requestData)),f$2.sett,!0),is=u$1.getEviData("value");m$2.push({k:ts.type,ent:ts.ent,sin:ts.sin,v:ts.data,evi:is}),!isEmpty(f$2.secondSett)&&checkMoudle("network")&&(ts=Q(JSON.parse(JSON.stringify(es.requestData)),f$2.secondSett,!0),I$3.push({k:ts.type,ent:ts.ent,sin:ts.sin,v:ts.data,evi:is})),s$3===0&&(d$7(GC.LIFESTYLE_XHR_START),d$7(GC.LIFESTYLE_FETCH_START),d$7(GC.LIFESTYLE_REQUEST_END+"H5"),c$2({t:GC.RESOURCE_DATA,p:{},type:3,revts:m$2}),isEmpty(f$2.secondSett)||c$2({t:GC.RESOURCE_DATA,p:{},type:4,revts:I$3}))}),addListener(document,"DOMContentLoaded",function(){c$2({t:GC.PAGE_READY})}),document.readyState!=="complete"||C$2?on$2(window,"load",x$1):startWith(document.location.href,"about:")&&startWith(document.URL,"about:")||(x$1.call(),K=!0),on$2(window,"pagehide",function(){E$5(!0)},!1),W(),re()}var O$2=[],A,D$3=[],I$2=[GC.XML_HTTP_REQUEST,GC.FETCH],b$1=function(es,ts){return es[GC.START_TIME]-ts[GC.START_TIME]};function getCookieUserID(){var es=g$9.cookieArr,ts=g$9.configeManage;if(0<es.length)for(let ns=0,rs=es.length-1;ns<=rs;ns++){var is=getCookie(es[ns].rule);if(isDefined(is)&&u$2(is)&&es[ns].index<=g$9.isStopGetValue)return ts[es[ns].index].value=""+is,g$9.checkValueRight()}}function j(ss){var ts,is=ss.url,ns=ss[GC.TIMESTAMP],rs=I$2[ss.type],ss=map(D$3,function(os){if(os.url===is&&I$2[os.type]===rs)return os}),as=(ss.sort(b$1),-1);if(forEach(ss,function(os,ds){if(os[GC.TIMESTAMP]===ns)return as=ds,!1}),!(as<0))return ss=map(O$2,function(os,ds){if(v$2(os,is,rs))return os}),as>=ss.length?(log("C131"),ts=[],window.performance.getEntriesByType&&(ts=map(window.performance.getEntriesByType("resource"),function(os){if(v$2(os,is,rs))return os})),ss=ss.concat(ts)):log("C132"),ss.sort(b$1),ss.length<1||as>=ss.length?void log("C133"):ss[as];log("C130")}function m$1(es){return(es.initiatorType===GC.XML_HTTP_REQUEST||es.initiatorType===GC.FETCH)&&es[GC.START_TIME]>A}function v$2(es,ts,is){return m$1(es)&&endWith(es.name,ts)&&es.initiatorType===is}function L$3(es){return 0<es&&es<600}var extendMetrics=function(es){var ts,is,ns;return window.performance&&window.performance.now?L$3((ts=es.info).status||ts.code)?isDefined(is=j(ts))?(ns=es.metric,ts[GC.START_TIME]=1e3*getFixedMetric(is,GC.START_TIME),ts[GC.TIMESTAMP]=1e3*(ts[GC.START_TIME]/1e3+window.performance.timing.navigationStart),ts[GC.DURATION]=1e3*getFixedMetric(is,GC.DURATION),ns[GC.REDIRECT_START]=1e3*getFixedMetric(is,GC.REDIRECT_START),ns[GC.REDIRECT_END]=1e3*getFixedMetric(is,GC.REDIRECT_END),ns[GC.FETCH_START]=1e3*getFixedMetric(is,GC.FETCH_START),ns[GC.DOMAIN_LOOKUP_START]=1e3*getFixedMetric(is,GC.DOMAIN_LOOKUP_START),ns[GC.DOMAIN_LOOKUP_END]=1e3*getFixedMetric(is,GC.DOMAIN_LOOKUP_END),ns[GC.CONNECT_START]=1e3*getFixedMetric(is,GC.CONNECT_START),ns[GC.CONNECT_END]=1e3*getFixedMetric(is,GC.CONNECT_END),ns[GC.SECURE_CONNECTION_START]=1e3*getFixedMetric(is,GC.SECURE_CONNECTION_START),ns[GC.RESPONSE_START]=1e3*getFixedMetric(is,GC.RESPONSE_START),ns[GC.REQUEST_START]=1e3*getFixedMetric(is,GC.REQUEST_START),ns[GC.RESPONSE_END]=1e3*getFixedMetric(is,GC.RESPONSE_END),isDefined(is[GC.DECODED_BODY_SIZE])&&(ts[GC.NEXT_HOP_PROTOCOL]=is[GC.NEXT_HOP_PROTOCOL],ns[GC.WORKER_START]=1e3*getFixedMetric(is,GC.WORKER_START),ns[GC.TRANSFER_SIZE]=getFixedMetric(is,GC.TRANSFER_SIZE),ns[GC.ENCODED_BODY_SIZE]=getFixedMetric(is,GC.ENCODED_BODY_SIZE),ns[GC.DECODED_BODY_SIZE]=getFixedMetric(is,GC.DECODED_BODY_SIZE))):log("C137"):log("C135"):log("C134"),es},polyfillMetric=function(es){var ts=es.info,is=es.metric;return isDefined(ts[GC.DURATION])||(ts[GC.DURATION]=is[GC.RESPONSE_END]-ts[GC.START_TIME]),isDefined(ts.callbackError)||(ts.callbackError=0),es},queueRequest=function(es){var ts=es.info;L$3(ts.status||ts.code)&&D$3.push(es.info)};function H$2(){A=tillNow()/1e3||0,v$8(GC.RESOURCE_DUMP,function(es){es=map(es.p,function(ts){if(m$1(ts))return ts}),O$2=O$2.concat(es)})}class F{constructor(){this.list={},this.isOpen=!1,this.blackKey=[]}checkIsOpen(){isDefined(f$2.sett.brss)&&!f$2.sett.brss||isDefined(f$2.secondSett.brss)&&!f$2.secondSett.brss?this.isOpen=!1:this.isOpen=!0}getItem(ts,is,ns){var rs=ts+"+"+is;return isDefined(ts)&&this.list[rs]?this.list[rs]:this.setItem(ts,is,ns)}setItem(ts,is,ns){let{urlTotalList:rs,urlWhiteList:ss,urlBlackList:as}=isDefined(f$2.sett.traceConfig)?f$2.sett.traceConfig:{urlTotalList:[],urlBlackList:[],urlWhiteList:[]},os=(isDefined(f$2.secondSett.traceConfig)&&(isDefined(f$2.secondSett.traceConfig.urlTotalList)&&(rs=isDefined(rs)?rs.concat(f$2.secondSett.traceConfig.urlTotalList):f$2.secondSett.traceConfig.urlTotalList),isDefined(f$2.secondSett.traceConfig.urlWhiteList)&&(ss=isDefined(ss)?ss.concat(f$2.secondSett.traceConfig.urlWhiteList):f$2.secondSett.traceConfig.urlWhiteList),isDefined(f$2.secondSett.traceConfig.urlBlackList))&&(as=isDefined(as)?as.concat(f$2.secondSett.traceConfig.urlBlackList):f$2.secondSett.traceConfig.urlBlackList),{});if(isDefined(rs)&&0<rs.length)for(let ds=0,ls=(rs=200<rs.length?rs.slice(0,200):rs).length-1;ds<=ls;ds++)extend(os,this.totalHead(rs[ds],ts,is,ns));if(isDefined(ss)&&0<ss.length)for(let ds=0,ls=(ss=200<ss.length?ss.slice(0,200):ss).length-1;ds<=ls;ds++)this.whiteCheck(ts,ss[ds])&&extend(os,this.whiteHead(ss[ds],ts,is,ns));if(isDefined(as)&&0<as.length)for(let ds=0,ls=(as=200<as.length?as.slice(0,200):as).length-1;ds<=ls;ds++)this.black(ts,as[ds])?extend(os,this.blackHead(as[ds],ts,is,ns)):this.getBlackKey(as[ds]);return 200<Object.keys(os).length&&(os=getElementForNum(os,200)),os=this.delBlackKey(os),this.list[ts+"+"+is]=os}delBlackKey(ts){if(0<this.blackKey.length)for(let is=0,ns=this.blackKey.length-1;is<=ns;is++)isDefined(ts[this.blackKey[is]])&&delete ts[this.blackKey[is]];return this.blackKey=[],ts}getBlackKey(ts){var is=ts&&ts.reqHeaderRules;if(isDefined(is)&&0<is.length&&this.blackKey)for(let ns=0,rs=is.length-1;ns<=rs;ns++)is[ns]&&is[ns].key&&this.blackKey.push(is[ns].key)}totalHead(ts,is,ns,rs){var ss={};return extend(ss,this.constructData(ts,is,ns,rs)),ss}whiteCheck(ts,is){if(is.reqHeaderRules&&0<is.reqHeaderRules.length){if(includes([0,1,2,3,4],is.type)===!1)return!1;switch(is.type){case 0:if(ts==is.rule)return!0;break;case 1:if(startWith(ts,is.rule))return!0;break;case 2:if(endWith(ts,is.rule))return!0;break;case 3:var ns=new RegExp(is.rule);if(ns instanceof RegExp&&ns.test(ts))return!0;break;case 4:if(-1<ts.indexOf(is.rule))return!0;break;default:return!1}}return!1}whiteHead(ts,is,ns,rs){var ss=ts.reqHeaderRules,as={};if(isDefined(ss)&&0<ss.length)for(let os=0,ds=ss.length-1;os<=ds;os++)extend(as,this.constructData(ss[os],is,ns,rs));return as}black(ts,is){if(is.reqHeaderRules&&0<is.reqHeaderRules.length){if(includes([0,1,2,3,4],is.type)===!1)return!1;switch(is.type){case 0:if(ts==is.rule)return!1;break;case 1:if(startWith(ts,is.rule))return!1;break;case 2:if(endWith(ts,is.rule))return!1;break;case 3:var ns=new RegExp(is.rule);if(ns instanceof RegExp&&ns.test(ts))return!1;break;case 4:if(-1<ts.indexOf(is.rule))return!1;break;default:return!0}}return!0}blackHead(ts,is,ns,rs){var ss=ts.reqHeaderRules,as={};if(isDefined(ss)&&0<ss.length)for(let os=0,ds=ss.length-1;os<=ds;os++)extend(as,this.constructData(ss[os],is,ns,rs));return as}checkKey(ts,is,ns){return!(!ns||ns===1)||!(!isDefined(ts)||ts.length>is)&&(is===256?!!/^[0-9a-zA-Z_-]{1,256}$/.test(ts):trim(ts)!="")}constructData(ts,is,ns,rs){var ss={},as=getUserAgent(),os=as&&as.osName+"/"+as.osVersion||f$2.sett.osType&&f$2.sett.typeArr[f$2.sett.osType]||f$2.sett.typeArr[1];if(isDefined(ts)&&isDefined(ts.type)&&this.checkKey(ts.key,256)){if(isDefined(ts.value)&&this.checkKey(ts.value,512)===!1)return;switch(ts.type){case 1:isDefined(ts.value)&&(ss[ts.key]=ts.value);break;case 2:ss[ts.key]={fun:uuidWithLength,len:16,sky:!1};break;case 3:ss[ts.key]={fun:uuidWithLength,len:32,sky:!1};break;case 4:ss[ts.key]={fun:skyData,len:32,sky:!0,url:is,pathname:ns};break;case 5:ss[ts.key]={fun:traceId,len:32,sky:!1};break;case 6:ss[ts.key]="bnro="+os+"_js/"+f$2.sett.agentVersion}}return ss}}let BWexample=new F;function checkBlackAndWhite(es,ts){if(isDefined(es.url)&&(es=(es=es.url).indexOf("http")===0?(is=es.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&{href:es,protocol:is[1],host:is[2],hostname:is[3],port:is[4],pathname:is[5],search:is[6],hash:is[7]}:(is=es.match(/^(file?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&{href:es,protocol:is[1],host:is[2],hostname:is[3],port:is[4],pathname:is[5],search:is[6],hash:is[7]},isDefined(es)))return is=isDefined(es.hostname)?es.hostname:"",es=isDefined(es.pathname)?es.pathname:"",isDefined(is)?BWexample.getItem(is,es,ts):void 0;var is}function skyData(es,ts){return`1-${String(enBase64(skyUuid()))}-${String(enBase64(skyUuid()))}-0-${String(enBase64(f$2.sett.appName))}-${String(enBase64(f$2.sett.appVersion))}-${ts&&String(enBase64(ts))||String(enBase64("/"))}-`+String(enBase64(es))}var p$2={isPeriod:!1,actionID:"",networkID:""};function H$1(es,ts,is){!es.$metric||isDefined((es=es.$metric.metric)[ts])&&!is||(es[ts]=tillNow())}function he$1(es,ts,is){es.$metric&&(es.$metric.info[ts]=is)}function safetySetErrorInfo(es,ts,is,ns,rs){es.$metric&&((es=es.$metric.info)[ts]=is,es[GC.MESSAGE]=rs,es[GC.E_TYPE]=ns)}function P$1(es,ts){let is=ts;ts=getIP(is=getUrl(is=typeof ts!="string"?ts.href||"":is)),this.$$inner||(this.$metric={info:{id:uuid(),url:is.slice(0,4096),ip:ts[0]||"",port:ts[1]||"",method:toUpper(es),type:0,protocalType:-1<is.indexOf("https")?2:1,reqUrlDta:isDefined(f$2.sett.reqURLKey||f$2.secondSett.reqURLKey)&&getParams(is)||"",reqhtData:{},reshtData:{}}},isDefined(f$2.sett)&&isDefined(f$2.sett.pageViewId)&&(this.$metric.info.pageViewId=f$2.sett.pageViewId))}function getParams(es){return isDefined(es)?String.prototype.split.call(es,"?")[1]:""}function ue$1(es){if(this.$metric&&!this.$$done){this.$$done=!0;var ts,is=this.$metric,ns=is.info,rs=is.metric;extendMetrics(is),polyfillMetric(is);try{if((!isDefined(rs[GC.DECODED_BODY_SIZE])||rs[GC.DECODED_BODY_SIZE]<=0)&&(ts=this.responseType===""||this.responseType==="text"?getContentSize(this.responseText):getContentSize(this.response),rs[GC.DECODED_BODY_SIZE]=ts),this.getAllResponseHeaders){var ss=this.getAllResponseHeaders(),as=ss,os=toLower(as),ds=as.trim().split(/[\r\n]+/),ls={},cs=(ds.forEach(function(us){var us=us.split(": "),ps=us.shift(),us=us.join(": ");ls[ps]=us}),ns.guid=isDefined(ls[GC.GUID_KEY])&&ls[GC.GUID_KEY].split(",")[0]||"",ns.xBrResponse=isDefined(ls[GC.X_BR_RESPONSE])&&ls[GC.X_BR_RESPONSE].split(",")[0]||"",ns.traceResponse=isDefined(ls[GC.TRACE_RESPONSE])&&ls[GC.TRACE_RESPONSE].split(",")[0]||"",ns[GC.RESPONSE_HEADER]=withLength(as,2e3),[]);if(isDefined(f$2.sett.respHeaderTraceKey)&&0<f$2.sett.respHeaderTraceKey.length||isDefined(f$2.secondSett.respHeaderTraceKey)&&0<f$2.secondSett.respHeaderTraceKey.length){isDefined(f$2.secondSett.respHeaderTraceKey)&&0<f$2.secondSett.respHeaderTraceKey.length?cs=isDefined(f$2.sett.respHeaderTraceKey)?f$2.sett.respHeaderTraceKey.concat(f$2.secondSett.respHeaderTraceKey):f$2.secondSett.respHeaderTraceKey:isDefined(f$2.sett.respHeaderTraceKey)&&(cs=f$2.sett.respHeaderTraceKey);for(let fs=0,ps=cs.length-1;fs<=ps;fs++)-1<os.indexOf(toLower(cs[fs]))&&(ns.reshtData[cs[fs]]=this.getResponseHeader(cs[fs]))}getResponseHead(ss)}}catch(fs){log("C123")}c$2({t:GC.REQUEST_DATA,p:is,isRelatedH5:!!isDefined(is.info.isRelatedH5)}),setTimeout(function(){getCookieUserID()},50)}}function getResponseHead(es){if(0<(es=es.trim()).length){let rs=es.split(/[\r\n]+/),ss={};rs.forEach(function(ds){var ds=ds.split(": "),os=ds.shift(),ds=ds.join(": ");ss[os]=ds});var ts=g$9.responseArr,is=g$9.configeManage;if(0<ts.length)for(let as=0,os=ts.length-1;as<=os;as++){var ns=ts[as].rule.toLowerCase();if(ss.hasOwnProperty(ns)&&ts[as].index<=g$9.isStopGetValue&&u$2(ss[ns]))return is[ts[as].index].value=""+ss[ns],g$9.checkValueRight()}}}function U$2(es){return isFunction(prop(es.onreadystatechange,"$$original"))}function $(es){return es.readyState===0||es.readyState===4}function pe$1(){D$2.call(this),U$2(this)||($(this)?T$2.call(this):this.onreadystatechange=hack(this.onreadystatechange,D$2,T$2,q))}function D$2(){isDefined(this.$metric)&&isDefined(this.$metric.info)&&isDefined(this.$metric.info.ai)&&!p$2.isPeriod&&p$2.networkID!==this.$metric.info.id&&(p$2.isPeriod=!0,p$2.actionID=this.$metric.info.ai,p$2.networkID=this.$metric.info.id,c$2({t:GC.XHR_CALLBACK_IDENTIFY,info:p$2})),this.readyState===2&&H$1(this,GC.RESPONSE_START),$(this)&&(H$1(this,GC.RESPONSE_START),H$1(this,GC.RESPONSE_END),H$1(this,GC.CALLBACK_START))}function T$2(){if($(this)){p$2.isPeriod=!1,c$2({t:GC.XHR_CALLBACK_IDENTIFY,info:p$2});let is=now();H$1(this,GC.CALLBACK_END);var es=this;if(this.$metric){var ts=0;try{ts=this.status,this.$metric.info[GC.E_TYPE]="http"}catch(ns){log("C124")}ts===0&&(this.$metric.info[GC.E_TYPE]="XHR",this.$metric.info[GC.MESSAGE]="XHR internal services not available or Cross domain request"),this.$metric.info.code=ts,queueRequest(this.$metric),delay(function(){log("C125"),ue$1.call(es,is)})}}}function q(){log("C126"),h$4(last(args(arguments))),he$1(this,"callbackError",1)}function L$2(es,ts,is){var ns;(isDefined(f$2.sett.reqHeaderTraceKey)||isDefined(f$2.secondSett.reqHeaderTraceKey))&&(ns=[],isDefined(f$2.secondSett.reqHeaderTraceKey)&&0<f$2.secondSett.reqHeaderTraceKey.length?ns=isDefined(f$2.sett.reqHeaderTraceKey)?f$2.sett.reqHeaderTraceKey.concat(f$2.secondSett.reqHeaderTraceKey):f$2.secondSett.reqHeaderTraceKey:isDefined(f$2.sett.reqHeaderTraceKey)&&(ns=f$2.sett.reqHeaderTraceKey),isDefined(ns))&&includes(ns.map(function(rs){return rs.toLowerCase()}),es.toLowerCase())&&(is.info.reqhtData[es]=ts)}function x(es){if(!this.$$inner&&isDefined(this.$metric)){p$2.isPeriod&&(this.$metric.info.ai=p$2.actionID,this.$metric.info.parentNetworkID=p$2.networkID,c$2({t:GC.LIFESTYLE_CALLBACK_REQUEST_START+this.$metric.info.ai})),c$2({t:GC.LIFESTYLE_XHR_START,info:isDefined(this.$metric.info)?this.$metric.info:null});var ts,is,ns=this,rs=(BWexample.checkIsOpen(),isDefined(this.$metric.info)&&BWexample.isOpen&&(this.$metric.info.timestamp=now(),isDefined(rs=checkBlackAndWhite(this.$metric.info,"_xhr")))&&isObj(rs)&&forEachOwn(rs,function(as,os){var ds;isObj(as)?(ds=as.sky?as.fun(as.url,as.pathname):as.fun(as.len),ns.setRequestHeader(os,ds),L$2(os,ds,ns.$metric)):(startWith(as,"bnro=")&&(as+="_xhr_XMLHttpRequest"),ns.setRequestHeader(os,as),L$2(os,as,ns.$metric))}),isFunction(this.addEventListener)?(forEach(["abort","timeout","error"],function(as,os){var ds=["User terminates XHR request","XHR request timeout","XHR request exception"];addListener(ns,as,function(){safetySetErrorInfo(ns,"code",600+Number(os),"XHR",ds[os])},!1)}),addListener(this,"readystatechange",pe$1,!1)):(ts=3,(is=function(){delay(function(){if($(ns)&&!U$2(ns))return T$2.call(ns);$(ns)||(ns.onreadystatechange=hack(ns.onreadystatechange,D$2,T$2,q),0<=--ts&&is())})})()),this.onreadystatechange=hack(this.onreadystatechange,D$2,T$2,q),this.$metric.info),ss=(extend(rs,getTime()),this.$metric.metric={});try{rs[GC.REQUEST_BODY]=getRequestParam(es),ss[GC.UPLOAD_BODY_SIZE]=getContentSize(es)}catch(as){log("C127")}}}function de(es,ts){if(u$2(ts)){var is=g$9.requestArr,ns=g$9.configeManage;if(0<is.length){for(let rs=0,ss=is.length-1;rs<=ss;rs++)if(is[rs].rule==es&&is[rs].index<=g$9.isStopGetValue)return ns[is[rs].index].value=""+ts,g$9.checkValueRight()}}}function M(es,ts){var is;de(es,ts),isDefined(this.$metric)&&(L$2(es,ts,this.$metric),isDefined((is=this.$metric.info)[GC.REQUEST_HEADER])||(is[GC.REQUEST_HEADER]=""),is[GC.REQUEST_HEADER]=is[GC.REQUEST_HEADER]&&is[GC.REQUEST_HEADER]+GC.BREAK_LINE+es+":"+ts||es+":"+ts)}function le$1(){if(!window.XMLHttpRequest)return log("C128");var es;XMLHttpRequest.prototype?(XMLHttpRequest.prototype.open=hack(XMLHttpRequest.prototype.open,P$1),XMLHttpRequest.prototype.send=hack(XMLHttpRequest.prototype.send,x),XMLHttpRequest.prototype.setRequestHeader=hack(XMLHttpRequest.prototype.setRequestHeader,M)):(log("C129"),es=window.XMLHttpRequest,window.XMLHttpRequest=function(){var ts=new es;return ts.open=hack(ts.open,P$1),ts.send=hack(ts.send,x),ts.setRequestHeader=hack(ts.setRequestHeader,M),ts})}var C$1={isPeriod:!1,actionID:"",networkID:""};function le(es){return getRequestParam(es)}function ue(es){return getContentSize(es)}function v$1(es){if(!isDefined(es))return"";var ts="";try{var is,ts=(window.Headers&&es instanceof Headers?map(iterate(es.entries()),function(rs){return rs.join(":")}):(is=[],forEachOwn(es,function(rs,ss){is.push(ss+":"+rs)}),is)).join(GC.BREAK_LINE)}catch(ns){ts="",log("C150")}return ts}function D$1(es){return isDefined(es)&&typeof es!="string"}function I$1(es,ts,is){return is==="headers"&&ts?D$1(es)&&es[is]?extend(ts[is],es[is]):ts[is]:D$1(es)?es[is]:ts?ts[is]:null}function pe(es,ts){return{requestBody:le(I$1(es,ts,"body")),requestHeader:v$1(I$1(es,ts,"headers"))}}function Ee(ns,rs){var is=getUrl(is=D$1(ns)?ns.url:ns),ns=toUpper(I$1(ns,rs,"method"))||"GET",rs=getIP(is);return{id:uuid(),url:is.slice(0,4096),method:ns,ip:rs[0]||"",port:rs[1]||"",protocalType:-1<is.indexOf("https")?2:1,reqUrlDta:isDefined(f$2.sett.reqURLKey||f$2.secondSett.reqURLKey)&&getParams(is)||"",requestType:4}}function O$1(es,ts){var is,ns;es&&(extendMetrics(es),polyfillMetric(es),(!isDefined((is=es.metric)[GC.DECODED_BODY_SIZE])||is[GC.DECODED_BODY_SIZE]<=0)&&(ns=es.ext||{},is[GC.DECODED_BODY_SIZE]=ns.originalResponseSize||0),c$2({t:GC.REQUEST_DATA,p:es,isRelatedH5:!!isDefined(es.info.isRelatedH5)}),setTimeout(function(){getCookieUserID()},50))}function he(){var es=window.fetch;window.fetch=function(os,is){let ns=os;typeof os!="string"&&(ns=os.href||"");var os=isDefined(window.$bonreeReplayUrl)?window.$bonreeReplayUrl:null,rs=Ee(ns,is);if((!D$1(ns)&&ns.indexOf(os)===-1||D$1(ns))&&c$2({t:GC.LIFESTYLE_FETCH_START,info:rs}),C$1.isPeriod&&(rs.ai=C$1.actionID,rs.parentNetworkID=C$1.networkID,c$2({t:GC.LIFESTYLE_CALLBACK_REQUEST_START+rs.ai})),(rs=extend(rs,{reqhtData:{},reshtData:{}})).timestamp=now(),isDefined(f$2.sett)&&isDefined(f$2.sett.pageViewId)&&(rs.pageViewId=f$2.sett.pageViewId),BWexample.checkIsOpen(),BWexample.isOpen&&(extend(rs,{reqhtData:{},reshtData:{}}),isDefined(os=checkBlackAndWhite(rs,"_fetch")))&&isObj(os)&&forEachOwn(os,function(cs,fs){let ps=cs;if(isObj(cs)&&(ps=cs.sky?cs.fun(cs.url,cs.pathname):cs.fun(cs.len)),startWith(cs,"bnro=")&&(ps+="_fetch_fetch"),isDefined(is))if(isDefined(is.headers)){if(is.headers instanceof Headers){var us,ms={};for(us of is.headers.entries())ms[us[0]]=us[1];is.headers=ms}extend(is.headers,{[fs]:ps})}else extend(is,{headers:{[fs]:ps}});else is={headers:{[fs]:ps}}}),is&&is.headers){if(is.headers instanceof Headers){var ss,as={};for(ss of is.headers.entries())as[ss[0]]=ss[1];is.headers=as}U$1(is.headers,rs)}rs.type=1,extend(rs,getTime());var os=es(ns,is),ds=(extend(rs,pe(ns,is)),{info:rs}),ls=ds.metric={};return ls[GC.UPLOAD_BODY_SIZE]=ue(I$1(ns,is,"body")),os.then(function(cs){rs.status=cs.status,rs.statusText=cs.statusText;var fs=ls[GC.RESPONSE_END]=tillNow(),fs=(ls[GC.RESPONSE_START]=ls[GC.CALLBACK_START]=fs,queueRequest(ds),v$1(cs.headers)),ps=fs,us=toLower(ps),ms=ps.trim().split(/[\r\n]+/),$s={};ms.forEach(function(vs){var vs=vs.split(":"),ws=vs.shift(),vs=vs.join(": ");$s[ws]=vs}),rs.guid=isDefined($s[GC.GUID_KEY])&&$s[GC.GUID_KEY].split(",")[0]||"",rs.xBrResponse=isDefined($s[GC.X_BR_RESPONSE])&&$s[GC.X_BR_RESPONSE].split(",")[0]||"",rs.traceResponse=isDefined($s[GC.TRACE_RESPONSE])&&$s[GC.TRACE_RESPONSE].split(",")[0]||"",rs[GC.RESPONSE_HEADER]=withLength(ps,2e3);try{var hs=[];if(isDefined(f$2.sett.respHeaderTraceKey)&&0<f$2.sett.respHeaderTraceKey.length||isDefined(f$2.secondSett.respHeaderTraceKey)&&0<f$2.secondSett.respHeaderTraceKey.length){isDefined(f$2.secondSett.respHeaderTraceKey)&&0<f$2.secondSett.respHeaderTraceKey.length?hs=isDefined(f$2.sett.respHeaderTraceKey)?f$2.sett.respHeaderTraceKey.concat(f$2.secondSett.respHeaderTraceKey):f$2.secondSett.respHeaderTraceKey:isDefined(f$2.sett.respHeaderTraceKey)&&(hs=f$2.sett.respHeaderTraceKey);for(let gs=0,ws=hs.length-1;gs<=ws;gs++)-1<us.indexOf(toLower(hs[gs]))&&(rs.reshtData[hs[gs]]=cs.headers.get(hs[gs]))}}catch(gs){log("C148")}if(getResponseHead(fs),cs.$metric=ds,ls[GC.CALLBACK_END]=tillNow(),ms=tryToClone(cs),ms)try{let gs={bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!0};readBytesFromStream(ms.body,gs,function(ws){ds.ext={originalResponseSize:ws},O$1(ds,cs)})}catch(gs){log("C149")}else O$1(ds);return cs},function(cs){var fs=ls[GC.RESPONSE_END]=tillNow();throw ls[GC.RESPONSE_START]=ls[GC.CALLBACK_START]=ls[GC.CALLBACK_END]=fs,rs.status=window.TypeError&&cs instanceof TypeError?602:600,rs.eType="FETCH",rs[GC.STATUS_TEXT]=rs.status==602?"FETCH request exception":"User terminates FETCH request",O$1(ds),cs}).catch(cs=>{throw cs.type=2,cs})}}function U$1(es,ts){if(isDefined(es)){var is,ns=g$9.requestArr,rs=g$9.configeManage;if(0<ns.length){for(let ss=0,as=ns.length-1;ss<=as;ss++)if(es.hasOwnProperty(ns[ss].rule)&&ns[ss].index<=g$9.isStopGetValue&&u$2(es[ns[ss].rule]))return rs[ns[ss].index].value=""+es[ns[ss].rule],g$9.checkValueRight()}(isDefined(f$2.sett.reqHeaderTraceKey)&&0<f$2.sett.reqHeaderTraceKey.length||isDefined(f$2.secondSett.reqHeaderTraceKey)&&0<f$2.secondSett.reqHeaderTraceKey.length)&&(is=[],isDefined(f$2.secondSett.reqHeaderTraceKey)&&0<f$2.secondSett.reqHeaderTraceKey.length?is=isDefined(f$2.sett.reqHeaderTraceKey)?f$2.sett.reqHeaderTraceKey.concat(f$2.secondSett.reqHeaderTraceKey):f$2.secondSett.reqHeaderTraceKey:isDefined(f$2.sett.reqHeaderTraceKey)&&(is=f$2.sett.reqHeaderTraceKey),Object.keys(es).map(function(ss){includes(is.map(function(as){return as.toLowerCase()}),ss.toLowerCase())&&(ts.reqhtData[ss]=es[ss])}))}}function i$1(){if(!isFunction(window.fetch))return log("C147");v$8(GC.XHR_CALLBACK_IDENTIFY,function(es){C$1=es.info}),he()}function r$2(){le$1(),i$1(),window.performance&&window.performance.now&&H$2()}function p$1(es){var ts=es.data;return isDefined(ts.al)&&ts.al===""&&delete ts.al,es}function s$2(){try{return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?2:1}catch(es){log("C119")}}function routeService(es){var ts=new Metric(es.p,GC.ROUTE),is=s$2(),is=(ts.info(GC.URL,"","tu").info(GC.REFERRER,"","fu").info(GC.DURATION,0,"d").info(GC.STATUS,0,"sta").info(GC.ALIAS,"","al").info(GC.PATH,"","pt").info(GC.ROOT,"","rt").info(GC.FULL_URL,"","pu").info(GC.FRAME_WORK,"","fw").info(GC.CUSTOM_IC,!1,"ic").info(GC.CLIENT_TYPE,is,"ctp").info("pvid","","pvid").info("ns",0,"ns"),isDefined(es.p.info.wri)&&ts.info("wri",[],"wri"),ts.build());return isDefined(es.revts)&&0<es.revts.length&&(is.revts=es.revts),p$1(is)}var O=isDefined(window.location)?window.location:"";function P(){return window?window.Vue!==void 0||window.__VUE__||window.$nuxt&&window.$nuxt._isVue?"Vue":window.React?"React":window.ng!==void 0||isDefined(window.Zone)||isDefined(window.angular)?"Angular":"Other":"Other"}var h$1=[],r$1={};function H(){u$1.setData(GC.TITLE,document.title),u$1.setEviData("n",document.URL),document.title!=""&&u$1.setEviData("vt",document.title),document.referrer&&u$1.setEviData("ru",document.referrer)}function T$1(){if(H(),O.href.split("?")[0]!==(isDefined(location)?location.href:"").split("?")[0]){let ss={id:""};c$2({t:GC.ROUTE_CHANGE_START,info:ss}),isDefined(r$1)&&0<Object.getOwnPropertyNames(r$1).length&&Object.keys(r$1).map(as=>{typeof r$1[as]=="function"&&(r$1[as](),delete r$1[as])}),f$2.sett.isSinglePage=!0,f$2.sett.pageViewId=uuid();var es=extend({},location),ts={info:{uuid:uuid(),timestamp:now(),url:es.href,referrer:extend({},O).href,duration:1e3,status:0,path:es.hash===""?es.pathname:es.hash,root:es.hash===""?es.origin+es.pathname:es.origin+es.pathname+es.hash.replace("#/",""),fullUrl:es.hash!==""?es.origin+es.pathname:es.origin+"/",framework:P(),pvid:f$2.sett.pageViewId,ns:isDefined(performance)&&isDefined(performance.timing)?performance.timing.navigationStart:0}},is=(-1<ts.info.url.indexOf("?")&&(ts.info.url=ts.info.url.split("?")[0]),-1<ts.info.referrer.indexOf("?")&&(ts.info.referrer=ts.info.referrer.split("?")[0]),-1<ts.info.path.indexOf("?")&&(ts.info.path=ts.info.path.split("?")[0]),-1<ts.info.root.indexOf("?")&&(ts.info.root=ts.info.root.split("?")[0]),-1<ts.info.fullUrl.indexOf("?")&&(ts.info.fullUrl=ts.info.fullUrl.split("?")[0]),function(){var as,os,ds,ls,cs;isDefined(r$1)&&isDefined(r$1[ts.info.uuid])&&(isDefined(r$1)&&isDefined(r$1[ts.info.uuid])&&delete r$1[ts.info.uuid],{type:as,ent:os,sin:ds,data:ls}=routeService({p:ts}),cs=u$1.getEviData("value"),c$2({t:GC.ROUTE_CHANGE_END+ss.id,routeData:{k:as,ent:os,sin:ds,v:ls,evi:cs}}))}),ns=(isDefined(r$1)&&(r$1[ts.info.uuid]=is),setTimeout(is,1e3)),rs=new PageActivityManager(function(as){as.forEach(os=>{var ds={st:getFixedMetric(os,GC.START_TIME),name:d$3({p:{info:{url:os[GC.NAME]}}},f$2.sett).p.info.url,dura:isDefined(os[GC.DURATION])?getFixedMetric(os,GC.DURATION):os[GC.RESPONSE_END]-os[GC.START_TIME],rt:getMineTypeByUrl(os[GC.NAME]),fs:getFixedMetric(os,GC.FETCH_START),dls:getFixedMetric(os,GC.DOMAIN_LOOKUP_START),dle:getFixedMetric(os,GC.DOMAIN_LOOKUP_END),cs:getFixedMetric(os,GC.CONNECT_START),ce:getFixedMetric(os,GC.CONNECT_END),scs:getFixedMetric(os,GC.SECURE_CONNECTION_START),reqs:getFixedMetric(os,GC.REQUEST_START),rsps:getFixedMetric(os,GC.RESPONSE_START),rspe:getFixedMetric(os,GC.RESPONSE_END),rs:isDefined(os[GC.RESPONSE_STATUS])?os[GC.RESPONSE_STATUS]:-1};isDefined(os[GC.INITIATOR_TYPE])&&(ds.it=os[GC.INITIATOR_TYPE]),isDefined(os[GC.DECODED_BODY_SIZE])?(ds.ts=os[GC.TRANSFER_SIZE],ds.ebs=os[GC.ENCODED_BODY_SIZE]>=Math.pow(2,64)?Math.pow(2,60):os[GC.ENCODED_BODY_SIZE],ds.dbs=os[GC.DECODED_BODY_SIZE]):(ds.ts=0,ds.ebs=0,ds.dbs=0),isDefined(ds.it)&&(ds.it==="xmlhttprequest"||ds.it==="fetch")||h$1.push(ds)}),isDefined(ns)&&(clearTimeout(ns),ns=setTimeout(is,1e3))});rs.turnOnRecord(),rs.startPageActivityObserver(),is=function(){var as,os,ds,ls,cs;isDefined(r$1)&&isDefined(r$1[ts.info.uuid])?(isDefined(r$1)&&isDefined(r$1[ts.info.uuid])&&delete r$1[ts.info.uuid],0<rs.mutationRecord.length?0<rs.performanceRecord.length?(as=rs.performanceRecord.pop(),os=rs.mutationRecord.pop(),ts.info.duration=0<as-os?as-ts.info.timestamp:os-ts.info.timestamp):ts.info.duration=rs.mutationRecord.pop()-ts.info.timestamp:0<rs.performanceRecord.length&&(ts.info.duration=rs.performanceRecord.pop()-ts.info.timestamp),rs.turnOffRecord(),rs.stopPageActivityObserver(),isDefined(ts)&&isDefined(h$1)&&0<h$1.length&&(ts.info.wri=h$1),{type:as,ent:os,sin:ds,data:ls}=routeService({p:ts}),cs=u$1.getEviData("value"),c$2({t:GC.ROUTE_CHANGE_END+ss.id,routeData:{k:as,ent:os,sin:ds,v:ls,evi:cs}}),isDefined(h$1)&&(h$1=[])):(rs.turnOffRecord(),rs.stopPageActivityObserver())},isDefined(r$1)&&(r$1[ts.info.uuid]=is),O=es}}class b{constructor(ts){this.currentLocation=extend({},ts),O=this.currentLocation}trackHistory(){let ts=history.pushState,is=history.replaceState;isDefined(ts)&&!isDefined(ts.$hasHooked)&&(history.pushState=function(ns,rs,ss){ts.apply(this,[ns,rs,ss]),T$1()},history.pushState.$hasHooked=!0),isDefined(is)&&!isDefined(history.replaceState.$hasHooked)&&(history.replaceState=function(ns,rs,ss){is.apply(this,[ns,rs,ss]),T$1()},history.replaceState.$hasHooked=!0),window.addEventListener("popstate",T$1)}trackHashchage(){window.addEventListener("hashchange",T$1)}init(){this.trackHistory(),this.trackHashchage()}}function k(){var es=new b(isDefined(window.location)?window.location:"");es.init()}var w$1=0;function E$1(es){w$1=1e3*new Date().getTime()}function g$3(es){if(isDefined(es))try{-1<es.constructor.toString().indexOf("String")&&(ts=(isDefined(window.TextEncoder)?new TextEncoder().encode(es):es).length),-1<es.constructor.toString().indexOf("ArrayBuffer")&&(ts=es.byteLength),-1<es.constructor.toString().indexOf("Blob")&&(ts=es.size),-1<es.constructor.toString().indexOf("Array")&&(ts=es.byteLength),-1<es.constructor.toString().indexOf("Uint8Array")&&(ts=es.toString().length||0);var ts,is,ns,rs=isDefined(this.name)?this.name:this.url.split("?")[0];/^[a-zA-Z0-9:_-\s@./]+$/.test(rs)!==!1&&((is=new a$2(rs,"websocket")).setStatus(1),isDefined(is.spanEvent)&&isDefined(is.spanEvent.ic)&&(is.spanEvent.ic=!1),is.setTag("process","send"),is.setTag("connectID",isDefined(this.identify)?this.identify:uuid()),is.setData("url",isDefined(this.handledUrl)?this.handledUrl:this.url),(ns=1e3*new Date().getTime()-w$1)===0&&(ns=999),!isDefined(this.readyState)||this.readyState!==2&&this.readyState!==3||(is.setStatus(2),is.setStatusCode("WebSocket is already in CLOSING or CLOSED state.")),is.setMetric("send",ns,"us"),is.setDuration(ns),is.setMetric("size",ts,"byte"),is.finish())}catch(ss){}}function y$1(){var es=window.WebSocket;window.WebSocket.prototype.send=hack(window.WebSocket.prototype.send,E$1,g$3),window.WebSocket=function(){c$2({t:GC.WEBSOCKET_CONNECTION_START});let ts=1e3*new Date().getTime();var is=arguments[1]===void 0?new es(arguments[0]):new es(arguments[0],arguments[1]),ns=is&&is.url&&-1<is.url.indexOf("?")?is.url.split("?")[0]:is.url,rs=d$3({p:{info:{url:is.url}}},f$2.sett).p.info.url;return is.handledUrl=isDefined(rs)?rs:"",is.identify=uuid(),is.name=isDefined(ns)?ns:"",is.hasHandleConnect=!1,is.addEventListener("open",function(){var ss;/^[a-zA-Z0-9:_-\s@./]+$/.test(ns)!==!1&&((ss=new a$2(ns,"websocket")).spanEvent.st=0,ss.spanEvent.timestamp=ts,ss.setStatus(1),isDefined(ss.spanEvent)&&isDefined(ss.spanEvent.ic)&&(ss.spanEvent.ic=!1),ss.setTag("process","connect"),ss.setTag("connectID",isDefined(is.identify)?is.identify:uuid()),ss.setData("url",is.handledUrl),ss.setDuration(1e3*new Date().getTime()-ts),ss.finish(),is.hasHandleConnect=!0,c$2({t:GC.WEBSOCKET_CONNECTION_END}))}),is.addEventListener("error",function(ss){var as;is.hasHandleConnect||/^[a-zA-Z0-9:_-\s@./]+$/.test(ns)!==!1&&((as=new a$2(ns,"websocket")).spanEvent.st=0,as.spanEvent.timestamp=ts,as.setStatus(2),isDefined(as.spanEvent)&&isDefined(as.spanEvent.ic)&&(as.spanEvent.ic=!1),as.setTag("process","connect"),as.setTag("connectID",isDefined(is.identify)?is.identify:uuid()),as.setData("url",is.handledUrl),as.setDuration(1e3*new Date().getTime()-ts),as.setStatusCode("Websocket connection failed"),as.finish(),is.hasHandleConnect=!0,c$2({t:GC.WEBSOCKET_CONNECTION_END}))}),is},window.WebSocket=extend(window.WebSocket,es),window.WebSocket.prototype=es.prototype}function T(){if(f$2.sett.enableWebsocket!==!1)return window.WebSocket===void 0?log("C157"):window.WebSocket.prototype===void 0?log("C158"):void y$1()}var f={config:NIL_FN,error:NIL_FN,recordCustomActionEnd:NIL_FN,setUserProperties:NIL_FN,incUserProperty:NIL_FN,removeUserProperty:NIL_FN};function y(){if(typeof document=="undefined"||!f$2.sett.probability||window.bonreeRUM)return log("C105"),window.bonreeRUM;k(),U$3(),ie(),r$2(),g$4(),V(),T(),isDefined(f$2.sett.RecordConfiguration||f$2.sett.mc)&&(isDefined(window.BonreeRecord)&&isDefined(window.BonreeRecord.BonreeRecord)?window.stopBonreeRecord=window.BonreeRecord.BonreeRecord(f$2.sett):isDefined(window.BonreeAgent)&&window.BonreeAgent.BonreeRecord?window.stopBonreeRecord=window.BonreeAgent.BonreeRecord(f$2.sett):log("C155"));var es=overwrite(f,{config:function(ts,is=!0,ns=0){isDefined(ts.osType)&&ts.osType===GC.ANDROID&&f$2.sett.osType===GC.ANDROID||(f$2.setConfig.call(f$2,ts,is,ns),isDefined(ts.appId)&&B$5.setAppid(ts))},error:h$4,recordCustomActionEnd:J});isDefined(window)&&(window.bonreeRUM=es),window.bonreeRUM.version=version,window.bonreeRUM.startSpan=function(ts,is){return new a$2(ts,is)},window.bonreeRUM.getSession=function(){return B$5.getSession().sessionID},window.bonreeRUM.getUserInfo=function(){return u$1.getUserInfo()},window.bonreeRUM.updateConfig=function(ts){isDefined(window.stopBonreeRecord)&&(window.stopBonreeRecord(),window.stopBonreeRecordUpload=!0),E$5(),B$5.setAppid(ts)},window.bonreeJsBridge=K$1,window.bonreeRUM=extend(window.bonreeRUM,K$1)}function r(es){var ts=new Metric(es.p,GC.ACTION),ts=(ts.info("t").info("n").info("sa").info("i").info("vn").info("ic").info("p","","p",!0).info("lt").info("is").info("id").info("m").info("ice").info("ci").info("vt",1,"vt").info("vci","","vci").info("ir"),isDefined(es.p.info.me)&&ts.info("me"),ts.build());return isDefined(es.revts)&&0<es.revts.length&&(ts.revts=es.revts),ts}function i(es){return es=new Metric(es.p,GC.CONSOLE),es.info("lv").info("msg","","msg",!0),es.build()}function a(es){var ts=typeof window!="undefined"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"",is=new Metric(es.p,GC.ERROR),ns=isDefined(window.performance)&&isDefined(window.performance.timing)&&performance.timing.navigationStart||1;return isDefined(window.BRLog)&&window.BRLog.__sendErrorInfo(is.data.info),is.info(GC.PAGE_ID,"","pvid").info(GC.PAGE_URL,"","url").info(GC.ERROR_FILE,"","n").info(GC.MESSAGE,"","m").info(GC.ERROR_LINE,0,"l").info(GC.ERROR_COLUMN,0,"col").info(GC.PAGE_CREATE_TIME,1e3*ns,"pct").info(GC.PAGE_TITLE,document.title||"","t").info("type",3,"ect").info("ua",ts,"ua"),isDefined(es.p.info[GC.NAME]&&es.p.info[GC.NAME]!=="")&&is.info(GC.NAME,"","et"),isDefined(es.p.info[GC.ERROR_STACK])&&es.p.info[GC.ERROR_STACK]!==""?is.info(GC.ERROR_STACK,"","sta"):isDefined(is.data.info.file)&&(is.data.info[GC.ERROR_STACK]="undefined at @"+is.data.info.file,is.info(GC.ERROR_STACK,"at undefined @ "+is.data.info.file,"sta")),isDefined(f$2.sett.isSinglePage)?is.info("pt",2,"pt"):is.info("pt",1,"pt"),is.build()}let m={pvid:"",url:"",wpi:{},wri:[],ic:!1,timestamp:isDefined(performance.timing)&&performance.timing.navigationStart?1e3*performance.timing.navigationStart:now()};function g$2(ts){isDefined(ts.p.info[GC.PAGE_ID])&&(m.pvid=ts.p.info[GC.PAGE_ID]),isDefined(ts.p.info[GC.PAGE_URL])&&(m.url=ts.p.info[GC.PAGE_URL]),isDefined(ts.p.info[GC.TITLE])&&ts.p.info[GC.TITLE]!=""&&(m.vt=ts.p.info[GC.TITLE]);var ts=new Metric(ts.p,GC.WEBVIEWDATA),{type:ts,ent:is,sin:ns,data:rs}=(ts.metric(GC.NAVIGATION_START,"","ns").metric(GC.UNLOAD_EVENT_START,0,"ues").metric(GC.FULL_RESOURCE_LOAD_TIME,0,"frlt").metric(GC.UNLOAD_EVENT_END,0,"uee").metric(GC.REDIRECT_START,0,"rds").metric(GC.REDIRECT_END,0,"rde").metric(GC.FETCH_START,0,"fs").metric(GC.DOMAIN_LOOKUP_START,0,"dls").metric(GC.DOMAIN_LOOKUP_END,0,"dle").metric(GC.CONNECT_START,0,"cs").metric(GC.SECURE_CONNECTION_START,0,"scs").metric(GC.CONNECT_END,0,"ce").metric(GC.REQUEST_START,0,"reqs").metric(GC.RESPONSE_START,0,"rsps").metric(GC.RESPONSE_END,0,"rspe").metric(GC.DOM_LOADING,0,"dl").metric(GC.DOM_INTERACTIVE,0,"di").metric(GC.DOM_CONTENT_LOADED_EVENT_START,0,"dcles").metric(GC.DOM_CONTENT_LOADED_EVENT_END,0,"dclee").metric(GC.DOM_COMPLETE,0,"dc").metric(GC.LOAD_EVENT_START,0,"les").metric(GC.LOAD_EVENT_END,0,"lee").metric(GC.FIRST_PAINT,0,"fp").metric(GC.FIRST_CONTENTFUL_PAINT,0,"fcp").metric(GC.LARGEST_CONTENTFUL_PAINT,0,"lcp").metric(GC.TRANSFER_SIZE,0,"ts").metric(GC.ENCODED_BODY_SIZE,0,"ebs").metric(GC.DECODED_BODY_SIZE,0,"dbs").metric("tti",0,"tti").metric(GC.RESPONSE_STATUS,-1,"rs"),m.wpi=ts.build().data,P$4(U(m.wpi,m.url,m.pvid))),ss=u$1.getEviData("value");m$2.push(JSON.parse(JSON.stringify({k:ts,ent:is,sin:ns,v:rs,evi:ss}))),rs.ru=d$3({p:{info:{url:rs.ru}}},f$2.secondSett).p.info.url,I$3.push({k:ts,ent:is,sin:ns,v:rs,evi:ss})}function h(es){forEach(es.p||[],function(ts){let is=new Metric(ts,GC.RESOURCE);is.info(GC.START_TIME,0,"st").info(GC.NAME,"","name").info(GC.DURATION,0,"dura").info("ret","","rt").metric(GC.FETCH_START,0,"fs").metric(GC.DOMAIN_LOOKUP_START,0,"dls").metric(GC.DOMAIN_LOOKUP_END,0,"dle").metric(GC.CONNECT_START,0,"cs").metric(GC.CONNECT_END,0,"ce").metric(GC.SECURE_CONNECTION_START,0,"scs").metric(GC.REQUEST_START,0,"reqs").metric(GC.RESPONSE_START,0,"rsps").metric(GC.RESPONSE_END,0,"rspe").metric(GC.TRANSFER_SIZE,0,"ts").metric(GC.ENCODED_BODY_SIZE,0,"ebs").metric(GC.DECODED_BODY_SIZE,0,"dbs").metric(GC.RESPONSE_STATUS,-1,"rs"),isDefined(ts.info)&&isDefined(ts.info[GC.INITIATOR_TYPE])&&is.info(GC.INITIATOR_TYPE,"","it");var ns=is.build().data,rs=u$1.getEviData("value");if(rs&&(ns.evi=rs),isDefined(ns.it)&&!es.special){if(ns.it!=="xmlhttprequest"&&ns.it!=="fetch"){m.wri.push(ns);let{type:ss,ent:as,sin:os,data:ds}=P$4(C(ns));m$2.push(JSON.parse(JSON.stringify({k:ss,ent:as,sin:os,v:ds,evi:rs}))),ds.ru=d$3({p:{info:{url:ds.ru}}},f$2.secondSett).p.info.url,I$3.push({k:ss,ent:as,sin:os,v:ds,evi:rs})}}else m.wri.push(ns)})}function L$1(es){var ts,is;return isEmpty(m.wpi)?null:(is=u$1.getEviData("value"),(ts=new Metric({info:m},GC.WEBVIEWDATA)).info("pvid","","pvid").info("url","","url").info("wpi",{},"wpi").info("ic",!1,"ic").info("vt","","vt",!0).info("evi",is),0<m.wri.length&&ts.info("wri",[],"wri"),isDefined(es.revts)&&0<es.revts.length?((is=ts.build()).revts=es.revts,is):ts.build())}function U(es,ts,is){if(ts!=="about:blank"){let ns=es,rs=getIP(ts),ss=getMineTypeByUrl(ts)||"text/html",as=1e3*(ns.dle-ns.dls),os=(as<0&&(as=0),1e3*(ns.ce-ns.scs)||-1),ds=((os<0||ns.scs===0)&&(os=0),1e3*(ns.reqs-ns.ce)||-1),ls=(ds<-1?ds=999:ds===-1&&(ds=0),1e3*(ns.rsps-ns.reqs)||-1),cs=(ls<-1?ls=999:ls===-1&&(ls=0),0);return(cs=ns.rsps===0?1e3*(ns.rspe-ns.fs)||-1:1e3*(ns.rspe-ns.rsps)||-1)<-1?cs=999:cs===-1&&(cs=0),es={info:{id:uuid(),ru:ts,m:"GET",ti:rs[0]||"",tp:rs[1]||"",dt:as,sslt:os,rt:ds,rti:ls,dti:cs,ds:0,rds:0,pt:-1<ts.indexOf("https")?2:1,ec:200,art:1,ret:ss,pvid:is,ic:!1}},es.info.ct=0<ns.ce-ns.cs?1e3*(ns.ce-ns.cs):0,es.info.ti.length<1&&delete es.info.ti,es}}function C(fs){let ts=fs,is=ts.name.slice(0,4096),ns=3;if(isDefined(ts.it))switch(ts.it){case"xmlhttprequest":ns=3;break;case"beacon":ns=5;break;case"fetch":ns=4;break;default:ns=2}let rs=getIP(is),ss=getMineTypeByUrl(is)||"text/html",as=1e3*(ts.dle-ts.dls),os=((as<0||ts.dura<=10)&&(as=0),1e3*(ts.ce-ts.scs)||-1),ds=((os<0||ts.dura<=10||ts.scs===0)&&(os=0),1e3*(ts.reqs-ts.ce)||-1),ls=(ds<-1||ts.dura<=10?ds=999:ds===-1&&(ds=0),1e3*(ts.rsps-ts.reqs)||-1),cs=(ls<-1||ts.dura<=10?ls=999:ls===-1&&(ls=0),0);(cs=ts.rsps===0?1e3*(ts.rspe-ts.fs)||-1:1e3*(ts.rspe-ts.rsps)||-1)<-1||ts.dura<=10?cs=999:cs===-1&&(cs=0);var fs={info:{timestamp:isDefined(ts.st)&&isDefined(window.performance)&&isDefined(window.performance.timing)?1e3*(window.performance.timing.navigationStart+ts.st):now(),id:uuid(),ru:is,m:"GET",ti:rs[0]||"",tp:rs[1]||"",dt:as,sslt:os,rt:ds,rti:ls,dti:cs,ds:0,rds:0,pt:-1<is.indexOf("https")?2:1,ec:200,art:ns,ret:ss,ic:!1,pvid:isDefined(f$2.sett.pageViewId)?f$2.sett.pageViewId:""}},ps=1e3*(ts.ce-ts.cs);return fs.info.ct=0<ps?ps:0,fs}function s$1(es){var ts=new Metric(es.p,GC.SPAN);return ts.info("st").info("n","","n",!0).info("t","","t").info("du",0,"du").info("sta",0,"sta").info("ic",!1,"ic"),isDefined(es.p.info)&&isDefined(es.p.info.da)&&ts.info("da",[],"da"),isDefined(es.p.info)&&isDefined(es.p.info.m)&&ts.info("m",[],"m"),isDefined(es.p.info)&&isDefined(es.p.info.tag)&&ts.info("tag",[],"tag"),isDefined(es.p.info)&&isDefined(es.p.info.stac)&&ts.info("stac","","stac"),isDefined(es.p.info)&&isDefined(es.p.info.sub)&&ts.info("sub",{},"sub"),ts.build()}function L(es){v$8(es,function(ts){if(!isDefined(ts.p))return log("C144");var is=ts.t;isDefined(ts.p)&&isDefined(ts.p.info)&&!isDefined(ts.p.info[GC.PAGE_ID])&&(ts.p.info[GC.PAGE_ID]=f$2.sett.pageViewId,ts.p.info[GC.PAGE_URL]=d$3({p:{info:{url:isDefined(window.location)?window.location.href:""}}},f$2.sett).p.info.url);let ns=u$1.getEviData("value"),rs={};switch(is){case GC.ERROR_DATA:v$4(rs=a(ts),v$9.webviewJSErrorEvent);break;case GC.CONSOLE_DATA:v$4(rs=i(ts),v$9.consoleEvent);break;case GC.REQUEST_DATA:isDefined(ts)&&isDefined(ts.p)&&isDefined(ts.p.info.ai)||isDefined(ts.isRelatedH5)&&ts.isRelatedH5||(isEmpty(f$2.secondSett)||isEmpty(rs=Q(JSON.parse(stringify(ts)),f$2.secondSett))||(isDefined(f$2.secondSett.osType)&&f$2.secondSett.osType!==GC.BROWSER?v$9.NetworkEvent(stringify({ent:rs.ent,v:rs.data,evi:ns}),f$2.secondSett):pushQueueData(rs)),isEmpty(rs=Q(JSON.parse(stringify(ts)),f$2.sett)))||(isDefined(f$2.sett.osType)&&f$2.sett.osType!==GC.BROWSER?v$9.NetworkEvent(stringify({ent:rs.ent,v:rs.data,evi:ns}),f$2.sett):pushQueueData(rs)),isDefined(ts)&&isDefined(ts.p.info)&&isDefined(ts.p.info.ai)&&c$2({t:GC.LIFESTYLE_REQUEST_END+ts.p.info.ai,requestData:JSON.parse(stringify(ts)),endTime:now()}),isDefined(ts.isRelatedH5)&&ts.isRelatedH5&&c$2({t:GC.LIFESTYLE_REQUEST_END+"H5",requestData:JSON.parse(stringify(ts)),endTime:now()}),c$2({t:GC.LIFESTYLE_REQUEST_END,requestData:JSON.parse(stringify(ts)),endTime:now()});break;case GC.SPAN_DATA:isDefined((rs=s$1(ts)).data)&&c$2({t:GC.SPAN_CALLBACK_DATA,websocketData:rs}),rs.isRelated||v$4(rs,v$9.spanEvent);break;case GC.RESOURCE_DATA:if(ts.type===1&&g$2(ts),ts.type===2&&h(ts),ts.type===3&&isDefined(rs=L$1(ts)))if(isDefined(f$2.sett.osType)&&f$2.sett.osType!==GC.BROWSER){let as=window.top&&window.self&&window.top===window.self?1:0;rs.imd=as;var ss={ent:rs.ent,v:rs.data,evi:rs.evi};isDefined(rs.revts)&&0<rs.revts.length&&(rs.revts.map(function(os){return os.v.ru.split("?")[0]==window.location.href.split("?")[0]&&(os.v.imd=as),rs.evi&&(os.evi=rs.evi),os}),ss.revts=rs.revts),checkMoudle("network")||delete ss.revts,v$9.webviewPerformanceTimingEvent(stringify(ss),f$2.sett,as)}else pushQueueData(rs);if(ts.type===4&&isDefined(rs=L$1(ts)))if(isDefined(f$2.secondSett.osType)&&f$2.secondSett.osType!==GC.BROWSER){let as=window.top&&window.self&&window.top===window.self?1:0;rs.imd=as,rs.data.url=d$3({p:{info:{url:rs.data.url}}},f$2.secondSett).p.info.url;var ss={ent:rs.ent,v:rs.data,evi:rs.evi};isDefined(rs.revts)&&0<rs.revts.length&&(rs.revts.map(function(ds){return ds.v.ru.split("?")[0]==window.location.href.split("?")[0]&&(ds.v.imd=as),rs.evi&&(ds.evi=rs.evi),ds}),ss.revts=rs.revts),checkMoudle("network")||delete ss.revts,v$9.webviewPerformanceTimingEvent(stringify(ss),f$2.secondSett,as)}else pushQueueData(rs);break;case GC.TRACE_ACTION_DATA:rs=r(ts),isDefined(ts.type)&&ts.type===1&&(isDefined(f$2.sett.osType)&&f$2.sett.osType!==GC.BROWSER?(ss={ent:rs.ent,v:rs.data,evi:ns},isDefined(rs.revts)&&0<rs.revts.length&&(ss.revts=rs.revts),v$9.webviewActionEvent(stringify(ss),f$2.sett)):pushQueueData(rs)),isDefined(ts.type)&&ts.type===2&&(isDefined(f$2.secondSett.osType)&&f$2.secondSett.osType!==GC.BROWSER?(rs.data.vn=d$3({p:{info:{url:rs.data.vn}}},f$2.secondSett).p.info.url,ss={ent:rs.ent,v:rs.data,evi:ns},isDefined(rs.revts)&&0<rs.revts.length&&(ss.revts=rs.revts),v$9.webviewActionEvent(stringify(ss),f$2.secondSett)):pushQueueData(rs));break;default:log("C118")}})}function I(){L([GC.ROUTE_DATA,GC.ERROR_DATA,GC.CONSOLE_DATA,GC.REQUEST_DATA,GC.TRACE_ACTION_DATA,GC.SPAN_DATA,GC.RESOURCE_DATA,GC.PAGE_DATA])}function v(){function es(){for(var ss=0;ss<ns.length;ss++)ns[ss]()}var ts=!(!window.attachEvent||window.opera),is=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,ns=[],rs=document;rs.ready=function(ss){if(!ts&&!is&&rs.addEventListener)return rs.addEventListener("DOMContentLoaded",ss,!1);var as;1<ns.push(ss)||(ts?function(){try{rs.documentElement.doScroll("left"),es()}catch(os){setTimeout(arguments.callee,0)}}():is&&(as=setInterval(function(){/^(loaded|complete)$/.test(rs.readyState)&&(clearInterval(as),es())},0)))}}function g$1(){return!/BonreeRUM=0/.test(window.location.search)||(f$2.checkProbability(0),0)}function p(){v$8([GC.PAGE_READY,GC.PAGE_LOAD],es=>{es.t===GC.PAGE_READY?u$1.changeState(1):u$1.changeState(2)})}function E(){document&&(u$1.setData(GC.TITLE,document.title),u$1.setEviData("n",document.URL),document.title!=""&&u$1.setEviData("vt",document.title),document.referrer)&&u$1.setEviData("ru",document.referrer)}function D(){if(!g$1())return log("C106",!0),!1;v(),p(),document&&document.ready(E),isDefined(window)&&(window.setJsBridge=function(is){window.bonreePrivateInterface=is});try{var es=document.querySelector("#BonreeAgent");if(!isDefined(es))return!1;var ts=es.getAttribute("data");if(!isJSON(ts=window.decodeURIComponent&&window.decodeURIComponent(ts)))return log("C102",!0),!1;if(isDefined((ts=JSON.parse(ts)).appId)||log("C101",!0),isDefined(window.getIsRunWithNetClient)&&(ts.dataFusionInfo="net"),isDefined(window.bonreeRUM)?window.bonreeRUM.config(ts,!1,1):f$2.setConfig(ts),f$2.sett.initTime=now(),f$2.sett.probability)return!0;log("C103",!0)}catch(is){return log("C102",!0),!1}return!0}let g=D();function w(){window.bonreeRUM?log("C104"):(window.BonreeRecord={BonreeRecord},y(),I(),K$2())}function s(es){if(isDefined(window.getIsRunWithNetClient)&&(es.dataFusionInfo="net"),isDefined(window.bonreeRUM)){if(isDefined(window.bonreeRUM.config))return void window.bonreeRUM.config(es,!1,1)}else f$2.setConfig(es);f$2.sett.initTime=now(),w()}g&&w();let l={BonreeRecord,BonreeStart:s,Sm4:O$7,getDeviceInfo,setExtraInfo:S$5,setUserID:K$5};return window.BonreeAgent=l,exports.BonreeRecord=BonreeRecord,exports.BonreeStart=s,exports.Sm4=O$7,exports.getDeviceInfo=getDeviceInfo,exports.setExtraInfo=S$5,exports.setUserID=K$5,exports}({});

</script>

</body>
</html>
